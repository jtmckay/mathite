{"version":3,"sources":["styles.js","views/Home/index.js","components/Draw/index.js","components/StyledInput/index.js","views/Draw/index.js","utils/qs/index.js","utils/math/getColor.js","utils/math/ignoreList.js","utils/math/mathml.js","utils/math/index.js","utils/localStorage.js","containers/qsContext.js","components/MathML/index.js","components/ObjectProperty/index.js","components/StyledTextarea/index.js","components/ObjectCreator/index.js","components/TableGenerator/index.js","components/RightFloater/index.js","components/buttons/Search/index.js","components/buttons/Save/index.js","icons/pickaxe.svg","components/buttons/Material/index.js","icons/anvil.svg","components/buttons/Forge/index.js","icons/crown.svg","components/buttons/Command/index.js","icons/easel.svg","components/buttons/Review/index.js","components/DataGrid/index.js","components/Graph/index.js","components/Accordion/index.js","components/FunctionSearch/index.js","views/Equation/index.js","components/Cell/index.js","components/Autocomplete/index.js","components/EditCell/index.js","views/Sheet/index.js","views/Data/index.js","components/Header/index.js","components/Help/index.js","components/buttons/Help/index.js","components/HelpSheet/index.js","components/HelpEquation/index.js","views/App/index.js","utils/registerServiceWorker.js","index.js"],"names":["primaryColor","secondaryColor","yellow","lightGreen","extraLightGreen","lightGray","extraLightGray","materialColumnWidth","inputFocus","inputShadow","inputStyle","buttonHover","message","offset","StyledMessage","styled","div","Title","StyledLine","StyledLink","styles","Overview","style","fontWeight","to","Draw","props","imageDataUrl","setContext","width","height","penColor","penWidth","penType","useState","positionX","setPositionX","positionY","setPositionY","mouseDown","setMouseDown","sketchElement","useRef","drawWithState","canvas","x","y","startX","startY","endX","endY","context","getContext","beginPath","moveTo","lineTo","strokeStyle","lineWidth","lineCap","stroke","drawLine","setPositionAndDraw","event","draw","boundingRect","current","getBoundingClientRect","changedTouches","Object","values","forEach","touch","clientX","left","clientY","top","focus","blur","pageX","window","pageXOffset","pageY","pageYOffset","useEffect","img","Image","src","onload","drawImage","ref","assign","touchAction","outline","tabIndex","onMouseMove","onMouseDown","onMouseUp","onMouseLeave","onTouchStart","onTouchMove","onTouchEnd","StyledInput","input","StyledDrawView","StyledDrawControls","StyledLabel","label","StyledNumberInput","StyledButton","DrawView","innerWidth","innerHeight","setPenWidth","setPenColor","localStorage","getItem","className","type","value","onClick","clearRect","placeholder","onChange","target","setItem","toDataURL","objectToHistory","obj","res","hasProps","keys","prop","text","t","c","objectFromHistory","urlToObject","url","JSON","parse","decodeURI","replace","getEquationFromUrl","urlObject","columnSettingsFromHistory","columnSettings","newColumnSettings","column","newSetting","s","start","i","interval","passToHistory","history","generatorSettings","pushToHistory","newContext","parseInt","l","right","r","somethingWasAdded","shouldAdd","columnSettingsToHistory","newContextString","stringify","length","push","getColor","total","charCodeAt","g","b","color","Math","max","intToHex","hex","toString","ignoreList","mathmlWrapper","title","colorVariable","variable","varText","shouldSub","variableSubscript","subscript","findVarRegex","subMatch","match","slice","RegExp","removeSpace","expandVariableWithColor","expanded","rows","reduce","acc","row","cellAcc","cell","test","addMiMaybe","mathmlTable","extrapolateMathml","beautifyGlobal","padSpecial","operatorValue","operator","response","padOperators","padNumbers","global","rightTag","item","padIgnoreList","padParentheses","cutoffChars","cutoffCharsReverse","masterOpen","masterClose","leftTag","hasLeftTag","hasRightTag","segments","splitGlobal","protectConverted","endAllLeft","endAllRight","stripExtraParentheses","getParenthesesExtent","reverse","semiTrimmedLeft","trimParentheses","semiTrimmedRight","trimOpenParentheses","trimCloseParentheses","nestedLeftSplit","nestedRightSplit","mathml","specials","special","index","revealConverted","regex","open","shouldCutoff","cutoff","firstMatch","textMatch","parenthesesMatch","filteredCutoffChars","filter","filterCutoffChars","includes","join","maskCutoffWhiteList","cutoffWhiteList","key","cutoffChar","whiteListCutoffChars","remainingRegex","divideCutoffRegex","alternateDivideCutoffRegex","maskedText","cutoffMatch","cutoffDivideMatch","cutoffAlternateDivideMatch","unmaskCutoffWhiteList","leftHasPreceding","rightHasPreceding","leftHasTrailing","rightHasTrailing","circularDependencyError","variableRegex","getVariables","useIgnoreList","matches","uniqueMatches","prev","curr","recursiveSolve","inheritedContext","parents","solvableEquation","missingContext","fullMissingContext","variables","requiredContext","solvableContext","resolution","error","parent","sort","a","usableContextVariable","prepared","undefined","solve","solution","evaluate","isNaN","parseFloat","im","stripContext","formatNumber","number","str","parts","split","getLocalStorage","localString","setLocalStorage","valueString","StyledMathML","MathML","MathJax","typesetPromise","typesetClear","this","dangerouslySetInnerHTML","__html","React","StyledContainer","Label","span","getNewContext","previousText","previousVariables","nextVariables","unusedPrevious","unusedNext","NestedProperty","id","info","newInfo","name","ObjectProperty","copyContext","nameStyle","marginTop","marginBottom","trim","map","StyledTextarea","textarea","StyledObjectCreator","Category","Notes","ObjectCreator","onContextChange","category","onCategoryChange","notes","onNotesChange","originalStyledInput","StyledTableGenerator","StyledOverallSection","StyledColumnSection","StyledSettingGroup","StackedColumn","Setting","TableGenerator","columns","columnColorObject","settings","onGeneratorSettingChange","onColumnSettingChange","changeSetting","settingName","newValue","paddingRight","changeColumnSetting","columnName","option","paddingTop","paddingBottom","marginLeft","renderColumns","StyledSearchButton","StyledSearchButtonWithHover","SearchButton","hover","backgroundColor","active","StyledSaveButton","SaveButton","location","StyledMaterialButton","StyledMaterialButtonWithHover","MaterialButton","pickaxe","alt","StyledForgeButton","StyledForgeButtonWithHover","ForgeButton","anvil","StyledCommandButton","StyledCommandButtonWithHover","CommandButton","crown","StyledReviewButton","StyledReviewButtonWithHover","ReviewButton","easel","StyledFrozenTd","FrozenColumnTd","ColumnTd","td","overrideSelect","DataGrid","body","frozenColumns","editState","setEdit","keepEditing","skipTabIndexes","initialSelectionCell","setInitialSelectionCell","shouldHandleBlur","CellComponent","cellComponent","EditCellComponent","editComponent","clickedCell","setClickedCell","selectionRange","setSelectionRange","selectionCurrent","setSelectionCurrent","setHover","selection","setSelection","blurredOnce","setBlurredOnce","shiftModifier","setShiftModifier","ctrlModifier","setCtrlModifier","editorRef","selectionRef","selectText","gridMouseMove","setRangeSelection","gridMouseDown","preventDefault","setSingleSelection","resetSelection","rowIndex","columnIndex","forceSelection","cleanRow","cleanColumn","startRow","endRow","startColumn","endColumn","editorKeyDown","closeEditor","editCell","startingValue","original","callback","save","valueOverride","updateArray","originalArray","newArrayData","cellIndex","data","updateArrayCell","updateArrayRow","filterRow","tabularizeSelection","filterToSelection","position","onKeyDown","onKeyUp","zIndex","opacity","readOnly","deleteArray","columnArray","onBlur","onPaste","clipboardData","items","getAsString","cursor","header","classes","thead","tr","ind","colIndex","numbered","hoverHeaderAndNumberedColor","headerCell","tbody","numberedOffset","Td","edit","padding","editorValue","highlightInitialColor","highlightColor","gridMouseUp","bodyCell","footer","tfoot","footerCell","Graph","labels","iteration","xAxisLabel","graphData","datasets","lineTension","fill","borderColor","pointBorderColor","pointBackgroundColor","hidden","redraw","TopBar","Accordion","toggle","children","StyledFunctionSearch","TitleSection","Close","StyledItem","DeleteButton","SubSection","NoLocal","SearchInput","CategoryLabel","sortByScore","filterWithSort","listObject","regexArray","filterPart","err","equationCategories","equation","score","equations","SelfStateAccordion","isOpen","setIsOpen","FunctionSearch","toggleSearch","deleteLocalFunction","localFunctions","setFilter","searchElement","filteredLocal","filteredPremade","premade","renderLocalEquation","renderPremadeEquation","Component","StyledRoot","StyledMain","StyledSearch","AccordionContents","StyledMaterialSection","StyledMath","StyledGraph","StyledTableScrollableLimit","StyledTableScrollable","StyledDataGrid","Section","StyledSolution","MenuButton","StyledText","Root","state","table","toggleHelp","setState","showHelp","setLocalStorageAccordionState","accordionState","showSearch","toggleMaterial","showMaterial","toggleForge","showForge","toggleReview","showReview","toggleWield","showWield","toggleCommand","showCommand","getLocalStorageFunctions","setLocalStorageFunctions","localStorageFunctions","getLocalStorageAccordionState","saveLocalFunction","date","Date","now","path","search","generateTable","nextProps","missingVariables","currentProps","currentMissingVariables","some","previous","next","newState","generatorColumns","runner","simpleContext","cells","calculateIteration","Number","toFixed","solveWithAddedContext","oldHistoryObject","newHistoryObject","cleanedHistoryObject","historyObject","passCleanedSettingsToHistory","display","tableGenerated","colorVariables","textAlign","borderRadius","boxShadow","RightFloater","withQsContext","withRouter","qsContext","getFromHistory","StyledCell","Value","InheritedValue","Solution","Cell","isInherited","StyledAutocomplete","Suggestions","SuggestionsWithHover","StyledSuggestion","Suggestion","StyledEditCell","onSelect","options","suggestions","setSuggestions","textToMatch","getSuggestions","isMouseControlled","activeIndex","stopPropagation","handleKeyDown","Equation","EditActionBar","Clickable","EditEquation","autocompleteOptions","saveNewFunction","console","log","functionName","EditCell","textValue","StyledSheet","Top","Bottom","Left","Result","RowSection","RowButton","Sheet","defaultValue","useLocalStorage","setLocalFunctions","dataGridEdit","setDataGridEdit","useReducer","action","newEquations","localContext","variableMap","concat","splice","iterator","setEquations","sheetContext","gridBody","equationObject","eqIndex","uniqueMissingContext","getGridBodyMap","equationArray","dispatchEquation","newFunction","existingFunctions","newFunctions","newCurrent","DataView","StyledHeader","AfterImage","TitleLink","LinkHome","ImageWrapper","StyledHelp","Help","StyledHelpButton","StyledHelpButtonWithHover","HelButton","Body","IgnoreList","Item","Text","VerticalGroup","Line","HelpSheet","fontSize","func","href","rel","HelpEquation","StyledApp","Menu","App","setShowHelp","render","Home","isLocalhost","Boolean","hostname","registerValidSW","swUrl","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","catch","ReactDOM","document","getElementById","URL","process","origin","addEventListener","fetch","status","headers","get","indexOf","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.500e6d0b.chunk.js","sourcesContent":["export const primaryColor = '#0064ff' // #0082ff\nexport const secondaryColor = '#0ccf35'\nexport const complementaryColor = '#fe8500'\n\nexport const yellow = '#FC0'\nexport const lightYellow = '#FC06'\n\nexport const lightGreen = `${secondaryColor}40`\nexport const extraLightGreen = `${secondaryColor}20`\n\nexport const lightOrange = '#ffe1b5'\nexport const extraLightOrange = '#ffebcdcc'\n\nexport const lightBlue = 'lightblue'\n\nexport const gray = '#888888'\nexport const lightGray = '#CCC'\nexport const extraLightGray = '#EEE'\n\nexport const backgroundColor = '#777'\n\nexport const materialColumnWidth = 168\n\nexport const materialIterationWidth = 80\n\nexport const inputFocus = extraLightGreen\nexport const inputShadow = `${lightGray}`\n\nexport const inputStyle = `\n    font-family: 'Ubuntu', sans-serif;\n    font-size: 1rem;\n    line-height: 1.2rem;\n    padding: 4px 6px;\n    border-radius: 4px;\n    width: 100%;\n    border: none;\n    box-shadow: 0px 0px 2px 2px ${inputShadow};\n    outline: none;\n    :focus {\n        background-color: ${inputFocus};\n    }\n`\n\nexport function buttonHover (message, offset) {\n    return `\n    :hover {\n        border: white 5px solid;\n        margin: -5px;\n        position: relative;\n        ::after {\n            box-shadow: 0px 3px 3px #CCC;\n            font-weight: bold;\n            content: \"${message}\";\n            position: absolute;\n            top: 45px;\n            right: ${offset}px;\n            background-color: white;\n            border-radius: 15px;\n            padding: 5px;\n            @media (max-width: 600px) {\n                right: 0px;\n            }\n        }\n    }\n`\n}\n","import * as React from 'react'\nimport { Link } from 'react-router-dom'\nimport styled from 'styled-components'\nimport * as styles from 'styles'\n\nconst StyledMessage = styled.div`\n    min-height: 1px;\n    overflow: auto;\n    width: 100%;\n    text-align: center;\n`\n\nconst Title = styled.div`\n    font-size: 1.5rem;\n    margin-top: 10px;\n`\n\nconst StyledLine = styled.div`\n    padding-top: 8px;\n`\n\nconst StyledLink = styled.div`\n    margin: 20px;\n    a {\n        color: ${styles.primaryColor};\n    }\n`\n\nconst Overview = () => {\n    return (\n        <StyledMessage>\n            <br />\n            <Title style={{ fontWeight: 'bold' }}>Mathite</Title>\n            <br />\n            <StyledLine>{'Like an online graphing calculator.'}</StyledLine>\n            <StyledLine>{'Where spreadsheet meets database.'}</StyledLine>\n            <br />\n            <br />\n            <StyledLine>{'Create and share functions.'}</StyledLine>\n            <StyledLine>{'Store data.'}</StyledLine>\n            <StyledLine>{'Apply functions to data.'}</StyledLine>\n            <StyledLine>{'Create graphs.'}</StyledLine>\n            <br />\n            <br />\n            <StyledLink>\n                <Link to='eq'>{'Create a reusable function'}</Link>\n            </StyledLink>\n            <StyledLink>\n                <Link to='sheet'>{'Use functions and create more'}</Link>\n            </StyledLink>\n            <br />\n            <br />\n            <StyledLink>\n                <Link to='draw'>{'Take a break and draw'}</Link>\n            </StyledLink>\n            <br />\n            <br />\n            <br />\n            <br />\n            {/* <StyledLink>\n                <Link to='data'>{'Test the data view'}</Link>\n            </StyledLink> */}\n        </StyledMessage>\n    )\n}\n\nexport default Overview\n","import React, { useEffect, useState, useRef } from 'react'\n\nexport default function Draw (props: {\n    imageDataUrl: Object,\n    setContext: Function,\n    style: Object,\n    height: number,\n    width: number,\n    penColor: string,\n    penWidth: string,\n    penType: string\n}) {\n    const {\n        imageDataUrl,\n        setContext,\n        style,\n        width,\n        height,\n        penColor,\n        penWidth,\n        penType\n    } = props\n    const [positionX, setPositionX] = useState()\n    const [positionY, setPositionY] = useState()\n    const [mouseDown, setMouseDown] = useState()\n\n    const sketchElement = useRef()\n\n    useEffect(() => {\n        const context = sketchElement.current.getContext('2d')\n        if (imageDataUrl) {\n            const img = new Image()\n            img.src = imageDataUrl\n            img.onload = () => {\n                context.drawImage(img, 0, 0)\n            }\n        }\n        setContext(context)\n    }, [imageDataUrl, setContext])\n\n    function drawMouseDown (event) {\n        setPositionAndDraw(event, false)\n        setMouseDown(true)\n    }\n\n    function drawMouseMove (event) {\n        if (mouseDown) {\n            setPositionAndDraw(event)\n        }\n    }\n\n    function drawMouseUp (event) {\n        setPositionAndDraw(event)\n        setMouseDown(false)\n    }\n\n    function drawMouseLeave () {\n        setMouseDown(false)\n    }\n\n    function drawWithState (canvas, x, y) {\n        drawLine(canvas, positionX, positionY, x, y)\n        setPositionX(x)\n        setPositionY(y)\n    }\n\n    function drawLine (canvas, startX, startY, endX, endY) {\n        const context = canvas.getContext('2d')\n        context.beginPath()\n        context.moveTo(startX, startY)\n        context.lineTo(endX, endY)\n        context.strokeStyle = penColor\n        context.lineWidth = penWidth\n        context.lineCap = penType\n        context.stroke()\n    }\n\n    function setPositionAndDraw (event, draw = true) {\n        const boundingRect = sketchElement.current.getBoundingClientRect()\n        if (event.changedTouches) {\n            Object.values(event.changedTouches).forEach(touch => {\n                const x = touch.clientX - boundingRect.left\n                const y = touch.clientY - boundingRect.top\n                if (draw) {\n                    drawWithState(sketchElement.current, x, y)\n                } else {\n                    setPositionX(x)\n                    setPositionY(y)\n                    sketchElement.current.focus()\n                    sketchElement.current.blur()\n                }\n            })\n        } else {\n            const x = event.pageX - boundingRect.left - window.pageXOffset\n            const y = event.pageY - boundingRect.top - window.pageYOffset\n            if (draw) {\n                drawWithState(sketchElement.current, x, y)\n            } else {\n                setPositionX(x)\n                setPositionY(y)\n            }\n        }\n        const context = sketchElement.current.getContext('2d')\n        setContext(context)\n    }\n\n    return (\n        <canvas ref={sketchElement}\n            style={Object.assign({}, { touchAction: 'none', outline: 'none' }, style)}\n            width={width}\n            height={height}\n            tabIndex={0}\n            onMouseMove={drawMouseMove}\n            onMouseDown={drawMouseDown}\n            onMouseUp={drawMouseUp}\n            onMouseLeave={drawMouseLeave}\n            onTouchStart={event => setPositionAndDraw(event, false)}\n            onTouchMove={setPositionAndDraw}\n            onTouchEnd={setPositionAndDraw}>\n        </canvas>\n    )\n}\n","import styled from 'styled-components'\nimport * as styles from 'styles'\n\nconst StyledInput = styled.input`\n    ${styles.inputStyle}\n`\n\nexport default StyledInput\n","import React, { useState } from 'react'\nimport styled from 'styled-components'\nimport * as styles from 'styles'\nimport Draw from 'components/Draw'\nimport StyledInput from 'components/StyledInput'\n\nconst StyledDrawView = styled.div`\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    padding-top: 1rem;\n\n    canvas {\n        border: 1px lightblue solid;\n    }\n\n    input {\n        margin-left: 20px;\n        margin-right: 20px;\n        @media (max-width: 992px) {\n            margin-left: 4px;\n            margin-right: 4px;\n            width: 50px;\n        }\n    }\n`\n\nconst StyledDrawControls = styled.div`\n    position: fixed;\n    top: 1rem;\n    right: 0px;\n    max-width: 600px;\n    display: flex;\n`\n\nconst StyledLabel = styled.label`\n    margin: 5px;\n    white-space: nowrap;\n    width: 35px;\n    padding-right: 20px;\n`\n\nconst StyledNumberInput = styled(StyledInput)`\n    text-align: center;\n\n    :focus {\n        background-color: ${styles.extraLightGray};\n    }\n`\n\nconst StyledButton = styled(StyledInput)`\n    cursor: pointer;\n    width: 200px;\n\n    :focus {\n        background-color: #CCC;\n    }\n`\n\nexport default function DrawView (props) {\n    const [context, setContext] = useState()\n    const width = window.innerWidth - 30\n    const height = window.innerHeight > 500 ? window.innerHeight - 100 : window.innerHeight - 40\n    const [penWidth, setPenWidth] = useState()\n    const [penColor, setPenColor] = useState('#000000')\n\n    function clearImage () {\n        context.clearRect(0, 0, width, height)\n    }\n\n    function handleSetContext (context) {\n        setContext(context)\n        localStorage.setItem('imageDataUrl', context.canvas.toDataURL())\n    }\n\n    const imageDataUrl = localStorage.getItem('imageDataUrl')\n    return (\n        <StyledDrawView>\n            <StyledDrawControls>\n                <StyledButton\n                    className='btn'\n                    type='button'\n                    value='Clear'\n                    onClick={() => clearImage()} />\n                <StyledLabel>Pen Size:</StyledLabel>\n                <StyledNumberInput\n                    type='number'\n                    value={penWidth || ''}\n                    placeholder={1}\n                    onChange={event => setPenWidth(event.target.value)} />\n                <StyledInput\n                    type='color'\n                    value={penColor}\n                    onChange={event => setPenColor(event.target.value)} />\n            </StyledDrawControls>\n            <Draw\n                imageDataUrl={imageDataUrl}\n                width={width}\n                penType='round'\n                height={height}\n                penColor={penColor}\n                penWidth={penWidth || 1}\n                setContext={handleSetContext} />\n        </StyledDrawView>\n    )\n}\n","export function objectToHistory (obj: Object) {\n    const res = {}\n    if (typeof obj !== 'object') return obj\n    let hasProps = false\n    Object.keys(obj).forEach(prop => {\n        if (obj[prop] && (obj[prop].text || obj[prop].context)) {\n            res[prop] = {}\n            res[prop].t = obj[prop].text\n            res[prop].c = objectToHistory(obj[prop].context)\n            if (res[prop].c || res[prop].t) {\n                hasProps = true\n            }\n        }\n    })\n    if (!hasProps) return undefined\n    return res\n}\n\nexport function objectFromHistory (obj: Object) {\n    const res = {}\n    if (typeof obj !== 'object') return obj\n    Object.keys(obj).forEach(prop => {\n        res[prop] = {}\n        res[prop].text = obj[prop].t\n        res[prop].context = objectFromHistory(obj[prop].c)\n    })\n    return res\n}\n\nexport function urlToObject (url: String) {\n    return JSON.parse(decodeURI(url.replace(/^(\\/eq)*\\?/, '')).replace(/[\"~!@#$%&=]/g, '').replace(/`/g, '\"'))\n}\n\nexport function getEquationFromUrl (url: String) {\n    if (!url) {\n        return {}\n    }\n    const urlObject = urlToObject(url)\n    return {\n        text: urlObject.t || '',\n        context: objectFromHistory(urlObject.c || {})\n    }\n}\n\nexport function columnSettingsToHistory (columnSettings) {\n    const newColumnSettings = {}\n    let somethingWasAdded = false\n    Object.keys(columnSettings).forEach(column => {\n        const newSetting = {}\n        let shouldAdd = false\n        if (columnSettings[column].start) {\n            shouldAdd = true\n            newSetting.s = columnSettings[column].start\n        }\n        if (columnSettings[column].interval) {\n            shouldAdd = true\n            newSetting.i = columnSettings[column].interval\n        }\n        if (shouldAdd) {\n            somethingWasAdded = true\n            newColumnSettings[column] = newSetting\n        }\n    })\n    if (somethingWasAdded) {\n        return newColumnSettings\n    } else {\n        return undefined\n    }\n}\n\nexport function columnSettingsFromHistory (columnSettings) {\n    const newColumnSettings = {}\n    Object.keys(columnSettings).forEach(column => {\n        const newSetting = {}\n        if (columnSettings[column].s) {\n            newSetting.start = columnSettings[column].s\n        }\n        if (columnSettings[column].i) {\n            newSetting.interval = columnSettings[column].i\n        }\n        newColumnSettings[column] = newSetting\n    })\n    return newColumnSettings\n}\n\nexport function getFromHistory (history: Object) {\n    const urlObject = history.location.search.length > 1 ? urlToObject(history.location.search) : {}\n    const generatorSettings = {}\n    if (urlObject.l) {\n        generatorSettings.left = urlObject.l\n    }\n    if (urlObject.r) {\n        generatorSettings.right = urlObject.r\n    }\n    return {\n        text: urlObject.t || '',\n        context: objectFromHistory(urlObject.c || {}),\n        generatorSettings,\n        columnSettings: columnSettingsFromHistory(urlObject.s || {})\n    }\n}\n\nexport function passToHistory ({ history, text, context, generatorSettings, columnSettings, pushToHistory = false }: { history: any, text: string, context: Object }) {\n    if (!text && !context) return history.replace()\n    const newContext = {}\n    if (text) {\n        newContext.t = text\n    }\n    if (context) {\n        newContext.c = objectToHistory(context)\n    }\n    if (generatorSettings) {\n        if (generatorSettings.left) {\n            if (parseInt(generatorSettings.left, 10) > 1000) {\n                newContext.l = 1000\n            } else {\n                newContext.l = generatorSettings.left\n            }\n        }\n        if (generatorSettings.right) {\n            if (parseInt(generatorSettings.right, 10) > 1000) {\n                newContext.r = 1000\n            } else {\n                newContext.r = generatorSettings.right\n            }\n        }\n        if (columnSettings) {\n            const newColumnSettings = columnSettingsToHistory(columnSettings)\n            if (newColumnSettings) {\n                newContext.s = newColumnSettings\n            }\n        }\n    }\n    const newContextString = JSON.stringify(newContext).replace(/[`~!@#$%&=_]/g, '').replace(/\"/g, '`')\n    if (newContextString !== '{}' && newContextString.length > 0) {\n        if (pushToHistory) {\n            return history.push('?' + newContextString)\n        } else {\n            return history.replace('?' + newContextString)\n        }\n    } else {\n        if (pushToHistory) {\n            return history.push()\n        } else {\n            return history.replace()\n        }\n    }\n}\n","export default function getColor (text: string): string {\n    let total = 0\n    for (let i = 0; i < text.length; i++) {\n        total += text.charCodeAt(i) * 16\n    }\n    if (total < 1000) {\n        total = 1000 - total\n    }\n    const color = {\n        r: total % 64 * 4,\n        g: 0,\n        b: 0\n    }\n    color.g = (total) % 128 * 2\n    color.b = (total) % 256\n\n    if (color.r > 96 && color.g > 96 && color.b > 96) {\n        // If the colors are all high it will be too light\n        switch (Math.max(color.r, color.g, color.b)) {\n        case color.r:\n            color.g -= 96\n            color.b -= 96\n            break\n        case color.g:\n            color.r -= 96\n            color.b -= 96\n            break\n        case color.b:\n            color.r -= 96\n            color.g -= 96\n            break\n        default:\n            break\n        }\n    } else if (color.r < 128 && color.g < 128 && color.b < 128) {\n        // If the colors are all too low it will be too dark\n        switch (Math.max(color.r, color.g, color.b)) {\n        case color.r:\n            color.r += 128\n            break\n        case color.g:\n            color.g += 128\n            break\n        case color.b:\n            color.b += 128\n            break\n        default:\n            break\n        }\n    } else if ((color.r % color.g + color.g % color.b + color.b % color.r) < 256) {\n        // If the colors are all too close together it will be gray\n        switch (Math.max(color.r, color.g, color.b)) {\n        case color.r:\n            color.r = color.r % 128 + 128\n            break\n        case color.g:\n            color.g = color.g % 128 + 128\n            break\n        case color.b:\n            color.b = color.b % 128 + 128\n            break\n        default:\n            break\n        }\n    }\n    return rgbToHex(color.r, color.g, color.b)\n}\n\nfunction rgbToHex (r, g, b): string {\n    return '#' + intToHex(r) + intToHex(g) + intToHex(b)\n}\n\nfunction intToHex (c: any): string {\n    const hex = c.toString(16)\n    return hex.length === 1 ? '0' + hex : hex\n}\n","const ignoreList = [\n    'undefined',\n    'e',\n    'Infinity',\n    'LN2',\n    'LN10',\n    'log',\n    'LOG2E',\n    'LOG10E',\n    'pi',\n    'phi',\n    'sqrt',\n    'sqrt2',\n    'tau',\n    'abs',\n    'cbrt',\n    'ceil',\n    'cube',\n    'exp',\n    'fix',\n    'floor',\n    'gcd',\n    'hypot',\n    'lcm',\n    'log10',\n    'mod',\n    'norm',\n    'nthroot',\n    'pow',\n    'round',\n    'sign',\n    'mad',\n    'max',\n    'mean',\n    'median',\n    'min',\n    'mode',\n    'prod',\n    'std',\n    'sum',\n    'var',\n    'acos',\n    'acosh',\n    'acot',\n    'acoth',\n    'acsc',\n    'acsch',\n    'asec',\n    'asech',\n    'asin',\n    'asinh',\n    'atan',\n    'atan2',\n    'atanh',\n    'cos',\n    'cosh',\n    'cot',\n    'coth',\n    'csc',\n    'csch',\n    'sec',\n    'sech',\n    'sin',\n    'sinh',\n    'tan',\n    'tanh'\n]\n\nexport default ignoreList\n","import getColor from './getColor'\nimport ignoreList from './ignoreList'\n\nexport function mathmlWrapper ({ title, text }: { title: string, text: string }): string {\n    return `<math title=\"${title}\">${text.replace(/_/g, '')}</math>`\n}\n\nexport function colorVariable ({ text, variable }: { text: string, variable: string }): string {\n    let res = text\n    const varText = variable\n    const shouldSub = variableSubscript({ variable })\n    if (shouldSub.subscript) {\n        res = res.replace(findVarRegex({ variable }), `$1<msub><mi mathcolor=\"${getColor(variable)}\">${shouldSub.variable}_</mi><mn mathcolor=\"${getColor(variable)}\">${shouldSub.subscript}</mn></msub>$3`)\n    } else {\n        res = res.replace(findVarRegex({ variable }), `$1<mrow><mi mathcolor=\"${getColor(variable)}\">${varText}</mi></mrow>$3`)\n    }\n    return res\n}\n\nexport function variableSubscript ({ variable }: { variable: string}) {\n    const subMatch = variable.match(/([0-9]+)$/)\n    if (subMatch) {\n        return {\n            variable: variable.slice(0, variable.length - subMatch[1].length),\n            subscript: subMatch[1]\n        }\n    }\n    return { variable }\n}\n\nexport function findVarRegex ({ variable }: { variable: string }) {\n    return new RegExp(`(^|[^A-Za-z0-9 _])(${removeSpace({ text: variable })})([^A-Za-z0-9 _]|$)`, 'g')\n}\n\nexport function expandVariableWithColor ({ text, variable, expanded }: {text: string, variable: string, expanded: string}): string {\n    let varText = variable\n    const shouldSub = variableSubscript({ variable })\n    if (shouldSub.subscript) {\n        varText = `<msub><mi>${shouldSub.variable}_</mi><mn>${shouldSub.subscript}</mn></msub>`\n    }\n    return text.replace(findVarRegex({ variable }), '$1' + mathmlTable({\n        color: getColor(variable),\n        rows: [\n            [varText],\n            [`<mo>(</mo>${expanded}<mo>)</mo>`]\n        ]\n    }) + '$3')\n}\n\nexport function mathmlTable ({ color, rows }: { color: string, rows: Array<Array<string>>}): string {\n    return `<mtable mathcolor=\"${color}\">${rows.reduce((acc, row) => `${acc}<mtr>${row.reduce((cellAcc, cell) => {\n        return `${cellAcc}<mtd><mrow>${addMiMaybe({ text: cell })}</mrow></mtd>`\n    }, '')}</mtr>`, '')}</mtable>`\n}\n\nexport function addMiMaybe ({ text }: { text: string }): string {\n    if (!/^<.*>$/.test(text)) {\n        return `<mi>${text}</mi>`\n    } else {\n        return text\n    }\n}\n\nexport function extrapolateMathml ({ text }: { text: string }): string {\n    let res = text\n    res = padNumbers({ text: res })\n    res = removeSpace({ text: res })\n    res = padOperators({ text: res })\n    res = padSpecial({ text: res })\n    res = beautifyGlobal({ text: res, global: 'sqrt', rightTag: 'msqrt' })\n    res = beautifyGlobal({\n        text: res,\n        global: '<mo>&divide;</mo>',\n        cutoffChars: ['+', '-', ')', '*'],\n        cutoffCharsReverse: ['+', '-', '*', '/', '('],\n        masterOpen: '<mstyle displaystyle=\"true\"><mfrac>',\n        masterClose: '</mfrac></mstyle>',\n        leftTag: 'mrow',\n        rightTag: 'mrow'\n    })\n    res = padParentheses({ text: res })\n    res = padIgnoreList({ text: res })\n    return res\n}\n\nexport function padNumbers ({ text }: { text: string }): string {\n    let res = text\n    res = res.replace(/(^|[^A-Za-z0-9 ])([0-9]+)/g, '$1<mo>$2</mo>')\n    return res\n}\n\nexport function removeSpace ({ text }: { text: string }): string {\n    let res = text\n    res = res.replace(/(^|[^A-Za-z0-9])( +)($|[^A-Za-z0-9])/g, '$1$3')\n    res = res.replace(/(^|[A-Za-z0-9])( +)($|[^A-Za-z0-9])/g, '$1$3')\n    res = res.replace(/(^|[^A-Za-z0-9])( +)($|[A-Za-z0-9])/g, '$1$3')\n    res = res.replace(/(^|[^A-Za-z0-9])( +)($|[^A-Za-z0-9])/g, '$1$3')\n    return res\n}\n\nexport function padOperators ({ text }: { text: string}): string {\n    const operators = ['\\\\+', '-', '/', '\\\\*']\n    const operatorValue = {\n        '\\\\+': '&plus;',\n        '-': '&minus;',\n        '/': '&divide;',\n        '\\\\*': '&times;'\n    }\n    return operators.reduce((acc, operator) => {\n        let response = acc\n        response = response.replace(new RegExp(`([^</*-+])${operator}`, 'g'), `$1<mo>${operatorValue[operator]}</mo>`) // replace\n        return response\n    }, text)\n}\n\nexport function padSpecial ({ text }: { text: string }): string {\n    let res = text\n    res = res.replace(/([^A-Za-z0-9<>/;#\"'= &()])/g, '<mo>$1</mo>') // replace the rest of the unknown elements\n    return res\n}\n\n/*\n    global: the text to search for\n    rightTag: the tag to surround the extent of parentheses to the right of the global\n    leftTag: the tag to surround the extent of parentheses to the left of the global\n*/\nexport function beautifyGlobal ({\n    text,\n    global,\n    cutoffChars = [],\n    cutoffCharsReverse = [],\n    masterOpen = '',\n    masterClose = '',\n    rightTag = '',\n    leftTag = ''\n}: {\n    text: string,\n    global: string,\n    cutoffChars?: Array<string>,\n    cutoffCharsReverse?: Array<string>,\n    masterOpen?: string,\n    masterClose?: string,\n    rightTag?: string,\n    leftTag?: string\n}): string {\n    let res = text\n    const hasLeftTag = leftTag.length > 0\n    const hasRightTag = rightTag.length > 0\n    res = protectConverted({ text: res })\n    let segments = splitGlobal({ text: res, global })\n    while (segments.length > 1) {\n        let endAllLeft\n        let endAllRight\n        const extentLeft = getParenthesesExtent({ text: segments[0], cutoffChars: cutoffCharsReverse, reverse: true })\n        const extentRight = getParenthesesExtent({ text: segments[1], cutoffChars })\n        const { left, right } = stripExtraParentheses({ left: extentLeft, right: extentRight })\n        const semiTrimmedLeft = trimParentheses({ text: left })\n        const semiTrimmedRight = trimParentheses({ text: right })\n        endAllLeft = trimOpenParentheses({ left: semiTrimmedLeft, right: semiTrimmedRight })\n        endAllRight = trimCloseParentheses({ left: semiTrimmedLeft, right: semiTrimmedRight })\n\n        const nestedLeftSplit = splitGlobal({ text: endAllLeft, global })\n        const nestedRightSplit = splitGlobal({ text: endAllRight, global })\n        if (nestedLeftSplit.length > 1) {\n            endAllLeft = beautifyGlobal({ text: endAllLeft, global, cutoffChars, cutoffCharsReverse, masterOpen, masterClose, rightTag, leftTag })\n        }\n        if (nestedRightSplit.length > 1) {\n            endAllRight = beautifyGlobal({ text: endAllRight, global, cutoffChars, cutoffCharsReverse, masterOpen, masterClose, rightTag, leftTag })\n        }\n\n        const mathml = `${masterOpen}${hasLeftTag ? `<${leftTag}>${endAllLeft}</${leftTag}>` : endAllLeft}${hasRightTag ? `<${rightTag}>${endAllRight}</${rightTag}>` : endAllRight}${masterClose}`\n        res = res.replace(left + global + right, mathml)\n        res = protectConverted({ text: res })\n        segments = splitGlobal({ text: res, global })\n    }\n    res = revealConverted({ text: res })\n    return res\n}\n\nexport function protectConverted ({ text }: { text: string }): string {\n    let res = text\n    specials.forEach((special, index) => {\n        res = res.replace(new RegExp(special, 'g'), `_${index}_`)\n    })\n    return res\n}\n\nconst specials = [\n    'msqrt'\n]\n\nexport function splitGlobal ({ text, global }: { text: string, global: string }) {\n    const regex = new RegExp(`(.*)${global}(.*)`)\n    const match = text.match(regex)\n    if (match && match.length > 1) {\n        return [match[1], match[2]]\n    }\n    return []\n}\n\nexport function getParenthesesExtent (\n    { text, open = 0, reverse = false, cutoffChars = [] }:\n    { text: string, open?: number, reverse?: boolean, cutoffChars?: Array<string> }\n): string {\n    if (!text) return ''\n    if (!reverse) {\n        const match = text.match(/^([^()]*)([()])/)\n        if (!match || match.length === 0) {\n            if (shouldCutoff({ text, open, cutoffChars })) {\n                return cutoff({ text, cutoffChars, reverse })\n            }\n            return text\n        }\n\n        const firstMatch = match[0]\n        const textMatch = match[1]\n        const parenthesesMatch = match[2]\n\n        if (shouldCutoff({ text: textMatch, open, cutoffChars })) {\n            return cutoff({ text: textMatch, cutoffChars, reverse })\n        }\n        const slice = text.slice(firstMatch.length)\n        if (parenthesesMatch === '(') {\n            return firstMatch + getParenthesesExtent({ text: slice, open: open + 1, reverse, cutoffChars })\n        } else {\n            if (open <= 1) {\n                return firstMatch\n            }\n            return firstMatch + getParenthesesExtent({ text: slice, open: open - 1, reverse, cutoffChars })\n        }\n    } else {\n        const match = text.match(/([()])([^()]*)$/)\n        if (!match || match.length === 0) {\n            if (shouldCutoff({ text, open, cutoffChars })) {\n                return cutoff({ text, cutoffChars, reverse })\n            }\n            return text\n        }\n\n        const firstMatch = match[0]\n        const textMatch = match[2]\n        const parenthesesMatch = match[1]\n\n        if (shouldCutoff({ text: textMatch, open, cutoffChars })) {\n            return cutoff({ text: textMatch, cutoffChars, reverse })\n        }\n        const slice = text.slice(0, text.length - firstMatch.length)\n        if (parenthesesMatch === ')') {\n            return getParenthesesExtent({ text: slice, open: open + 1, reverse, cutoffChars }) + firstMatch\n        } else {\n            if (open <= 1) {\n                return firstMatch\n            }\n            return getParenthesesExtent({ text: slice, open: open - 1, reverse, cutoffChars }) + firstMatch\n        }\n    }\n}\n\nexport function shouldCutoff ({ text, cutoffChars, open }: { text: string, cutoffChars: Array<string>, open: number}): boolean {\n    const filteredCutoffChars = cutoffChars.filter(filterCutoffChars)\n    if (open === 0 && cutoffChars.includes('/')) {\n        if (/<\\/mfrac><\\/mstyle>/.test(text) || /<mo>&divide;<\\/mo>/.test(text)) {\n            return true\n        }\n    }\n    if (open === 0 && cutoffChars.includes('*')) {\n        if (/<mo>&times;<\\/mo>/.test(text)) {\n            return true\n        }\n    }\n    if (open === 0 && filteredCutoffChars.length > 0 && new RegExp(`[\\\\${filteredCutoffChars.join('\\\\')}]`, 'g').test(maskCutoffWhiteList({ text }))) {\n        return true\n    }\n    return false\n}\n\nexport function maskCutoffWhiteList ({ text }: { text: string }): string {\n    let res = text\n    Object.keys(cutoffWhiteList).forEach(key => {\n        res = res.replace(new RegExp(key, 'g'), cutoffWhiteList[key])\n    })\n    return res\n}\n\nconst cutoffWhiteList = {\n    '<mo>&plus;</mo>': '+',\n    '<mo>&minus;</mo>': '-',\n    '<mo>&times;</mo>': '*'\n}\n\nexport function filterCutoffChars (cutoffChar: string) {\n    return whiteListCutoffChars.includes(cutoffChar)\n}\n\nexport const whiteListCutoffChars = [\n    '+',\n    '-',\n    '*',\n    '(',\n    ')'\n]\n\nexport function cutoff ({ text, cutoffChars, reverse }: { text: string, cutoffChars: Array<string>, reverse?: boolean}) {\n    const filteredCutoffChars = cutoffChars.filter(filterCutoffChars)\n    const maskedText = maskCutoffWhiteList({ text })\n    let remainingRegex\n    let divideCutoffRegex\n    let alternateDivideCutoffRegex\n    if (reverse) {\n        remainingRegex = new RegExp(`[\\\\${filteredCutoffChars.join('\\\\')}]([^\\\\${filteredCutoffChars.join('\\\\')}]+)$`)\n        divideCutoffRegex = new RegExp(`<mo>&divide;</mo>([^\\\\${filteredCutoffChars.join('\\\\')}]+)$`)\n        alternateDivideCutoffRegex = new RegExp(`</mfrac></mstyle>([^\\\\${filteredCutoffChars.join('\\\\')}]+)$`)\n    } else {\n        remainingRegex = new RegExp(`^([^\\\\${filteredCutoffChars.join('\\\\')}]+)[\\\\${filteredCutoffChars.join('\\\\')}]`)\n        divideCutoffRegex = new RegExp(`^([^\\\\${filteredCutoffChars.join('\\\\')}]+)<mo>&divide;</mo>`)\n        alternateDivideCutoffRegex = new RegExp(`^([^\\\\${filteredCutoffChars.join('\\\\')}]+)<mstyle displaystyle=\"true\"><mfrac>`)\n    }\n\n    const cutoffMatch = maskedText.match(remainingRegex)\n    const cutoffDivideMatch = maskedText.match(divideCutoffRegex)\n    const cutoffAlternateDivideMatch = maskedText.match(alternateDivideCutoffRegex)\n\n    let res = ''\n    if (cutoffMatch) {\n        res = cutoffMatch[1]\n    }\n    if (cutoffDivideMatch) {\n        // Should only enter here if we're dealing with the preceding part of a divide\n        if (!res || cutoffDivideMatch[1].length < res.length) {\n            res = cutoffDivideMatch[1]\n        }\n    }\n    if (cutoffAlternateDivideMatch) {\n        // Should only enter here if we're dealing with the preceding part of a divide\n        if (!res || cutoffAlternateDivideMatch[1].length < res.length) {\n            res = cutoffAlternateDivideMatch[1]\n        }\n    }\n    return unmaskCutoffWhiteList({ text: res })\n}\n\nexport function unmaskCutoffWhiteList ({ text }: { text: string }): string {\n    let res = text\n    Object.keys(cutoffWhiteList).forEach(key => {\n        res = res.replace(new RegExp('\\\\' + cutoffWhiteList[key], 'g'), key)\n    })\n    return res\n}\n\nexport function stripExtraParentheses ({ left, right }: { left: string, right: string }) {\n    // Remove unmatched preceding or trailing parentheses\n    const leftHasPreceding = /^\\(/.test(left)\n    const rightHasPreceding = /^\\(/.test(right)\n    const leftHasTrailing = /\\)$/.test(left)\n    const rightHasTrailing = /\\)$/.test(right)\n    if (leftHasPreceding && !leftHasTrailing && !rightHasPreceding && !rightHasTrailing) {\n        return { left: left.replace(/^\\(/, ''), right }\n    }\n    if (!leftHasPreceding && !leftHasTrailing && !rightHasPreceding && rightHasTrailing) {\n        return { left, right: right.replace(/\\)$/, '') }\n    }\n    return { left, right }\n}\n\nexport function trimParentheses ({ text }: { text: string }): string {\n    return text.replace(/^\\((.*)\\)$/g, '$1')\n}\n\nexport function trimOpenParentheses ({ left, right }: { left: string, right: string }): string {\n    if (/\\)$/.test(right)) {\n        return left.replace(/^\\(/g, '')\n    }\n    return left\n}\n\nexport function trimCloseParentheses ({ left, right }: { left: string, right: string }): string {\n    if (/^\\(/.test(left)) {\n        return right.replace(/\\)$/g, '')\n    }\n    return right\n}\n\nexport function padParentheses ({ text }: { text: string }): string {\n    let res = text\n    res = res.replace(/^(.{0,3})([()])/g, '$1<mo>$2</mo>') // replace at the beginning\n    res = res.replace(/([()])([^()]{0,4})$/g, '<mo>$1</mo>$2') // replace at the end\n    res = res.replace(/([()])(?!<\\/mo>)/g, '<mo>$1</mo>')\n    return res\n}\n\nexport function revealConverted ({ text }: { text: string }): string {\n    let res = text\n    specials.forEach((special, index) => {\n        res = res.replace(new RegExp(`_${index}_`, 'g'), special)\n    })\n    return res\n}\n\nexport function padIgnoreList ({ text }: { text: string }): string {\n    let res = text\n    ignoreList.forEach(item => {\n        res = res.replace(new RegExp(`(^|[^A-Za-z0-9])(${item})($|[^A-Za-z0-9])`, 'g'), '$1<mo>$2</mo>$3')\n    })\n    return res\n}\n","import { evaluate } from 'mathjs'\nimport ignoreList from './ignoreList'\nimport { extrapolateMathml, expandVariableWithColor, colorVariable } from './mathml'\n\nconst circularDependencyError = 'Circular dependency detected'\n\nexport const variableRegex = /([A-Za-z]([A-Za-z0-9 ]*[A-Za-z0-9])*)/g\n\n// parses the text and returns identified variables\nexport function getVariables ({\n    text,\n    useIgnoreList = true\n}: {\n    text: string,\n    useIgnoreList?: boolean\n}): Array<string> {\n    if (!text) return []\n    const matches = text.match(variableRegex)\n    if (!matches) return []\n    const uniqueMatches = matches.reduce((prev, curr) => {\n        if (!prev.includes(curr)) {\n            return [...prev, curr]\n        } else {\n            return prev\n        }\n    }, [])\n\n    if (!useIgnoreList) return uniqueMatches\n\n    return uniqueMatches.reduce((prev, curr) => {\n        if (!ignoreList.includes(curr)) {\n            return [...prev, curr]\n        } else {\n            return prev\n        }\n    }, [])\n}\n\nexport function recursiveSolve ({\n    text = '',\n    context,\n    inheritedContext,\n    parents = []\n}: {\n    text: string,\n    context: Object,\n    inheritedContext: Object,\n    parents: Array<string>\n}): {\n        text: string,\n        context: Object,\n        resolution: { solution?: string, special?: string, error?: string},\n        solvableEquation: string,\n        mathml?: string,\n        missingContext: Array<string>,\n        requiredContext: Array<string>,\n        fullMissingContext: Array<string>\n    } {\n    let solvableEquation = text\n    let mathml = extrapolateMathml({ text })\n    const missingContext = []\n    const fullMissingContext = []\n    const variables: any = getVariables({ text })\n    const requiredContext = [...variables]\n    const solvableContext = { ...context }\n    const response = {\n        text,\n        missingContext,\n        fullMissingContext,\n        requiredContext,\n        context: solvableContext\n    }\n    const resolution = parents.reduce((error, parent) => {\n        if (error.error === circularDependencyError || variables.includes(parent)) {\n            return { error: circularDependencyError }\n        }\n        return error\n    }, {})\n    if (resolution.error) {\n        return {\n            ...response,\n            resolution,\n            solvableEquation,\n            mathml\n        }\n    }\n    variables.sort((a, b) => b.length - a.length).forEach(variable => {\n        if (solvableContext[variable] && solvableContext[variable].text) {\n            const usableContextVariable = solvableContext[variable] || inheritedContext[variable]\n            const prepared = recursiveSolve({\n                text: usableContextVariable.text,\n                context: usableContextVariable.context,\n                inheritedContext: { ...inheritedContext, ...solvableContext },\n                parents: [...parents, variable]\n            })\n            fullMissingContext.push(...prepared.fullMissingContext)\n            if (prepared.resolution.error === circularDependencyError) {\n                resolution.error = circularDependencyError\n                return\n            }\n            solvableContext[variable] = prepared\n            solvableEquation = solvableEquation.replace(new RegExp(variable, 'g'), '(' + prepared.solvableEquation + ')')\n            if (prepared.mathml && variableRegex.test(prepared.mathml)) {\n                mathml = expandVariableWithColor({ text: mathml, variable, expanded: prepared.mathml })\n            } else {\n                mathml = colorVariable({ text: mathml, variable })\n            }\n        } else if (inheritedContext && inheritedContext[variable] && inheritedContext[variable].solvableEquation !== undefined) {\n            solvableEquation = solvableEquation.replace(new RegExp(variable, 'g'), '(' + inheritedContext[variable].solvableEquation + ')')\n            mathml = colorVariable({ text: mathml, variable })\n        } else if (inheritedContext && inheritedContext[variable] && !inheritedContext[variable].text) {\n            solvableEquation = solvableEquation.replace(new RegExp(variable, 'g'), '(' + inheritedContext[variable] + ')')\n            mathml = colorVariable({ text: mathml, variable })\n            fullMissingContext.push(variable)\n        } else {\n            missingContext.push(variable)\n            fullMissingContext.push(variable)\n            mathml = colorVariable({ text: mathml, variable })\n        }\n    })\n    if (resolution.error) {\n        return {\n            ...response,\n            resolution,\n            solvableEquation,\n            mathml\n        }\n    }\n    return {\n        ...response,\n        resolution: solve({ text: solvableEquation, solvableEquation }),\n        solvableEquation,\n        mathml\n    }\n}\n\n// Context in this case is simply an object with variableNames as properties with the values that should be used\nexport function solveWithAddedContext ({ text, simpleContext }: { text: string, simpleContext: Object }): {\n    solution?: string, special?: string, error?: string, missingContext?: Array<string>\n} {\n    let res = text\n    const variableNames = getVariables({ text })\n    variableNames.sort((a, b) => b.length - a.length).forEach(variable => {\n        res = res.replace(new RegExp(variable, 'g'), `(${simpleContext[variable]})`)\n    })\n    return solve({ text: res })\n}\n\nexport function solve ({\n    text\n}: {\n    text: string\n}): {\n    solution?: string, special?: string, error?: string, missingContext?: Array<string>\n} {\n    if (!text || text.length === 0) {\n        return {}\n    }\n    let solution\n    const missingContext = getVariables({ text })\n    if (missingContext.length > 0) {\n        return { error: 'Missing context', missingContext }\n    }\n    try {\n        solution = evaluate(text)\n    } catch (error) {\n        return { error }\n    }\n    if (solution !== undefined && isNaN(parseFloat(solution))) return { error: 'Error. Not a number.' }\n    if (solution.im) {\n        return {\n            solution: solution.im,\n            special: 'im'\n        }\n    }\n    return { solution }\n}\n\nexport function stripContext (context: Object) {\n    const res = {}\n    if (typeof context !== 'object') {\n        return context\n    }\n    let hasProps = false\n    Object.keys(context).forEach(prop => {\n        if (context[prop] && (context[prop].text || context[prop].context)) {\n            res[prop] = {}\n            res[prop].text = context[prop].text\n            res[prop].context = stripContext(context[prop].context)\n            if (res[prop].context || res[prop].text) {\n                hasProps = true\n            }\n        }\n    })\n    if (!hasProps) {\n        return undefined\n    }\n    return res\n}\n\nexport function formatNumber (number) {\n    if (number && number.toString) {\n        const str = number.toString()\n        if (/\\./.test(str)) {\n            const parts = str.split('.')\n            return parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',') + '.' + parts[1]\n        } else {\n            return str.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\n        }\n    } else {\n        return number\n    }\n}\n","import { useEffect, useState } from 'react'\n\nexport function getLocalStorage (key) {\n    const localString = localStorage.getItem(key)\n    return JSON.parse(localString)\n}\n\nexport function setLocalStorage (key, value) {\n    const valueString = JSON.stringify(value)\n    localStorage.setItem(key, valueString)\n}\n\nexport function useLocalStorage (defaultValue, key) {\n    const [state, setState] = useState(defaultValue)\n\n    useEffect(() => {\n        const value = getLocalStorage(key)\n        if (value !== undefined && value !== null) {\n            setState(value)\n        }\n    }, [key])\n\n    return [\n        state,\n        newValue => {\n            setLocalStorage(key, newValue)\n            setState(newValue)\n        }\n    ]\n}\n","import React from 'react'\nimport { recursiveSolve } from 'utils/math'\nimport { getFromHistory } from 'utils/qs'\n\nexport const withQsContext = Component => props => {\n    const qsContext = getFromHistory(props.history)\n    const info = recursiveSolve({ text: qsContext.text, context: qsContext.context })\n    return <Component {...props} {...qsContext} info={info} />\n}\n","import * as React from 'react'\nimport { mathmlWrapper } from 'utils/math/mathml'\nimport styled from 'styled-components'\n\ninterface Props {\n    mathml: string,\n    title: string\n}\n\nconst StyledMathML = styled.div`\n    text-align: center;\n    padding: 10px;\n    overflow-x: auto;\n    overflow-y: hidden;\n`\n\nclass MathML extends React.Component<Props, {}> {\n    componentDidMount () {\n        // MathJax.Hub.Queue(['Typeset', MathJax.Hub]) // eslint-disable-line\n        if (typeof MathJax !== 'undefined') { // eslint-disable-line\n            MathJax.typesetPromise() // eslint-disable-line\n        }\n    }\n\n    componentDidUpdate () {\n        // MathJax.Hub.Queue(['Typeset', MathJax.Hub]) // eslint-disable-line\n        if (typeof MathJax !== 'undefined') { // eslint-disable-line\n            MathJax.typesetClear() // eslint-disable-line\n            MathJax.typesetPromise() // eslint-disable-line\n        }\n    }\n\n    render () {\n        const { mathml, title } = this.props\n\n        return (\n            <StyledMathML dangerouslySetInnerHTML={{ __html: (mathmlWrapper({ title, text: mathml })) }} />\n        )\n    }\n}\n\nexport default MathML\n","import React from 'react'\nimport styled from 'styled-components'\nimport getColor from 'utils/math/getColor'\nimport { getVariables, formatNumber } from 'utils/math'\nimport StyledInput from 'components/StyledInput'\n\nconst StyledContainer = styled.div`\n    display: flex;\n`\n\nconst Label = styled.span`\n    font-weight: bold;\n`\n\nfunction getNewContext ({ previousText, text, context }) {\n    const newContext = { ...context }\n    const previousVariables = getVariables({ text: previousText })\n    const nextVariables = getVariables({ text })\n    // if there is only one difference between the list of previous and next variables use the old value as the new\n    const unusedPrevious = previousVariables.filter(i => !nextVariables.includes(i))\n    const unusedNext = nextVariables.filter(i => !previousVariables.includes(i))\n    if (newContext) {\n        if (unusedPrevious.length === 1 && unusedNext.length === 1 && unusedPrevious[0]) {\n            newContext[unusedNext[0]] = newContext[unusedPrevious[0]]\n            delete newContext[unusedPrevious[0]]\n        } else {\n            // clear unused context\n            Object.keys(newContext).forEach(variable => {\n                if (!nextVariables.includes(variable)) {\n                    delete newContext[variable]\n                }\n            })\n        }\n    }\n    return newContext\n}\n\nfunction NestedProperty ({ id, variable, info, onChange }: {\n    id: string,\n    variable: string,\n    info: {\n        resolution: { solution?: string, special?: string, error?: string},\n        name: string,\n        text: string,\n        context: Object,\n        inheritedContext: Object,\n        missingContext: Array<string>,\n        requiredContext: Array<string>\n    },\n    onChange: Function\n}) {\n    const newInfo = {\n        resolution: {},\n        text: '',\n        missingContext: [],\n        requiredContext: [],\n        ...info.context[variable],\n        inheritedContext: { ...info.inheritedContext, ...info.context },\n        name: variable\n    }\n    return (\n        <ObjectProperty\n            id={`${id}-${variable}`}\n            info={newInfo}\n            onChange={({ name, text, context }) => {\n                const copyContext = { ...info.context }\n                if (!copyContext[name]) copyContext[name] = {}\n                copyContext[name].context = context\n                copyContext[name].text = text\n                onChange({ name: info.name, text: info.text, context: copyContext })\n            }} />\n    )\n}\n\nexport default function ObjectProperty (props: {\n    id: string,\n    info: {\n        resolution: { solution?: string, special?: string, error?: string},\n        name: string,\n        text: string,\n        context: Object,\n        inheritedContext: Object,\n        missingContext: Array<string>,\n        requiredContext: Array<string>\n    },\n    onChange: Function\n}) {\n    const {\n        id,\n        info,\n        onChange\n    } = props\n    // const placeholder = info.inheritedContext &&\n    // info.inheritedContext[info.name] &&\n    // info.inheritedContext[info.name].resolution &&\n    // info.inheritedContext[info.name].resolution.solution ?\n    // info.inheritedContext[info.name].resolution.solution : undefined\n    const nameStyle = { marginTop: 7, marginBottom: 2, color: getColor(info.name) }\n\n    return (\n        <div>\n            <div>\n                <div style={nameStyle}>\n                    {info.name\n                        ? <Label>{info.name} =&nbsp;\n                            {info.resolution.solution\n                                ? formatNumber(info.resolution.solution)\n                                : null}\n                        </Label>\n                        : null}\n                </div>\n                <StyledContainer>\n                    <StyledInput type='text'\n                        placeholder='Name / Value / Equation'\n                        style={{ marginBottom: 5 }}\n                        value={info.text || ''}\n                        onChange={event => {\n                            let text = event.target.value\n                            if (text.trim() === '') {\n                                text = undefined\n                            }\n                            onChange({ name: info.name, text, context: getNewContext({ previousText: info.text, text, context: info.context }) })\n                        }} />\n                </StyledContainer>\n            </div>\n            {info.requiredContext && info.requiredContext.map(variable => <NestedProperty key={`${id}-${variable}`} id={id} variable={variable} info={info} onChange={onChange} />)}\n        </div>\n    )\n}\n","import styled from 'styled-components'\nimport * as styles from 'styles'\n\nconst StyledTextarea = styled.textarea`\n    font-family: 'Ubuntu', sans-serif;\n    font-size: 1rem;\n    line-height: 1.2rem;\n    padding: 4px 6px;\n    border-radius: 4px;\n    border: none;\n    width: 100%;\n    box-shadow: 0px 0px 2px 2px ${styles.inputShadow};\n    outline: none;\n    :focus {\n        background-color: ${styles.inputFocus};\n    }\n`\n\nexport default StyledTextarea\n","import React from 'react'\nimport styled from 'styled-components'\nimport ObjectProperty from 'components/ObjectProperty'\nimport StyledTextarea from 'components/StyledTextarea'\nimport StyledInput from 'components/StyledInput'\n\nconst StyledObjectCreator = styled.div`\n    width: 100%;\n`\n\nconst StyledContainer = styled.div`\n    display: flex;\n`\n\nconst Category = styled(StyledInput)`\n    margin-top: 2px;\n    margin-bottom: 10px;\n`\n\nconst Notes = styled(StyledTextarea)`\n    min-height: 4rem;\n    resize: vertical;\n    margin-top: 2px;\n    margin-bottom: 10px;\n`\n\nconst Label = styled.div`\n    font-weight: bold;\n    margin-top: 4px;\n`\n\nexport default function ObjectCreator (props: {\n    info: {\n        resolution: { solution?: string, special?: string, error?: string},\n        name: string,\n        text: string,\n        mathml: string,\n        context: Object,\n        inheritedContext: Object,\n        missingContext: Array<string>,\n        requiredContext: Array<string>,\n        solvableEquation: string\n    },\n    onContextChange: Function,\n    category: string,\n    onCategoryChange: Function,\n    notes: string,\n    onNotesChage: Function\n}) {\n    return (\n        <StyledObjectCreator>\n            <Label>Name</Label>\n            <ObjectProperty id='base' info={props.info} onChange={props.onContextChange} />\n            <Label>Category</Label>\n            <StyledContainer>\n                <Category value={props.category || ''} type='textarea' onChange={props.onCategoryChange} />\n            </StyledContainer>\n            <Label>Notes</Label>\n            <StyledContainer>\n                <Notes value={props.notes || ''} type='textarea' onChange={props.onNotesChange} />\n            </StyledContainer>\n        </StyledObjectCreator>\n    )\n}\n","import React from 'react'\nimport styled from 'styled-components'\nimport * as styles from 'styles'\nimport originalStyledInput from 'components/StyledInput'\n\nconst StyledInput = styled(originalStyledInput)`\n    width: 80px;\n`\n\nconst StyledTableGenerator = styled.div`\n    display: flex;\n    flex-direction: column;\n    input {\n        text-align: center;\n    }\n`\n\nconst StyledOverallSection = styled.div`\n    display: flex;\n    width: 100%;\n    padding-top: 1rem;\n`\n\nconst StyledColumnSection = styled.div`\n    padding-left: ${styles.materialIterationWidth + 2}px;\n    display: flex;\n    padding-bottom: 1rem;\n`\n\nconst StyledSettingGroup = styled.div`\n    width: ${styles.materialColumnWidth}px;\n    padding: 2px;\n    text-align: right;\n`\n\nconst StackedColumn = styled.div`\n    flex-direction: column;\n`\n\nconst Setting = styled.div`\n    display: flex;\n    padding: 2px;\n`\n\nconst Label = styled.div`\n    padding-top: .2rem;\n    padding-right: 1rem;\n`\n\nexport default function TableGenerator (props) {\n    const {\n        columns,\n        columnColorObject,\n        columnSettings,\n        settings = {},\n        onGeneratorSettingChange,\n        onColumnSettingChange\n    } = props\n    const left = settings.left\n    const right = settings.right\n\n    function renderColumns ({ columns, columnColorObject, columnSettings, onColumnSettingChange }) {\n        const changeColumnSetting = (columnName, settingName) => {\n            return function (event) {\n                const newValue = event.target.value\n                if (!columnSettings[columnName] || newValue !== columnSettings[columnName][settingName]) {\n                    const newColumnSettings = { ...columnSettings }\n                    if (!columnSettings[columnName]) {\n                        newColumnSettings[columnName] = {}\n                    } else {\n                        newColumnSettings[columnName] = { ...columnSettings[columnName] }\n                    }\n                    newColumnSettings[columnName][settingName] = newValue\n                    onColumnSettingChange(newColumnSettings)\n                }\n            }\n        }\n        return columns.map(column => {\n            const option = columnSettings[column] ? columnSettings[column] : {}\n            const start = option.start\n            const interval = option.interval\n            return <StyledSettingGroup key={column}>\n                <div style={{ color: columnColorObject[column], fontWeight: 'bold', paddingTop: 10, paddingBottom: 10 }}>{column}</div>\n                <StackedColumn>\n                    <Setting>\n                        <Label>Start</Label>\n                        <StyledInput style={{ marginLeft: 18 }} type='number' onChange={changeColumnSetting(column, 'start')} value={start || ''} placeholder='0' />\n                    </Setting>\n                    <Setting>\n                        <Label>Interval</Label>\n                        <StyledInput type='number' onChange={changeColumnSetting(column, 'interval')} value={interval || ''} placeholder='1' />\n                    </Setting>\n                </StackedColumn>\n            </StyledSettingGroup>\n        })\n    }\n\n    function changeSetting (settingName) {\n        return function (event) {\n            const newValue = event.target.value.replace(/-/g, '')\n            if (newValue !== settings[settingName]) {\n                const newSetting = { ...settings }\n                newSetting[settingName] = newValue\n                onGeneratorSettingChange(newSetting)\n            }\n        }\n    }\n    return (\n        <StyledTableGenerator>\n            <StyledOverallSection>\n                <Setting style={{ paddingRight: 8 }}>\n                    <Label>Left</Label>\n                    <StyledInput type='number' onChange={changeSetting('left')} value={left || ''} placeholder='0' />\n                </Setting>\n                <Setting>\n                    <Label>Right</Label>\n                    <StyledInput type='number' onChange={changeSetting('right')} value={right || ''} placeholder='10' />\n                </Setting>\n            </StyledOverallSection>\n            <StyledColumnSection>\n                {renderColumns({ columns, columnColorObject, columnSettings, onColumnSettingChange })}\n            </StyledColumnSection>\n        </StyledTableGenerator>\n    )\n}\n","import styled from 'styled-components'\n\nexport default styled.div`\n    position: fixed;\n    bottom: 15px;\n    right: 5px;\n    i {\n        font-size: 3rem;\n    }\n    div {\n        display: flex;\n    }\n`\n","import React from 'react'\nimport styled from 'styled-components'\nimport * as styles from 'styles'\n\nconst StyledSearchButton = styled.div`\n    color: black;\n    cursor: pointer;\n    border-radius: 30px;\n`\n\nconst StyledSearchButtonWithHover = styled.div`\n    color: black;\n    cursor: pointer;\n    border-radius: 30px;\n    ${styles.buttonHover('Search', -6)}\n`\n\nexport default function SearchButton (props) {\n    if (props.hover) {\n        return (\n            <StyledSearchButtonWithHover {...props} style={{ ...props.style, backgroundColor: props.active ? styles.primaryColor : undefined }}>\n                <i className='material-icons' style={props.style}>search</i>\n            </StyledSearchButtonWithHover>\n        )\n    } else {\n        return (\n            <StyledSearchButton {...props} style={{ ...props.style, backgroundColor: props.active ? styles.primaryColor : undefined }}>\n                <i className='material-icons' style={props.style}>search</i>\n            </StyledSearchButton>\n        )\n    }\n}\n","import React from 'react'\nimport styled from 'styled-components'\nimport * as styles from 'styles'\n\nconst StyledSaveButton = styled.div`\n    color: black;\n    cursor: pointer;\n    border-radius: 30px;\n    ${styles.buttonHover('Save')}\n`\n\nexport default function SaveButton (props) {\n    if (props.text && props.location) {\n        return (\n            <StyledSaveButton {...props}>\n                <i className='material-icons'>save</i>\n            </StyledSaveButton>\n        )\n    } else {\n        return null\n    }\n}\n","export default __webpack_public_path__ + \"static/media/pickaxe.f85936c7.svg\";","import React from 'react'\nimport styled from 'styled-components'\nimport * as styles from 'styles'\nimport pickaxe from 'icons/pickaxe.svg'\n\nconst StyledMaterialButton = styled.div`\n    color: black;\n    cursor: pointer;\n    border-radius: 30px;\n`\n\nconst StyledMaterialButtonWithHover = styled.div`\n    color: black;\n    cursor: pointer;\n    border-radius: 30px;\n    ${styles.buttonHover('Material', -9)}\n`\n\nexport default function MaterialButton (props) {\n    if (props.hover) {\n        return (\n            <StyledMaterialButtonWithHover {...props} style={{ ...props.style, backgroundColor: props.active ? styles.primaryColor : undefined }}>\n                <img src={pickaxe} alt='Material' height={(props.style && props.style.height) || 50} width={(props.style && props.style.width) || 50} />\n            </StyledMaterialButtonWithHover>\n        )\n    } else {\n        return (\n            <StyledMaterialButton {...props} style={{ ...props.style, backgroundColor: props.active ? styles.primaryColor : undefined }}>\n                <img src={pickaxe} alt='Material' height={(props.style && props.style.height) || 50} width={(props.style && props.style.width) || 50} />\n            </StyledMaterialButton>\n        )\n    }\n}\n","export default __webpack_public_path__ + \"static/media/anvil.cdc0894b.svg\";","import React from 'react'\nimport styled from 'styled-components'\nimport * as styles from 'styles'\nimport anvil from 'icons/anvil.svg'\n\nconst StyledForgeButton = styled.div`\n    color: black;\n    cursor: pointer;\n    border-radius: 30px;\n`\n\nconst StyledForgeButtonWithHover = styled.div`\n    color: black;\n    cursor: pointer;\n    border-radius: 30px;\n    ${styles.buttonHover('Forge', -2)}\n`\n\nexport default function ForgeButton (props) {\n    if (props.hover) {\n        return (\n            <StyledForgeButtonWithHover {...props} style={{ ...props.style, backgroundColor: props.active ? styles.primaryColor : undefined }}>\n                <img src={anvil} alt='Forge' height={(props.style && props.style.height) || 50} width={(props.style && props.style.width) || 50} />\n            </StyledForgeButtonWithHover>\n        )\n    } else {\n        return (\n            <StyledForgeButton {...props} style={{ ...props.style, backgroundColor: props.active ? styles.primaryColor : undefined }}>\n                <img src={anvil} alt='Forge' height={(props.style && props.style.height) || 50} width={(props.style && props.style.width) || 50} />\n            </StyledForgeButton>\n        )\n    }\n}\n","export default __webpack_public_path__ + \"static/media/crown.7d4fca40.svg\";","import React from 'react'\nimport styled from 'styled-components'\nimport * as styles from 'styles'\nimport crown from 'icons/crown.svg'\n\nconst StyledCommandButton = styled.div`\n    color: black;\n    cursor: pointer;\n    border-radius: 30px;\n`\n\nconst StyledCommandButtonWithHover = styled.div`\n    color: black;\n    cursor: pointer;\n    border-radius: 30px;\n    ${styles.buttonHover('Command', -20)}\n`\n\nexport default function CommandButton (props) {\n    if (props.hover) {\n        return (\n            <StyledCommandButtonWithHover {...props} style={{ ...props.style, backgroundColor: props.active ? styles.primaryColor : undefined }}>\n                <img src={crown} alt='Command' height={(props.style && props.style.height) || 50} width={(props.style && props.style.width) || 50} />\n            </StyledCommandButtonWithHover>\n        )\n    } else {\n        return (\n            <StyledCommandButton {...props} style={{ ...props.style, backgroundColor: props.active ? styles.primaryColor : undefined }}>\n                <img src={crown} alt='Command' height={(props.style && props.style.height) || 50} width={(props.style && props.style.width) || 50} />\n            </StyledCommandButton>\n        )\n    }\n}\n","export default __webpack_public_path__ + \"static/media/easel.d5ee52be.svg\";","import React from 'react'\nimport styled from 'styled-components'\nimport * as styles from 'styles'\nimport easel from 'icons/easel.svg'\n\nconst StyledReviewButton = styled.div`\n    color: black;\n    cursor: pointer;\n    border-radius: 30px;\n`\n\nconst StyledReviewButtonWithHover = styled.div`\n    color: black;\n    cursor: pointer;\n    border-radius: 30px;\n    ${styles.buttonHover('Review', -6)}\n`\n\nexport default function ReviewButton (props) {\n    if (props.hover) {\n        return (\n            <StyledReviewButtonWithHover {...props} style={{ ...props.style, backgroundColor: props.active ? styles.primaryColor : undefined }}>\n                <img src={easel} alt='Review' height={(props.style && props.style.height) || 50} width={(props.style && props.style.width) || 50} />\n            </StyledReviewButtonWithHover>\n        )\n    } else {\n        return (\n            <StyledReviewButton {...props} style={{ ...props.style, backgroundColor: props.active ? styles.primaryColor : undefined }}>\n                <img src={easel} alt='Review' height={(props.style && props.style.height) || 50} width={(props.style && props.style.width) || 50} />\n            </StyledReviewButton>\n        )\n    }\n}\n","import React, { useState, useEffect, useRef } from 'react'\nimport styled from 'styled-components'\n\nconst StyledFrozenTd = styled.div`\n`\n\nconst FrozenColumnTd = props => {\n    return (\n        <ColumnTd>\n            <StyledFrozenTd {...props} />\n        </ColumnTd>\n    )\n}\n\nconst ColumnTd = styled.td`\n`\n\nlet overrideSelect = false\n\nexport default function DataGrid (props: {\n    callback?: Function,\n    header?: Array<Array<string>>,\n    body: Array<Array<string>>,\n    footer?: Array<Array<string>>,\n    numbered?: boolean,\n    highlightColor?: string,\n    highlightInitialColor?: string,\n    hoverHeaderAndNumberedColor?: string,\n    className?: string,\n    style?: string,\n    cellComponent?: React.node,\n    frozenColumns?: number,\n    frozenColumnWidth?: number,\n    styles?: {\n        header?: {\n            tr?: Object,\n            td?: Object\n        },\n        body?: {\n            tr?: Object,\n            td?: Object,\n            edit?: Object\n        },\n        footer?: {\n            tr?: Object,\n            td?: Object\n        },\n        thead?: Object,\n        tbody?: Object,\n        tfoot?: Object\n    },\n    classes?: {\n        header?: {\n            tr?: string,\n            td?: string\n        },\n        body?: {\n            tr?: string,\n            td?: string,\n            edit?: string\n        },\n        footer?: {\n            tr?: string,\n            td?: string\n        },\n        thead?: string,\n        tbody?: string,\n        tfoot?: string\n    }\n}) {\n    const {\n        body,\n        frozenColumns,\n        editState = {},\n        setEdit,\n        keepEditing,\n        skipTabIndexes,\n        initialSelectionCell,\n        setInitialSelectionCell,\n        shouldHandleBlur = false\n    } = props\n    const CellComponent = props.cellComponent\n    const EditCellComponent = props.editComponent\n\n    const [clickedCell, setClickedCell] = useState({})\n    const [selectionRange, setSelectionRange] = useState({})\n    const [selectionCurrent, setSelectionCurrent] = useState({})\n    const [hover, setHover] = useState({})\n    const [selection, setSelection] = useState()\n    const [mouseDown, setMouseDown] = useState(false)\n    const [blurredOnce, setBlurredOnce] = useState(false)\n    const [shiftModifier, setShiftModifier] = useState(false)\n    const [ctrlModifier, setCtrlModifier] = useState(false)\n\n    const editorRef = useRef()\n    const selectionRef = useRef()\n\n    useEffect(() => {\n        setSelection(body.filter(filterRow).map(tabularizeSelection).join('\\n'))\n    }, [body, selectionRange]) // eslint-disable-line\n\n    useEffect(() => {\n        if (selection) {\n            selectText()\n        }\n    }, [selection])\n\n    useEffect(() => {\n        if (editState.row !== undefined && editState.column !== undefined) {\n            const ref = editorRef.current\n            ref.focus()\n            if (overrideSelect) {\n                overrideSelect = false\n            } else {\n                ref.setSelectionRange(0, ref.value.length)\n            }\n        } else {\n            selectText()\n        }\n    }, [editState.row, editState.column])\n\n    function selectText () {\n        const ref = selectionRef.current\n        ref.focus()\n        ref.setSelectionRange(0, ref.value.length)\n    }\n\n    function componentKeyDown (event) {\n        if (event.key === 'Shift') {\n            setShiftModifier(true)\n        }\n        if (event.key === 'Control') {\n            setCtrlModifier(true)\n        }\n    }\n\n    function componentKeyUp (event) {\n        if (event.key === 'Shift') {\n            setShiftModifier(false)\n        }\n        if (event.key === 'Control') {\n            setCtrlModifier(false)\n        }\n    }\n\n    function tableMouseUp () {\n        setMouseDown(false)\n    }\n\n    function gridMouseMove (event, row, column) {\n        setHover({\n            row: row === undefined ? -1 : row,\n            column: column === undefined ? -1 : column\n        })\n        if (mouseDown) {\n            // If row is null then it should be a header column event; use the body length\n            // If column is null then it should be a numbered column event; use the body column count\n            setRangeSelection(row === undefined ? body.length : row,\n                column === undefined ? body[0].length : column, true)\n        }\n    }\n\n    function gridMouseDown (event, row, column) {\n        event.preventDefault()\n        setMouseDown(true)\n        setBlurredOnce(false)\n        // reset clicked if it's not the last clicked cell, so that it won't open the editor\n        setClickedCell({\n            row: clickedCell.row === row ? row : undefined,\n            column: clickedCell.column === column ? column : undefined\n        })\n        if (shiftModifier) {\n            // If row is null then it should be a header column event; use the body length\n            // If column is null then it should be a numbered column event; use the body column count\n            setRangeSelection(row === undefined ? body.length : row,\n                column === undefined ? body[0].length : column, true)\n        } else {\n            setSingleSelection(row, column, true)\n        }\n    }\n\n    function gridMouseUp (event, row, column) {\n        // clickedCell.row and clickedCell.column store the last clicked cell, if it's the same open the editor\n        if (clickedCell.row === row && clickedCell.column === column) editCell(row, column)\n        // if the mouse up event fires on the same cell that was moused down on,\n        // then save it as the clicked cell in state\n        else if (initialSelectionCell.row === row && initialSelectionCell.column === column) {\n            setClickedCell({ row, column })\n        }\n    }\n\n    function selectionKeyDown (event) {\n        if (event.key === 'Enter') {\n            editCell(initialSelectionCell.row, initialSelectionCell.column)\n        }\n        if (event.key === 'Tab') {\n            event.preventDefault()\n            if (shiftModifier) {\n                setSingleSelection(initialSelectionCell.row, initialSelectionCell.column - 1)\n            } else {\n                setSingleSelection(initialSelectionCell.row, initialSelectionCell.column + 1)\n            }\n        }\n        if (event.key === 'Escape') {\n            if (editState.row !== undefined && editState.column !== undefined) {\n                closeEditor()\n            } else {\n                resetSelection()\n            }\n        }\n        if (event.key === 'Delete') {\n            const deleteArray = []\n            let row = selectionRange.startRow\n            let column = selectionRange.startColumn\n            const columnArray = []\n            while (column <= selectionRange.endColumn) {\n                if (column > -1) {\n                    columnArray.push('')\n                }\n                column++\n            }\n            while (row <= selectionRange.endRow) {\n                if (row > -1) {\n                    deleteArray.push(columnArray)\n                }\n                row++\n            }\n            updateArray(selectionRange.startRow, selectionRange.startColumn, body, deleteArray)\n        }\n        if (event.key === 'Backspace') {\n            props.callback(initialSelectionCell.row, initialSelectionCell.column, '')\n        }\n        if (event.key === 'ArrowUp') {\n            // if shift: expand range; else: move selection and initial\n            if (shiftModifier) {\n                setRangeSelection(selectionCurrent.row - 1, selectionCurrent.column)\n            } else {\n                setSingleSelection(initialSelectionCell.row - 1, initialSelectionCell.column)\n            }\n        }\n        if (event.key === 'ArrowDown') {\n            if (shiftModifier) {\n                setRangeSelection(selectionCurrent.row + 1, selectionCurrent.column)\n            } else {\n                setSingleSelection(initialSelectionCell.row + 1, initialSelectionCell.column)\n            }\n        }\n        if (event.key === 'ArrowLeft') {\n            if (shiftModifier) {\n                setRangeSelection(selectionCurrent.row, selectionCurrent.column - 1)\n            } else {\n                setSingleSelection(initialSelectionCell.row, initialSelectionCell.column - 1)\n            }\n        }\n        if (event.key === 'ArrowRight') {\n            if (shiftModifier) {\n                setRangeSelection(selectionCurrent.row, selectionCurrent.column + 1)\n            } else {\n                setSingleSelection(initialSelectionCell.row, initialSelectionCell.column + 1)\n            }\n        }\n        if (ctrlModifier) {\n            if (event.key === 'a') setSingleSelection(null, null)\n        } else {\n            // If ctrlModifier is false\n            if (event.key.length === 1) {\n                editCell(initialSelectionCell.row, initialSelectionCell.column, event.key)\n                overrideSelect = true\n            }\n        }\n    }\n\n    function resetSelection () {\n        setInitialSelectionCell({})\n        setSelectionCurrent({})\n        setSelectionRange({})\n        setClickedCell({})\n        setBlurredOnce(false)\n        setSelection('')\n    }\n\n    function selectionBlurred () {\n        // Blurs once (from the input element) when you click on a cell, and drag\n        // Blurs again if you click and drag outside of the table scope and click on something\n        // If the mouse down event isn't fired when the input is blurred they didn't\n        // click anywhere on the table, so it should reset the selection and lose focus\n\n        // Lost focus\n        if (!mouseDown || blurredOnce) {\n            setCtrlModifier(false)\n            setShiftModifier(false)\n            setMouseDown(false)\n            resetSelection()\n        } else {\n            setBlurredOnce(true)\n        }\n    }\n\n    function selectionPaste (event) {\n        event.clipboardData.items[0].getAsString(text => {\n            const rows = text.split('\\n')\n            const data = text.match(/\\t/g)\n                ? rows.map((row) => row.split('\\t'))\n                : rows.map((row) => row.split(','))\n            updateArray(\n                selectionRange.startRow,\n                selectionRange.startColumn,\n                body,\n                data\n            )\n        })\n    }\n\n    function setSingleSelection (rowIndex: number, columnIndex: number, forceSelection?: boolean) {\n        const row = rowIndex ? rowIndex === -1 && columnIndex === -1 ? -1 : cleanRow(rowIndex) : 0\n        const column = columnIndex ? rowIndex === -1 && columnIndex === -1 ? -1 : cleanColumn(row, columnIndex) : 0\n        setInitialSelectionCell({ row, column })\n        setSelectionCurrent({ row, column })\n        setSelectionRange({\n            startRow: row,\n            endRow: rowIndex !== undefined ? row : body.length,\n            startColumn: column,\n            endColumn: columnIndex !== undefined ? column : body[0].length\n        })\n        if (forceSelection) {\n            selectText()\n        }\n    }\n\n    function setRangeSelection (rowIndex: number, columnIndex: number, forceSelection?: boolean) {\n        const row = cleanRow(rowIndex)\n        const column = cleanColumn(row, columnIndex)\n        setSelectionCurrent({ row, column })\n        setSelectionRange({\n            startRow: row < initialSelectionCell.row ? row : initialSelectionCell.row,\n            endRow: row < initialSelectionCell.row ? initialSelectionCell.row : row,\n            startColumn: column < initialSelectionCell.column ? column : initialSelectionCell.column,\n            endColumn: column < initialSelectionCell.column ? initialSelectionCell.column : column\n        })\n        if (forceSelection) {\n            selectText()\n        }\n    }\n\n    function editorKeyDown (event) {\n        if (event.key === 'Escape') {\n            closeEditor(false)\n        }\n        if (event.key === 'Enter') {\n            if (keepEditing) {\n                if (shiftModifier) {\n                    editCell(editState.row - 1, editState.column)\n                } else {\n                    editCell(editState.row + 1, editState.column)\n                }\n            } else {\n                closeEditor()\n                if (shiftModifier) {\n                    setSingleSelection(editState.row - 1, editState.column)\n                } else {\n                    setSingleSelection(editState.row + 1, editState.column)\n                }\n            }\n        }\n        if (event.key === 'Tab' && (!skipTabIndexes || !skipTabIndexes.includes(editState.column))) {\n            event.preventDefault()\n            if (keepEditing) {\n                if (shiftModifier) {\n                    editCell(editState.row, editState.column - 1)\n                } else {\n                    editCell(editState.row, editState.column + 1)\n                }\n            } else {\n                closeEditor()\n                if (shiftModifier) {\n                    setSingleSelection(editState.row, editState.column - 1)\n                } else {\n                    setSingleSelection(editState.row, editState.column + 1)\n                }\n            }\n        }\n        if (event.key === 's') {\n            if (ctrlModifier) {\n                event.preventDefault()\n                closeEditor()\n            }\n        }\n    }\n\n    function editCell (rowIndex, columnIndex, startingValue) {\n        if (editState.original !== undefined && editState.row !== undefined && editState.column !== undefined &&\n            (CellComponent ? editState.original.value : editState.original) !== (CellComponent ? editState.current.value : editState.current)) {\n            props.callback(editState.row, editState.column, editState.current)\n        }\n        if (rowIndex >= 0 && columnIndex >= 0) {\n            const row = cleanRow(rowIndex)\n            const column = cleanColumn(row, columnIndex)\n            const original = startingValue !== undefined ? startingValue : body[row][column]\n            setEdit({ row, column, original, current: original })\n        }\n    }\n\n    function closeEditor (save = true, valueOverride) {\n        if (save) {\n            props.callback(editState.row, editState.column, valueOverride || editState.current)\n        }\n        setEdit({})\n        setSingleSelection(editState.row, editState.column)\n    }\n\n    function updateArray (startRow, startColumn, originalArray, newArrayData) {\n        return originalArray.map((row, rowIndex) => updateArrayRow(row, startColumn, newArrayData[rowIndex - startRow], rowIndex))\n    }\n\n    function updateArrayRow (row, startColumn, newArrayData, rowIndex) {\n        if (newArrayData !== undefined) {\n            return Object.assign([], row.map((cell, cellIndex) => updateArrayCell(cell, newArrayData[cellIndex - startColumn], rowIndex, cellIndex)))\n        } else {\n            return row\n        }\n    }\n\n    function updateArrayCell (cell, data, rowIndex, cellIndex) {\n        if (data !== undefined) {\n            props.callback(rowIndex, cellIndex, data)\n            return data\n        } else {\n            return cell\n        }\n    }\n\n    function cleanRow (row) {\n        return row > body.length - 1\n            ? body.length - 1\n            : row < 0 ? 0 : row\n    }\n\n    function cleanColumn (row, column) {\n        return column > body[row].length - 1\n            ? body[row].length - 1\n            : column < 0 ? 0 : column\n    }\n\n    function filterRow (row, rowIndex) {\n        if (rowIndex >= selectionRange.startRow &&\n            rowIndex <= selectionRange.endRow) {\n            return true\n        } else {\n            return false\n        }\n    }\n\n    function tabularizeSelection (row) {\n        return row.filter(filterToSelection).map(i => {\n            return CellComponent\n                ? (i.value === undefined ? '' : i.value.toString())\n                : i.toString()\n        }).join('\\t')\n    }\n\n    function filterToSelection (cell, columnIndex) {\n        if (columnIndex >= selectionRange.startColumn &&\n            columnIndex <= selectionRange.endColumn) {\n            return true\n        } else {\n            return false\n        }\n    }\n\n    function headerRow (row, rowIndex) {\n        return (\n            <tr key={rowIndex} className={props.classes && props.classes.header && props.classes.header.tr}\n                style={props.styles && props.styles.header && props.styles.header.tr}>\n                {row.map((obj, ind) => headerCell(obj, ind))}\n            </tr>\n        )\n    }\n\n    function headerCell (cell, colIndex) {\n        const columnIndex = props.numbered ? colIndex - 1 : colIndex\n        return (\n            <td key={columnIndex} className={props.classes && props.classes.header && props.classes.header.td}\n                style={Object.assign({}, props.styles && props.styles.header && props.styles.header.td,\n                    props.numbered && columnIndex === -1 && props.styles && props.styles.body && props.styles.body.numbered,\n                    {\n                        backgroundColor: columnIndex <= hover.column &&\n                        columnIndex >= hover.column\n                            ? props.hoverHeaderAndNumberedColor\n                            : null\n                    })}\n                onMouseDown={(event) => gridMouseDown(event, null, columnIndex)}\n                onMouseMove={(event) => gridMouseMove(event, null, columnIndex)}>\n                {cell}\n            </td>\n        )\n    }\n\n    function bodyRow (row, rowIndex) {\n        return (\n            <tr key={rowIndex} className={props.classes && props.classes.header && props.classes.body.tr}\n                style={props.styles && props.styles.body && props.styles.body.tr}>\n                {props.numbered &&\n                    <FrozenColumnTd className={props.classes && props.classes.header && props.classes.body.td}\n                        style={Object.assign({}, props.styles && props.styles.body && props.styles.body.td,\n                            props.styles && props.styles.body && props.styles.body.numbered,\n                            {\n                                backgroundColor: rowIndex <= hover.row &&\n                                rowIndex >= hover.row\n                                    ? props.hoverHeaderAndNumberedColor\n                                    : null\n                            })}\n                        onMouseDown={(event) => gridMouseDown(event, rowIndex, null)}\n                        onMouseMove={(event) => gridMouseMove(event, rowIndex, null)}>\n                        {rowIndex - props.numberedOffset}\n                    </FrozenColumnTd>\n                }\n                {row.map((obj, ind) => bodyCell(obj, ind, rowIndex))}\n            </tr>\n        )\n    }\n\n    function bodyCell (cell, columnIndex, rowIndex) {\n        const Td = frozenColumns && columnIndex < frozenColumns ? FrozenColumnTd : ColumnTd\n        if (editState.row === rowIndex && editState.column === columnIndex) {\n            return (\n                <ColumnTd key={columnIndex} className={props.classes && props.classes.body && props.classes.body.edit}\n                    style={Object.assign({}, props.styles && props.styles.body && props.styles.body.edit,\n                        {\n                            padding: '0px'\n                        })}\n                    onMouseMove={(event) => gridMouseMove(event, rowIndex, columnIndex)}>\n                    {EditCellComponent\n                        ? <EditCellComponent\n                            editorRef={editorRef}\n                            editorValue={editState.current}\n                            onChange={value => setEdit({ ...editState, current: value })}\n                            closeEditor={closeEditor}\n                            onKeyDown={editorKeyDown}\n                            {...cell}></EditCellComponent>\n                        : <input style={props.styles && props.styles.body && props.styles.body.edit}\n                            ref={editorRef}\n                            type='text'\n                            value={editState.current}\n                            onChange={(event) => setEdit({ ...editState, current: event.target.value })}\n                            onKeyDown={editorKeyDown} />}\n                </ColumnTd>\n            )\n        } else {\n            return (\n                <Td key={columnIndex} className={props.classes && props.classes.body && props.classes.body.td}\n                    style={Object.assign({}, props.styles && props.styles.body && props.styles.body.td,\n                        {\n                            backgroundColor: rowIndex <= selectionRange.endRow &&\n                            rowIndex >= selectionRange.startRow &&\n                            columnIndex <= selectionRange.endColumn &&\n                            columnIndex >= selectionRange.startColumn\n                                ? rowIndex === initialSelectionCell.row &&\n                                columnIndex === initialSelectionCell.column\n                                    ? props.highlightInitialColor\n                                    : props.highlightColor\n                                : null\n                        })}\n                    onMouseMove={(event) => gridMouseMove(event, rowIndex, columnIndex)}\n                    onMouseDown={(event) => gridMouseDown(event, rowIndex, columnIndex)}\n                    onMouseUp={(event) => gridMouseUp(event, rowIndex, columnIndex)}>\n                    {CellComponent ? <CellComponent {...cell} /> : cell}\n                </Td>\n            )\n        }\n    }\n\n    function footerRow (row, rowIndex) {\n        return (\n            <tr key={rowIndex} className={props.classes && props.classes.footer && props.classes.footer.tr}\n                style={props.styles && props.styles.footer && props.styles.footer.tr}>\n                {row.map((obj, ind) => footerCell(obj, ind, rowIndex))}\n            </tr>\n        )\n    }\n\n    function footerCell (cell, columnIndex, rowIndex) {\n        return (\n            <td key={columnIndex} data={columnIndex} className={props.classes && props.classes.footer && props.classes.footer.td}\n                style={Object.assign({}, props.styles && props.styles.footer && props.styles.footer.td,\n                    {\n                        backgroundColor: columnIndex <= selectionRange.endColumn &&\n                        columnIndex >= selectionRange.startColumn &&\n                        rowIndex <= selectionRange.endRow &&\n                        rowIndex >= selectionRange.startRow\n                            ? props.highlightColor\n                            : null\n                    })}>\n                {cell}\n            </td>\n        )\n    }\n\n    return (\n        // overflowX: 'auto' for freezing columns\n        <div style={{ width: '100%', position: editState.row !== undefined && editState.column === 0 && 'relative' }}\n            onKeyDown={componentKeyDown}\n            onKeyUp={componentKeyUp}>\n            <textarea ref={selectionRef}\n                type='text'\n                value={selection}\n                style={{ position: 'fixed', zIndex: -1000, opacity: 0 }}\n                readOnly\n                onKeyDown={selectionKeyDown}\n                onBlur={shouldHandleBlur ? selectionBlurred : undefined}\n                onPaste={selectionPaste} />\n            <table className={props.className}\n                style={Object.assign({}, { cursor: 'cell' }, props.style)}\n                onMouseUp={tableMouseUp}\n                onMouseLeave={() => {\n                    setHover({})\n                }}>\n                {props.header &&\n                    <thead className={props.classes && props.classes.thead}\n                        style={props.styles && props.styles.thead}>\n                        {props.header.map(headerRow)}\n                    </thead>\n                }\n                {body &&\n                    <tbody className={props.classes && props.classes.tbody}\n                        style={props.styles && props.styles.tbody}>\n                        {body.map(bodyRow)}\n                    </tbody>\n                }\n                {props.footer &&\n                    <tfoot className={props.classes && props.classes.tfoot}\n                        style={props.styles && props.styles.tfoot}>\n                        {props.footer.map(footerRow)}\n                    </tfoot>\n                }\n            </table>\n        </div>\n    )\n}\n","import React from 'react'\nimport styled from 'styled-components'\nimport { Line } from 'react-chartjs-2'\n\nconst StyledLine = styled.div`\n    padding-left: 1rem;\n`\n\nexport default function Graph (props) {\n    const {\n        columns,\n        columnColorObject,\n        rows,\n        generatorSettings\n    } = props\n    const left = parseInt(generatorSettings.left || 0, 10)\n    const right = parseInt(generatorSettings.right || 10, 10)\n    const labels = []\n    let iteration = -1 * left\n    const xAxisLabel = columns.length === 2\n    while (iteration <= right) {\n        if (xAxisLabel) {\n            labels.push(rows[iteration + left][0])\n        } else {\n            labels.push(iteration)\n        }\n        iteration++\n    }\n    const datasets = columns.map((column, index) => {\n        return {\n            label: column,\n            lineTension: 0,\n            fill: false,\n            backgroundColor: columnColorObject[column],\n            borderColor: columnColorObject[column],\n            pointBorderColor: columnColorObject[column],\n            pointBackgroundColor: columnColorObject[column],\n            data: rows.map(i => i[index]),\n            hidden: index !== columns.length - 1\n        }\n    })\n    const graphData = {\n        labels,\n        datasets\n    }\n    return (\n        <StyledLine>\n            <Line redraw={true} data={graphData} />\n        </StyledLine>\n    )\n}\n","import * as React from 'react'\nimport styled from 'styled-components'\n\nconst TopBar = styled.div`\n    width: 100%;\n    cursor: pointer;\n`\n\nexport default function Accordion (props: {\n    label: string,\n    expanded: boolean,\n    toggle: Function\n}) {\n    const { className, label, expanded, toggle } = props\n    return (\n        <div className={className}>\n            <TopBar onClick={() => toggle()}>\n                {label}\n            </TopBar>\n            {expanded && props.children}\n        </div>\n    )\n}\n","import React, { useEffect, useRef, useState } from 'react'\nimport { Link } from 'react-router-dom'\nimport styled from 'styled-components'\nimport * as styles from 'styles'\nimport premade from 'utils/premade.json'\nimport StyledInput from 'components/StyledInput'\nimport Accordion from 'components/Accordion'\n\nconst StyledFunctionSearch = styled.div`\n    padding: 4px 0px;\n    background: ${styles.extraLightGray};\n    height: 100%;\n    overflow-y: auto;\n    overflow-x: hidden;\n    box-shadow: 0px 4px 6px 4px #aaa;\n    border-radius: 6px;\n`\n\nconst Title = styled.div`\n    padding-left: 4px;\n    width: 500px;\n    margin: 4px;\n    font-size: 1.4rem;\n    font-weight: bold;\n`\n\nconst TitleSection = styled.div`\n    padding-top: 4px;\n    display: flex;\n    cursor: pointer;\n`\n\nconst Close = styled.div`\n    width: 100%;\n    padding: 4px;\n    text-align: right;\n    i {\n        font-size: 2rem;\n        border-radius: 20px;\n        :hover {\n            background: white;\n        }\n    }\n`\n\nconst StyledItem = styled.div`\n    display: flex;\n    padding: 4px;\n    a {\n        color: black;\n        text-decoration: none;\n    }\n    i {\n        font-weight: bold;\n        color: ${styles.extraLightGray};\n    }\n    :hover {\n        i {\n            color: red;\n        }\n    }\n`\n\nconst DeleteButton = styled.div`\n    i {\n        cursor: pointer;\n        font-size: 1rem;\n        border-radius: 5px;\n        padding-top: 2px;\n        :hover {\n            position: relative;\n            ::after {\n                font-family: 'Ubuntu', sans-serif;\n                font-weight: bold;\n                content: \"DELETE\";\n                position: absolute;\n                top: -2px;\n                right: -8px;\n                background-color: ${styles.yellow};\n                border-radius: 15px;\n                padding: 5px 25px 5px 10px;\n            }\n        }\n    }\n`\n\nconst Label = styled.div`\n    width: 100%;\n    a {\n        padding: 6px;\n        border-radius: 10px;\n        cursor: pointer;\n        :hover {\n            background: ${styles.lightYellow};\n        }\n    }\n`\n\nconst SubSection = styled.div`\n    font-weight: bold;\n    padding: 8px;\n    font-size: 1.2rem;\n`\n\nconst NoLocal = styled.div`\n    padding: 6px;\n`\n\nconst SearchInput = styled(StyledInput)`\n    margin: 4px;\n    width: 264px;\n    margin-bottom: 14px;\n`\n\nconst CategoryLabel = styled.div`\n    padding: 6px;\n    font-weight: bold;\n    padding-left: 8px;\n    background-color: ${styles.lightGray};\n`\n\nfunction escapeRegExp (string) {\n    return string.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&') // $& means the whole matched string\n}\n\nfunction score ({ regexArray, name, url, category, notes }) {\n    let score = 0\n    regexArray.forEach(regex => {\n        score += (name.match(regex) || { length: 0 }).length * 100\n        score += (category.match(regex) || { length: 0 }).length * 50\n        score += (url.match(regex) || { length: 0 }).length * 10\n        score += (notes.match(regex) || { length: 0 }).length * 1\n    })\n    return score\n}\n\nfunction sortByScore (a, b) {\n    if (a.sort > b.sort) {\n        return -1\n    } else if (a.sort < b.sort) {\n        return 1\n    } else {\n        if (a.name < b.name) {\n            return -1\n        } else {\n            return 1\n        }\n    }\n}\n\n// Takes in the functions object and returns an array of functions in order of relevance\nfunction filterWithSort ({ listObject, filter }) {\n    const keys = Object.keys(listObject)\n    const regexArray = []\n    // Try to use the filter as a regular if it's valid, otherwise use it as a string literal\n    // And ignore case\n    filter.split(' ').forEach(filterPart => {\n        let regex\n        try {\n            regex = new RegExp(filterPart, 'gi')\n        } catch (err) {\n            regex = new RegExp(escapeRegExp(filterPart), 'gi')\n        }\n        regexArray.push(regex)\n    })\n\n    const equationCategories = {}\n    keys.forEach(key => {\n        const equation = listObject[key]\n        const sort = score({ name: key, url: equation.url, category: equation.category || '', notes: equation.notes || '', regexArray })\n        if (sort > 0) {\n            if (!equationCategories[equation.category || 'None']) {\n                equationCategories[equation.category || 'None'] = []\n            }\n            equationCategories[equation.category || 'None'].push({\n                name: key,\n                url: equation.url,\n                category: equation.category,\n                notes: equation.notes,\n                sort\n            })\n        }\n    }, [])\n    const res = []\n    Object.keys(equationCategories).forEach(key => {\n        res.push({ name: key, equations: equationCategories[key].sort(sortByScore) })\n    })\n    return res\n}\n\nfunction SelfStateAccordion (props) {\n    const { label } = props\n    const [isOpen, setIsOpen] = useState(true)\n\n    return <Accordion label={label} expanded={isOpen} toggle={() => setIsOpen(!isOpen)}>\n        {props.children}\n    </Accordion>\n}\n\nexport default function FunctionSearch (props) {\n    const { toggleSearch, deleteLocalFunction, localFunctions } = props\n    const [filter, setFilter] = useState('')\n\n    const searchElement = useRef()\n\n    useEffect(() => {\n        searchElement.current.focus()\n    }, [])\n\n    const filteredLocal = filterWithSort({ filter, listObject: localFunctions })\n    const filteredPremade = filterWithSort({ filter, listObject: premade })\n\n    function renderLocalEquation (equation) {\n        return (\n            <StyledItem key={equation.name}>\n                <Label>\n                    <Link to={equation.url}>{equation.name}</Link>\n                </Label>\n                <DeleteButton onClick={() => {\n                    deleteLocalFunction(equation.name)\n                }}>\n                    <i className='material-icons'>close</i>\n                </DeleteButton>\n            </StyledItem>\n        )\n    }\n\n    function renderLocalCategory ({ name, equations }) {\n        return (\n            <SelfStateAccordion key={name} label={<CategoryLabel>Category: {name}</CategoryLabel>}>\n                {equations.map(renderLocalEquation)}\n            </SelfStateAccordion>\n        )\n    }\n\n    function renderPremadeEquation (equation) {\n        return (\n            <StyledItem key={equation.name}>\n                <Label>\n                    <Link to={equation.url}>{equation.name}</Link>\n                </Label>\n            </StyledItem>\n        )\n    }\n\n    function renderPremadeCategory ({ name, equations }) {\n        return (\n            <SelfStateAccordion key={name} label={<CategoryLabel>Category: {name}</CategoryLabel>}>\n                {equations.map(renderPremadeEquation)}\n            </SelfStateAccordion>\n        )\n    }\n\n    return (\n        <StyledFunctionSearch>\n            <TitleSection onClick={toggleSearch}>\n                <Title>\n                    Search Vault\n                </Title>\n                <Close onClick={toggleSearch}>\n                    <i className='material-icons'>close</i>\n                </Close>\n            </TitleSection>\n            <SearchInput\n                ref={searchElement}\n                placeholder='Filter'\n                value={filter}\n                onChange={event => setFilter(event.target.value)}\n            />\n            {filteredLocal.length === 0\n                ? <NoLocal>Your personal vault is empty</NoLocal>\n                : null\n            }\n            {filteredLocal.map(renderLocalCategory)}\n            {filteredPremade.length > 0\n                ? <SubSection>Standard Arsenal</SubSection>\n                : null\n            }\n            {filteredPremade.map(renderPremadeCategory)}\n        </StyledFunctionSearch>\n    )\n}\n","import * as React from 'react'\nimport { withRouter } from 'react-router-dom'\nimport styled from 'styled-components'\nimport { passToHistory } from 'utils/qs'\nimport getColor from 'utils/math/getColor'\nimport { formatNumber, recursiveSolve, solveWithAddedContext } from 'utils/math'\nimport premade from 'utils/premade.json'\nimport { getLocalStorage, setLocalStorage } from 'utils/localStorage'\nimport { withQsContext } from 'containers/qsContext'\nimport MathML from 'components/MathML'\nimport ObjectCreator from 'components/ObjectCreator'\nimport TableGenerator from 'components/TableGenerator'\nimport RightFloater from 'components/RightFloater'\nimport SearchButton from 'components/buttons/Search'\nimport SaveButton from 'components/buttons/Save'\nimport MaterialButton from 'components/buttons/Material'\nimport ForgeButton from 'components/buttons/Forge'\nimport CommandButton from 'components/buttons/Command'\nimport ReviewButton from 'components/buttons/Review'\nimport DataGrid from 'components/DataGrid'\nimport Graph from 'components/Graph'\nimport FunctionSearch from 'components/FunctionSearch'\nimport Accordion from 'components/Accordion'\nimport * as styles from 'styles'\n\nconst StyledRoot = styled.div`\n    display: flex;\n    min-height: 1px;\n`\n\nconst StyledMain = styled.div`\n    display: flex;\n    flex-direction: column;\n    @media (max-width: 800px) {\n      width: 100% !important;\n    }\n    display: flex;\n    overflow: auto;\n`\n\nconst StyledSearch = styled.div`\n    position: fixed;\n    width: 0px;\n    right: 0px;\n    top: 64px;\n    bottom: 0px;\n    transition: width 150ms ease-in-out;\n`\n\nconst AccordionContents = styled.div`\n    padding: 5px 60px;\n    @media (max-width: 800px) {\n      padding-left: 5px;\n      padding-right: 5px;\n    }\n`\n\nconst StyledMaterialSection = styled.div`\n`\n\nconst StyledObjectCreator = styled.div`\n`\n\nconst StyledMath = styled.div`\n`\n\nconst StyledGraph = styled.div`\n`\n\nconst StyledTableScrollableLimit = styled.div`\n    width: 100%;\n    overflow: auto;\n`\n\nconst StyledTableScrollable = styled.div`\n`\n\nconst StyledDataGrid = styled.div`\n    input {\n      background-color: ${styles.yellow};\n      ${styles.inputStyle}\n    }\n`\n\nconst Section = styled.div`\n    display: flex;\n    align-items: center;\n`\n\nconst Title = styled.div`\n    font-size: 1.5rem;\n    padding-left: 1rem;\n    color: ${styles.primaryColor};\n    font-weight: bold;\n`\n// text-shadow: -1px 1px 2px #000;\n\nconst StyledSolution = styled.div`\n    font-weight: bold;\n    text-align: center;\n    padding: 20px;\n`\n\nconst MenuButton = styled.div`\n    padding: 5px;\n`\n\nconst StyledText = styled.div`\n    padding: 5px;\n`\n\nclass Root extends React.Component {\n    // interface State {\n    //   table: Array<Array<any>>,\n    //   showSearch: boolean\n    // }\n    state = {\n        table: [\n            []\n        ],\n        initialSelectionCell: {}\n    }\n\n    UNSAFE_componentWillMount () {\n        const localStorageFunctions = this.getLocalStorageFunctions()\n        const accordionState = {\n            showSearch: true,\n            showMaterial: true,\n            showForge: true,\n            showReview: true,\n            showCommand: true,\n            ...this.getLocalStorageAccordionState()\n        }\n        let category = ''\n        if (this.props.text) {\n            if (localStorageFunctions[this.props.text]) {\n                category = localStorageFunctions[this.props.text].category\n            } else if (premade[this.props.text]) {\n                category = premade[this.props.text].category\n            }\n        }\n        let notes = ''\n        if (this.props.text) {\n            if (localStorageFunctions[this.props.text]) {\n                notes = localStorageFunctions[this.props.text].notes\n            } else if (premade[this.props.text]) {\n                notes = premade[this.props.text].notes\n            }\n        }\n        this.setState({\n            table: this.generateTable(this.props),\n            localStorageFunctions,\n            accordionState,\n            notes,\n            category\n        })\n    }\n\n    UNSAFE_componentWillReceiveProps (nextProps) {\n        const localStorageFunctions = this.getLocalStorageFunctions()\n        const { info = {}, generatorSettings = {}, columnSettings = {} } = nextProps\n        const missingVariables = info.fullMissingContext || []\n        const currentProps = this.props\n        const currentMissingVariables = currentProps.info.missingVariables || []\n        if (currentProps.info.solvableEquation !== info.solvableEquation ||\n            currentProps.generatorSettings.left !== generatorSettings.left ||\n            currentProps.generatorSettings.right !== generatorSettings.right ||\n            Object.keys(currentProps.columnSettings).some(key => {\n                return typeof currentProps.columnSettings[key] !== typeof columnSettings[key] ||\n                    currentProps.columnSettings[key].start !== columnSettings[key].start ||\n                    currentProps.columnSettings[key].interval !== columnSettings[key].interval\n            }) ||\n            currentMissingVariables.some(previous => !missingVariables.includes(previous)) ||\n            missingVariables.some(next => !currentMissingVariables.includes(next))) {\n            const newState = {\n                table: this.generateTable(nextProps),\n                localStorageFunctions\n            }\n            if (this.props.text !== nextProps.text) {\n                if (!nextProps.text) {\n                    newState.category = ''\n                } else if (localStorageFunctions[nextProps.text]) {\n                    newState.category = localStorageFunctions[nextProps.text].category || ''\n                } else if (premade[nextProps.text]) {\n                    newState.category = premade[nextProps.text].category || ''\n                }\n            }\n            if (this.props.text !== nextProps.text) {\n                if (!nextProps.text) {\n                    newState.notes = ''\n                } else if (localStorageFunctions[nextProps.text]) {\n                    newState.notes = localStorageFunctions[nextProps.text].notes || ''\n                } else if (premade[nextProps.text]) {\n                    newState.notes = premade[nextProps.text].notes || ''\n                }\n            }\n            this.setState(newState)\n        }\n    }\n\n    generateTable ({ info, columnSettings, generatorSettings }) {\n        const missingVariables = info.fullMissingContext || []\n        const { left = 0, right = 10 } = generatorSettings\n        const table = []\n        const generatorColumns = missingVariables.map(column => {\n            let start = 0\n            let interval = 1\n            if (columnSettings[column] && columnSettings[column].start) {\n                start = columnSettings[column].start\n            }\n            if (columnSettings[column] && columnSettings[column].interval) {\n                interval = columnSettings[column].interval\n            }\n            return {\n                name: column,\n                start,\n                interval\n            }\n        })\n        const runner = {\n            iteration: -1 * parseInt(left, 10)\n        }\n        function calculateIteration (column) {\n            return parseFloat(column.start) + runner.iteration * parseFloat(column.interval)\n        }\n        while (runner.iteration <= parseInt(right, 10)) {\n            const simpleContext = {}\n            const cells = generatorColumns.map(column => {\n                const res = calculateIteration(column)\n                simpleContext[column.name] = res\n                return Number(res.toFixed(10))\n            })\n            const solution = Number(parseFloat(solveWithAddedContext({ text: info.solvableEquation, simpleContext }).solution || 0).toFixed(10))\n            table.push([...cells, solution])\n            runner.iteration++\n        }\n        return table\n    }\n\n    passCleanedSettingsToHistory (oldHistoryObject, newHistoryObject) {\n        const cleanedHistoryObject = {\n            history: oldHistoryObject.history,\n            text: oldHistoryObject.text,\n            category: oldHistoryObject.category,\n            notes: oldHistoryObject.notes,\n            context: { ...oldHistoryObject.context },\n            columnSettings: { ...oldHistoryObject.columnSettings },\n            generatorSettings: { ...oldHistoryObject.generatorSettings },\n            pushToHistory: (!oldHistoryObject.text && newHistoryObject.text) || (oldHistoryObject.text && !newHistoryObject.text)\n        }\n\n        if (newHistoryObject.columnSettings) {\n            cleanedHistoryObject.columnSettings = { ...newHistoryObject.columnSettings }\n            cleanedHistoryObject.pushToHistory = false\n        }\n\n        if (newHistoryObject.generatorSettings) {\n            cleanedHistoryObject.generatorSettings = { ...newHistoryObject.generatorSettings }\n            cleanedHistoryObject.pushToHistory = false\n        }\n\n        if (typeof newHistoryObject.category === 'string') {\n            cleanedHistoryObject.category = newHistoryObject.category\n            cleanedHistoryObject.pushToHistory = false\n        }\n\n        if (typeof newHistoryObject.notes === 'string') {\n            cleanedHistoryObject.notes = newHistoryObject.notes\n            cleanedHistoryObject.pushToHistory = false\n        }\n\n        if (newHistoryObject.text || newHistoryObject.context) {\n            const info = recursiveSolve({ text: newHistoryObject.text, context: newHistoryObject.context })\n            Object.keys(cleanedHistoryObject.columnSettings).forEach(key => {\n                if (!info.fullMissingContext.includes(key)) {\n                    delete cleanedHistoryObject.columnSettings[key]\n                }\n            })\n            cleanedHistoryObject.text = newHistoryObject.text\n            cleanedHistoryObject.context = { ...newHistoryObject.context }\n        }\n\n        passToHistory({ ...cleanedHistoryObject })\n    }\n\n    colorVariables ({ variables, columnColorObject }) {\n        return variables.map(variable => {\n            return <div key={variable} style={{ fontWeight: 'bold', color: columnColorObject[variable] }}>{variable}</div>\n        })\n    }\n\n    toggleHelp = () => {\n        this.setState({ showHelp: !this.state.showHelp })\n    }\n\n    toggleSearch = () => {\n        this.setLocalStorageAccordionState({ ...this.state.accordionState, showSearch: !this.state.accordionState.showSearch })\n    }\n\n    toggleMaterial = () => {\n        this.setLocalStorageAccordionState({ ...this.state.accordionState, showMaterial: !this.state.accordionState.showMaterial })\n    }\n\n    toggleForge = () => {\n        this.setLocalStorageAccordionState({ ...this.state.accordionState, showForge: !this.state.accordionState.showForge })\n    }\n\n    toggleReview = () => {\n        this.setLocalStorageAccordionState({ ...this.state.accordionState, showReview: !this.state.accordionState.showReview })\n    }\n\n    toggleWield = () => {\n        this.setLocalStorageAccordionState({ ...this.state.accordionState, showWield: !this.state.accordionState.showWield })\n    }\n\n    toggleCommand = () => {\n        this.setLocalStorageAccordionState({ ...this.state.accordionState, showCommand: !this.state.accordionState.showCommand })\n    }\n\n    getLocalStorageFunctions = () => {\n        return getLocalStorage('localFunctions') || {}\n    }\n\n    setLocalStorageFunctions = (localStorageFunctions) => {\n        setLocalStorage('localFunctions', localStorageFunctions)\n        this.setState({ localStorageFunctions })\n    }\n\n    getLocalStorageAccordionState = () => {\n        return getLocalStorage('accordion')\n    }\n\n    setLocalStorageAccordionState = (accordionState) => {\n        setLocalStorage('accordion', accordionState)\n        this.setState({ accordionState })\n    }\n\n    saveLocalFunction = ({ history, name, category, notes }) => {\n        const localStorageFunctions = this.getLocalStorageFunctions()\n        localStorageFunctions[name] = {\n            category,\n            notes,\n            date: Date.now(),\n            url: history.location.path || '' + history.location.search || ''\n        }\n        this.setLocalStorageFunctions(localStorageFunctions)\n    }\n\n    deleteLocalFunction = (name) => {\n        const localStorageFunctions = this.getLocalStorageFunctions()\n        delete localStorageFunctions[name]\n        this.setLocalStorageFunctions(localStorageFunctions)\n    }\n\n    setInitialSelectionCell = (selection) => {\n        this.setState({ ...this.state, initialSelectionCell: selection })\n    }\n\n    render () {\n        const { info, text, context, columnSettings, generatorSettings, history } = this.props\n        const historyObject = { history, text, context, generatorSettings, columnSettings }\n\n        const {\n            table,\n            category,\n            notes,\n            localStorageFunctions,\n            accordionState: {\n                showSearch,\n                showMaterial,\n                showForge,\n                showReview,\n                // showWield,\n                showCommand\n            }\n        } = this.state\n        const solution = info.resolution.solution\n        const mathml = info.mathml\n        const missingVariables = info.fullMissingContext.filter(i => i !== text)\n        const columnColorObject = missingVariables.reduce((acc, current) => {\n            const res = { ...acc }\n            res[current] = getColor(current)\n            return res\n        }, {})\n        columnColorObject[text] = getColor(text)\n        return (\n            <StyledRoot>\n                <StyledMain style={{ width: showSearch ? 'calc(100% - 300px)' : '100%' }}>\n                    <Accordion\n                        expanded={showForge}\n                        toggle={this.toggleForge}\n                        label={\n                            <Section>\n                                <ForgeButton />\n                                <Title>Build Equation</Title>\n                            </Section>\n                        }>\n                        <AccordionContents>\n                            <StyledObjectCreator>\n                                <ObjectCreator\n                                    info={{ ...info, name: '' }}\n                                    onContextChange={({ text, context }) => this.passCleanedSettingsToHistory(historyObject,\n                                        {\n                                            text,\n                                            context\n                                        })}\n                                    category={category}\n                                    onCategoryChange={event => {\n                                        this.setState({ category: event.target.value })\n                                    }}\n                                    notes={notes}\n                                    onNotesChange={event => {\n                                        this.setState({ notes: event.target.value })\n                                    }}\n                                />\n                                {solution &&\n                                    <StyledSolution style={{ color: columnColorObject[text] }}>\n                                        {text} = {formatNumber(solution)}\n                                    </StyledSolution>\n                                }\n                            </StyledObjectCreator>\n                        </AccordionContents>\n                    </Accordion>\n                    <Accordion\n                        expanded={showReview}\n                        toggle={this.toggleReview}\n                        label={\n                            <Section>\n                                <ReviewButton />\n                                <Title>Review</Title>\n                            </Section>\n                        }>\n                        <AccordionContents>\n                            <StyledMath>\n                                {mathml\n                                    ? <MathML title={text} mathml={mathml} />\n                                    : <StyledText>\n                                        Define your equation. Go to <ForgeButton style={{ height: 40, width: 40, display: 'inline' }} onClick={this.toggleForge} />Build Equation\n                                        <br />\n                                        <br />\n                                    </StyledText>\n                                }\n                            </StyledMath>\n                        </AccordionContents>\n                    </Accordion>\n                    <Accordion\n                        expanded={showMaterial}\n                        toggle={this.toggleMaterial}\n                        label={\n                            <Section>\n                                <MaterialButton />\n                                <Title>Define Variables</Title>\n                            </Section>\n                        }>\n                        <AccordionContents>\n                            <StyledMaterialSection>\n                                <StyledTableScrollableLimit>\n                                    <StyledTableScrollable\n                                        style={{\n                                            width: missingVariables.length ? ((missingVariables.length + 1) * (styles.materialColumnWidth + 4) + styles.materialIterationWidth + 6) : '100%'\n                                        }}>\n                                        {missingVariables.length > 0 &&\n                                            <TableGenerator\n                                                info={info}\n                                                columns={missingVariables}\n                                                columnColorObject={columnColorObject}\n                                                columnSettings={columnSettings}\n                                                settings={generatorSettings}\n                                                onGeneratorSettingChange={settings => this.passCleanedSettingsToHistory(historyObject,\n                                                    {\n                                                        generatorSettings: settings\n                                                    })}\n                                                onColumnSettingChange={settings => this.passCleanedSettingsToHistory(historyObject,\n                                                    {\n                                                        columnSettings: settings\n                                                    })}\n                                                tableGenerated={table => this.setState({ table })} />\n                                        }\n                                        {missingVariables.length > 0\n                                            ? <StyledDataGrid>\n                                                <DataGrid header={[['Iteration', ...this.colorVariables({ variables: [...missingVariables, text], columnColorObject })]]}\n                                                    numbered\n                                                    numberedOffset={generatorSettings.left || 0}\n                                                    body={table}\n                                                    styles={{\n                                                        header: {\n                                                            td: { textAlign: 'right' }\n                                                        },\n                                                        body: {\n                                                            edit: {\n                                                                width: styles.materialColumnWidth - 10\n                                                            },\n                                                            td: {\n                                                                width: styles.materialColumnWidth,\n                                                                textAlign: 'right',\n                                                                borderRadius: 2,\n                                                                boxShadow: '0px 0px 3px 2px #CCC'\n                                                            },\n                                                            numbered: { width: styles.materialIterationWidth, textAlign: 'left' }\n                                                        }\n                                                    }}\n                                                    highlightColor='#bfa'\n                                                    highlightInitialColor='#7f7'\n                                                    hoverHeaderAndNumberedColor='#fc04'\n                                                    initialSelectionCell={this.state.initialSelectionCell}\n                                                    setInitialSelectionCell={this.setInitialSelectionCell}\n                                                    callback={(row, column, data) => {\n                                                        table[row][column] = data\n                                                        this.setState({ table })\n                                                    }} />\n                                            </StyledDataGrid>\n                                            : <div>\n                                                Start by naming your problem. Go to <ForgeButton style={{ height: 40, width: 40, display: 'inline' }} onClick={this.toggleForge} />Build Equation\n                                                <br />\n                                                <br />\n                                                As you break things down, anything named that is left without a value can be defined here.\n                                                <br />\n                                                <br />\n                                            </div>\n                                        }\n                                    </StyledTableScrollable>\n                                </StyledTableScrollableLimit>\n                            </StyledMaterialSection>\n                        </AccordionContents>\n                    </Accordion>\n                    <Accordion\n                        expanded={showCommand}\n                        toggle={this.toggleCommand}\n                        label={\n                            <Section>\n                                <CommandButton />\n                                <Title>Graph</Title>\n                            </Section>\n                        }>\n                        <AccordionContents>\n                            <StyledGraph>\n                                {missingVariables.length > 0\n                                    ? <Graph\n                                        columns={[...missingVariables, text]}\n                                        columnColorObject={columnColorObject}\n                                        rows={table}\n                                        generatorSettings={generatorSettings} />\n                                    : <StyledText>\n                                        The graph uses numbers from <MaterialButton style={{ height: 40, width: 40, display: 'inline' }} onClick={this.toggleMaterial} /> Define Variables\n                                    </StyledText>\n                                }\n                            </StyledGraph>\n                        </AccordionContents>\n                    </Accordion>\n                </StyledMain>\n                <StyledSearch style={{ width: showSearch ? 300 : 0 }}>\n                    {showSearch && <FunctionSearch\n                        localFunctions={localStorageFunctions}\n                        deleteLocalFunction={this.deleteLocalFunction}\n                        toggleSearch={this.toggleSearch}\n                    />}\n                </StyledSearch>\n                <RightFloater style={{ display: 'flex' }}>\n                    <MenuButton>\n                        <SaveButton\n                            hover\n                            text={text}\n                            location={history.location}\n                            onClick={() => {\n                                this.saveLocalFunction({ history, name: text, category, notes })\n                            }} />\n                    </MenuButton>\n                    <MenuButton><SearchButton hover active={showSearch} onClick={this.toggleSearch} /></MenuButton>\n                </RightFloater>\n            </StyledRoot>\n        )\n    }\n}\n\nexport default withQsContext(withRouter(Root))\n","import React from 'react'\nimport styled from 'styled-components'\nimport { formatNumber } from 'utils/math'\n\nconst StyledCell = styled.div`\n    display: flex;\n    flex-direction: column;\n    min-width: 200px;\n    width: 200px;\n    margin: 2px;\n`\n\nconst Label = styled.div`\n    margin-left: 2px;\n    min-height: 1.2rem;\n`\n\nconst Value = styled.div`\n    margin-left: 2px;\n    text-align: right;\n`\n\nconst InheritedValue = styled.div`\n    color: gray;\n    margin-left: 2px;\n    text-align: right;\n`\n\nconst Solution = styled.div`\n    margin-right: 2px;\n    text-align: right;\n`\n\nexport default function Cell (props) {\n    const { value, info } = props\n    if (info) { // if there's info then it must be the root\n        const { solution } = props\n        return (\n            <StyledCell>\n                <Label>\n                    {value}\n                </Label>\n                <Solution>\n                    {formatNumber(solution)}\n                </Solution>\n            </StyledCell>\n        )\n    } else {\n        const { label, isInherited } = props\n        return (\n            <StyledCell>\n                <Label>\n                    {label}\n                </Label>\n                {isInherited\n                    ? <InheritedValue>\n                        {formatNumber(value)}\n                    </InheritedValue>\n                    : <Value>\n                        {value === '' ? 'undefined' : formatNumber(value)}\n                    </Value>\n                }\n            </StyledCell>\n        )\n    }\n}\n","import React, { useEffect, useState } from 'react'\nimport styled from 'styled-components'\n\nconst StyledAutocomplete = styled.div`\n    position: relative;\n    width: 100%;\n`\n\nconst StyledInput = styled.input`\n    position: relative;\n    width: 100%;\n`\n\nconst Suggestions = styled.div`\n    position: absolute;\n    width: 100%;\n`\n\nconst SuggestionsWithHover = styled(Suggestions)`\n    div:hover {\n        background: lightblue;\n    }\n`\n\nconst StyledSuggestion = styled.div`\n    cursor: pointer;\n    background: lightgray;\n    padding: 4px;\n`\n\nfunction Suggestion (props) {\n    return (\n        <StyledSuggestion {...props} style={{ backgroundColor: props.active && 'lightblue' }}>\n            {props.id}\n        </StyledSuggestion>\n    )\n}\n\nfunction getSuggestions (options, textToMatch) {\n    const regex = new RegExp(textToMatch, 'i')\n    return options.filter(option => regex.test(option.id))\n}\n\nfunction handleKeyDown (event, state, setState, suggestions, onSelect) {\n    if (event.key === 'ArrowDown') {\n        if (state.activeIndex === undefined || state.activeIndex + 1 >= suggestions.length) {\n            setState({ isMouseControlled: false, activeIndex: 0 })\n        } else {\n            setState({ isMouseControlled: false, activeIndex: state.activeIndex + 1 })\n        }\n    }\n    if (event.key === 'ArrowUp') {\n        if (state.activeIndex === undefined) {\n            setState({ isMouseControlled: false, activeIndex: 0 })\n        } else if (state.activeIndex === 0) {\n            setState({ isMouseControlled: false, activeIndex: suggestions.length - 1 })\n        } else {\n            setState({ isMouseControlled: false, activeIndex: state.activeIndex - 1 })\n        }\n    }\n    if (event.key === 'Enter') {\n        if (!state.isMouseControlled && state.activeIndex !== undefined) {\n            event.stopPropagation()\n            onSelect(suggestions[state.activeIndex].id)\n        } else if (suggestions.length === 1) {\n            event.stopPropagation()\n            onSelect(suggestions[0].id)\n        }\n    }\n    if (event.key === 'Escape') {\n        if (!state.isMouseControlled || state.activeIndex !== undefined) {\n            setState({ isMouseControlled: true })\n        }\n    }\n}\n\nexport default function Autocomplete (props) {\n    const { className, editorRef, value, onChange, onSelect, options } = props\n\n    const [suggestions, setSuggestions] = useState([])\n\n    useEffect(() => {\n        setSuggestions(getSuggestions(options, value))\n    }, [value, options])\n\n    const [state, setState] = useState({ isMouseControlled: true })\n\n    return (\n        <StyledAutocomplete className={className} onMouseMove={() => {\n            if (state.isMouseControlled === false) {\n                setState({ isMouseControlled: true, activeIndex: state.activeIndex })\n            }\n        }}>\n            <StyledInput\n                value={value}\n                onChange={event => onChange(event.target.value)}\n                onKeyDown={event => handleKeyDown(event, state, setState, suggestions, onSelect)}\n                ref={editorRef}\n            />\n            {state.isMouseControlled\n                ? <SuggestionsWithHover>\n                    {suggestions.map(option => <Suggestion key={option.id} onClick={() => onSelect(option.id)} {...option}></Suggestion>)}\n                </SuggestionsWithHover>\n                : <Suggestions>\n                    {suggestions.map((option, index) => <Suggestion key={option.id} active={index === state.activeIndex} onClick={() => onSelect(option.id)} {...option}></Suggestion>)}\n                </Suggestions>\n            }\n        </StyledAutocomplete>\n    )\n}\n","import React from 'react'\nimport styled from 'styled-components'\nimport * as styles from 'styles'\nimport ObjectCreator from 'components/ObjectCreator'\nimport Autocomplete from 'components/Autocomplete'\nimport { recursiveSolve, stripContext } from 'utils/math'\nimport { getEquationFromUrl } from 'utils/qs'\nimport premade from 'utils/premade.json'\n\nconst StyledEditCell = styled.div`\n    position: relative;\n    display: flex;\n    flex-direction: column;\n`\n\nconst Label = styled.div`\n`\n\nconst StyledAutocomplete = styled(Autocomplete)`\n    min-height: 1.2rem;\n    input {\n        font-size: 1rem;\n        width: 202px;\n        padding-left: 4px;\n        background-color: ${styles.inputFocus};\n        outline: none;\n        height: 40px;\n    }\n`\n\nconst StyledInput = styled.input`\n    min-width: 202px;\n    width: 202px;\n    min-height: 1.2rem;\n    background-color: ${styles.inputFocus};\n    text-align: right;\n`\n\nconst Equation = styled.div`\n    position: absolute;\n    background-color: #f6f6ff;\n    left: 210px;\n    width: calc(100vw - 248px);\n    border-radius: 10px;\n    padding: 8px;\n    \n    @media (max-width:768px) {\n        left: 0px;\n        top: 45px;\n        width: calc(100vw - 28px);\n    }\n`\n\nconst EditActionBar = styled.div`\n    display: flex;\n    justify-content: space-between;\n`\n\nconst Section = styled.div`\n    display: flex;\n`\n\nconst Clickable = styled.div`\n    margin: 5px;\n    cursor: pointer;\n    color: ${styles.primaryColor};\n`\n\nfunction EditEquation (props) {\n    const {\n        editorValue,\n        editorRef,\n        onChange,\n        onKeyDown,\n        autocompleteOptions,\n        localFunctions,\n        saveNewFunction,\n        closeEditor\n    } = props\n\n    return (\n        <StyledEditCell onKeyDown={onKeyDown}>\n            <Equation>\n                <EditActionBar>\n                    <Section>\n                        <Clickable onClick={() => closeEditor()}>Save</Clickable>\n                        <Clickable onClick={() => closeEditor(false)}>Cancel</Clickable>\n                    </Section>\n                    <Section>\n                        <Clickable onClick={() => {\n                            console.log('editorValue', editorValue)\n                            saveNewFunction({\n                                name: editorValue.value,\n                                category: editorValue.category,\n                                context: editorValue.info.context,\n                                notes: editorValue.notes,\n                                text: editorValue.info.text\n                            }, localFunctions)\n                            closeEditor()\n                        }}>Make Reusable</Clickable>\n                        <Clickable onClick={() => onChange({ ...editorValue, info: recursiveSolve({ text: '' }) })}>Clear</Clickable>\n                    </Section>\n                </EditActionBar>\n                <ObjectCreator\n                    info={{ ...editorValue.info, name: editorValue.value || '' }}\n                    onContextChange={info => onChange({ ...editorValue, info: recursiveSolve({ text: info.text, context: stripContext(info.context) }) })}\n                    onCategoryChange={event => onChange({ ...editorValue, category: event.target.value })}\n                    onNotesChange={event => onChange({ ...editorValue, notes: event.target.value })}\n                />\n            </Equation>\n            <StyledAutocomplete\n                editorRef={editorRef}\n                value={editorValue.value}\n                onChange={value => onChange({ ...editorValue, value })}\n                onSelect={functionName => {\n                    let newInfo\n                    if (localFunctions[functionName] && localFunctions[functionName].url) {\n                        newInfo = getEquationFromUrl(localFunctions[functionName].url).context[functionName]\n                    } else if (localFunctions[functionName]) {\n                        newInfo = { context: localFunctions[functionName].context, text: localFunctions[functionName].text }\n                    } else if (premade[functionName]) {\n                        newInfo = getEquationFromUrl(premade[functionName].url).context[functionName]\n                    }\n                    closeEditor(true, { info: newInfo, value: functionName })\n                }}\n                options={editorValue && editorValue.info && editorValue.info.text !== '' ? [] : autocompleteOptions}\n            />\n        </StyledEditCell>\n    )\n}\n\nexport default function EditCell (props) {\n    const { label } = props\n    if (label) {\n        const { editorValue, editorRef, onChange, onKeyDown } = props\n\n        const textValue = typeof editorValue === 'object' ? editorValue.value : editorValue\n\n        return (\n            <StyledEditCell onKeyDown={onKeyDown}>\n                <Label>{label}</Label>\n                <StyledInput\n                    ref={editorRef}\n                    onChange={event => {\n                        onChange(event.target.value)\n                    }}\n                    value={textValue === undefined ? '' : textValue} />\n            </StyledEditCell>\n        )\n    } else {\n        return <EditEquation {...props} />\n    }\n}\n","import React, { useEffect, useReducer, useState } from 'react'\nimport styled from 'styled-components'\nimport * as styles from 'styles'\nimport DataGrid from 'components/DataGrid'\nimport Cell from 'components/Cell'\nimport EditCell from 'components/EditCell'\nimport { recursiveSolve, stripContext } from 'utils/math'\nimport { getLocalStorage, setLocalStorage, useLocalStorage } from 'utils/localStorage'\nimport premade from 'utils/premade.json'\n\nconst StyledSheet = styled.div`\n    min-height: 1px;\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n`\n\nconst Top = styled.div`\n    display: flex;\n    width: 100%;\n    min-height: 42px;\n    background-color: ${styles.lightGray};\n    ${'' /* box-shadow: 0px 4px 8px #888;\n    border-radius: 3px; */}\n`\n\nconst Bottom = styled.div`\n    display: flex;\n    overflow: auto;\n    flex-grow: 1;\n`\n\nconst Left = styled.div`\n    width: 200px;\n    min-width: 200px;\n`\n\nconst Label = styled.div`\n    margin-top: 4px;\n    margin-left: 8px;\n    font-size: 1.1rem;\n`\n\nconst Result = styled.div`\n    position: absolute;\n    font-size: 1.1rem;\n    top: 78px;\n    left: 150px;\n`\n\nconst RowSection = styled.div`\n    display: flex;\n    margin-left: auto;\n`\n\nconst RowButton = styled.div`\n    margin: 5px;\n    cursor: pointer;\n    color: ${styles.primaryColor};\n`\n\nexport default function Sheet (props) {\n    const [localFunctions, setLocalFunctions] = useLocalStorage({}, 'localFunctions')\n    const [dataGridEdit, setDataGridEdit] = useState({})\n    const [equationArray, dispatchEquation] = useReducer(equationReducer, { gridBody: [] })\n    const [initialSelectionCell, setInitialSelectionCell] = useState({})\n\n    useEffect(() => {\n        dispatchEquation({\n            type: 'equationInitialization',\n            equations: getLocalStorage('localEquations') || []\n        })\n    }, [])\n\n    function equationReducer (state, action) {\n        const res = {}\n        if (action.type === 'equationInitialization') {\n            res.equations = action.equations\n        } else if (action.type === 'equationUpdateCell') {\n            const { row, column, data } = action\n            const newEquations = [...state.equations]\n            if (column === 0) {\n                if (data) {\n                    newEquations[row] = data\n                } else {\n                    newEquations[row] = { value: '' }\n                }\n            } else {\n                if (!newEquations[row].localContext) {\n                    newEquations[row].localContext = {}\n                }\n                if (data === undefined || data === '') {\n                    delete newEquations[row].localContext[state.variableMap[row][column]]\n                } else {\n                    newEquations[row].localContext[state.variableMap[row][column]] = data\n                }\n            }\n            res.equations = newEquations\n        } else if (action.type === 'equationSet') {\n            const { info, row } = action\n            const newEquations = [...state.equations]\n            newEquations[row].text = info.text\n            newEquations[row].context = info.context\n            newEquations[row].category = info.category\n            newEquations[row].notes = info.notes\n            res.equations = newEquations\n        } else if (action.type === 'addRow') {\n            const newEquations = [...state.equations]\n            const index = action.index === undefined ? newEquations.length : action.index\n            res.equations = newEquations.slice(0, index).concat([{ value: '' }], newEquations.slice(index))\n        } else if (action.type === 'deleteRow') {\n            const newEquations = [...state.equations]\n            const index = action.index === undefined ? newEquations.length - 1 : action.index\n            newEquations.splice(index, 1)\n            res.equations = newEquations\n        }\n        res.equations = setEquations(res.equations)\n        Object.assign(res, { ...getGridBodyMap(res.equations) })\n        return res\n    }\n\n    function saveNewFunction (newFunction, existingFunctions) {\n        const { name, category, context, notes, text } = newFunction\n        const newFunctions = Object.assign({}, existingFunctions)\n        newFunctions[name] = {\n            category,\n            context: stripContext(context),\n            notes,\n            text,\n            date: Date.now()\n        }\n        setLocalFunctions(newFunctions)\n    }\n\n    function setEquations (equations) {\n        const newEquations = [...equations]\n        // fill with blank rows\n        if (!newEquations.length) {\n            for (let iterator = 0; iterator <= 20; iterator++) {\n                newEquations.push({ value: '' })\n            }\n        }\n        setLocalStorage('localEquations', newEquations)\n        return newEquations\n    }\n\n    function getGridBodyMap (equations) {\n        const variableMap = []\n        const sheetContext = {}\n        const gridBody = equations.map((equationObject, eqIndex) => {\n            const name = equationObject.value\n            variableMap.push([name])\n            const { text, context = {} } = equationObject.info || {}\n            const localContext = equationObject.localContext\n            const inheritedContext = Object.assign({}, sheetContext, localContext)\n            const info = recursiveSolve({ text, context: stripContext(context), inheritedContext })\n            if (!info.resolution.error) {\n                sheetContext[name] = info.resolution.solution\n            }\n            const uniqueMissingContext = info.fullMissingContext && info.fullMissingContext.reduce((prev, curr) => {\n                if (prev.includes(curr)) {\n                    return prev\n                } else {\n                    return prev.concat(curr)\n                }\n            }, [])\n            const res = [{\n                // Props passed into (edit) cell component\n                info,\n                autocompleteOptions: Object.keys(Object.assign({}, localFunctions, premade)).map(i => ({ id: i })),\n                localFunctions,\n                saveNewFunction,\n                solution: info.resolution.error\n                    ? `Missing: ${uniqueMissingContext.reduce((prev, curr) => {\n                        if (inheritedContext[curr]) {\n                            return prev\n                        } else {\n                            return prev.concat(curr)\n                        }\n                    }, []).join(', ')}`\n                    : info.resolution.solution,\n                value: name\n            }]\n            if (uniqueMissingContext) {\n                uniqueMissingContext.forEach(key => {\n                    variableMap[eqIndex].push(key)\n                    res.push({\n                        label: key,\n                        value: '' + (inheritedContext[key] || (context[key] && context[key].text)),\n                        isInherited: !localContext || !localContext[key]\n                    })\n                })\n            }\n            return res\n        })\n        return {\n            gridBody,\n            variableMap\n        }\n    }\n\n    return (\n        <StyledSheet>\n            <Top>\n                <Left>\n                    <Label>Name</Label>\n                    <Result>Value</Result>\n                </Left>\n                <RowSection>\n                    <RowButton onClick={() => dispatchEquation({ type: 'addRow', index: initialSelectionCell.row })}>Add Row</RowButton>\n                    <RowButton onClick={() => dispatchEquation({ type: 'deleteRow', index: initialSelectionCell.row })}>Delete Row</RowButton>\n                </RowSection>\n            </Top>\n            <Bottom>\n                <DataGrid\n                    editState={dataGridEdit}\n                    setEdit={editState => {\n                        if (editState.column === 0 && typeof editState.current === 'string') {\n                            const info = recursiveSolve({ text: '' })\n                            const newCurrent = {\n                                info,\n                                value: editState.current\n                            }\n                            editState.original = newCurrent\n                            editState.current = newCurrent\n                        }\n                        setDataGridEdit(editState)\n                    }}\n                    body={equationArray.gridBody}\n                    styles={{\n                        body: {\n                            edit: {\n                                borderRadius: 2,\n                                boxShadow: '0px 0px 3px 2px #CCC'\n                            },\n                            td: {\n                                borderRadius: 2,\n                                boxShadow: '0px 0px 3px 2px #CCC'\n                            }\n                        }\n                    }}\n                    initialSelectionCell={initialSelectionCell}\n                    setInitialSelectionCell={setInitialSelectionCell}\n                    highlightInitialColor={styles.lightOrange}\n                    highlightColor={styles.extraLightOrange}\n                    callback={(row, column, data) => {\n                        dispatchEquation({ type: 'equationUpdateCell', row, column, data })\n                    }}\n                    cellComponent={Cell}\n                    editComponent={EditCell}\n                    skipTabIndexes={[0]}\n                />\n            </Bottom>\n        </StyledSheet>\n    )\n}\n","import React from 'react'\nimport * as styles from 'styles'\nimport DataGrid from 'components/DataGrid'\n\nexport default function DataView (props) {\n    return <DataGrid\n        body={[[1]]}\n        styles={{\n            body: {\n                edit: {\n                    borderRadius: 2,\n                    boxShadow: '0px 0px 3px 2px #CCC'\n                },\n                td: {\n                    width: 200,\n                    borderRadius: 2,\n                    boxShadow: '0px 0px 3px 2px #CCC'\n                }\n            }\n        }}\n        highlightInitialColor={styles.lightGreen}\n        highlightColor={styles.extraLightGreen}\n    />\n}\n","import React from 'react'\nimport styled from 'styled-components'\nimport { withRouter } from 'react-router-dom'\nimport * as styles from 'styles'\n\nconst StyledHeader = styled.div`\n    background-color: ${styles.extraLightGray};\n    height: 62px;\n    min-height: 62px;\n    width: 100%;\n    display: flex;\n    flex-grow: 0 !important;\n    justify-content: space-between;\n    ${'' /* box-shadow: 0px 4px 4px #888;\n    border-radius: 6px; */}\n`\n\nconst Image = styled.img`\n    margin-left: 2px;\n    height: 60px;\n`\n\nconst AfterImage = styled.div`\n    padding-left: 10px;\n`\n\nconst TitleLink = styled.div`\n    font-family: 'Ubuntu', sans-serif;\n    font-size: 20px;\n    font-weight: bold;\n    margin-top: 20px;\n`\n\nconst LinkHome = styled.div`\n    cursor: pointer;\n    display: flex;\n`\n\nconst ImageWrapper = styled.div`\n    color: black;\n    padding-left: 10px;\n`\n\nfunction Header (props) {\n    const { history } = props\n    return (\n        <StyledHeader>\n            <LinkHome onClick={() => history.push('/')}>\n                <ImageWrapper>\n                    <Image src='favicon.ico' alt='' />\n                </ImageWrapper>\n                <AfterImage>\n                    <TitleLink>Mathite</TitleLink>\n                </AfterImage>\n            </LinkHome>\n            {props.children}\n        </StyledHeader>\n    )\n}\n\nexport default withRouter(Header)\n","import React from 'react'\nimport styled from 'styled-components'\n\nconst StyledHelp = styled.div`\n    position: fixed;\n    height: calc(100% - 64px);\n    width: 100%;\n    right: 0px;\n    top: 64px;\n    transition: top 200ms ease-in-out;\n    transition: height 200ms ease-in-out;\n    box-shadow: 0px -4px 8px #888;\n`\n\nexport default function Help (props) {\n    const { children, showHelp } = props\n    if (!showHelp) {\n        return null\n    }\n    return <StyledHelp>\n        {children}\n    </StyledHelp>\n}\n","import React from 'react'\nimport styled from 'styled-components'\nimport * as styles from 'styles'\n\nconst StyledHelpButton = styled.div`\n    color: black;\n    cursor: pointer;\n    border-radius: 30px;\n`\n\nconst StyledHelpButtonWithHover = styled.div`\n    color: black;\n    cursor: pointer;\n    border-radius: 30px;\n    ${styles.buttonHover('Help', 0)}\n`\n\nexport default function HelButton (props) {\n    if (props.hover) {\n        return (\n            <StyledHelpButtonWithHover {...props} style={{ ...props.style, backgroundColor: props.active ? styles.primaryColor : undefined }}>\n                <i className='material-icons' style={props.style}>help_outline</i>\n            </StyledHelpButtonWithHover>\n        )\n    } else {\n        return (\n            <StyledHelpButton {...props} style={{ ...props.style, backgroundColor: props.active ? styles.primaryColor : undefined }}>\n                <i className='material-icons' style={props.style}>help_outline</i>\n            </StyledHelpButton>\n        )\n    }\n}\n","import React from 'react'\nimport styled from 'styled-components'\nimport * as styles from 'styles'\nimport ignoreList from 'utils/math/ignoreList'\nimport anvil from 'icons/anvil.svg'\nimport pickaxe from 'icons/pickaxe.svg'\n// import sword from 'icons/swords.svg'\nimport crown from 'icons/crown.svg'\nimport easel from 'icons/easel.svg'\n\nconst StyledHelp = styled.div`\n    background: ${styles.extraLightGray};\n    width: 100%;\n    border-radius: 9px;\n    height: 100%;\n`\n\nconst Body = styled.div`\n    padding: 20px;\n    overflow-y: auto;\n    height: calc(100% - 88px);\n`\n\nconst Close = styled.div`\n    cursor: pointer;\n    color: black;\n    position: absolute;\n    right: 10px;\n    i {\n        margin-top: 5px;\n        font-size: 2rem;\n        border-radius: 20px;\n        :hover {\n            background: white;\n        }\n    }\n`\n\nconst IgnoreList = styled.div`\n    width: 100%;\n    display: flex;\n    flex-wrap: wrap;\n`\n\nconst Item = styled.div`\n    width: 100px;\n    padding: 4px;\n`\n\nconst Text = styled.div`\n    padding: 6px;\n`\n\nconst StyledLink = styled.div`\n    display: contents;\n    cursor: pointer;\n`\n\nconst Section = styled.div`\n    display: flex;\n    padding-bottom: 24px;\n`\n\nconst VerticalGroup = styled.div`\n    display: flex;\n    flex-direction: column;\n`\n\nconst Title = styled.div`\n    font-size: 1.4rem;\n    padding-bottom: 8px;\n`\n\nconst Line = styled.div`\n    font-size: 1rem;\n    padding-bottom: 8px;\n`\n\nexport default function HelpSheet (props) {\n    const {\n        toggleHelp\n    } = props\n    return (\n        <StyledHelp>\n            <Close onClick={toggleHelp}>\n                <i className='material-icons'>close</i>\n            </Close>\n            <Title style={{ padding: 10 }}>\n                Help\n            </Title>\n            <Body>\n                <Text>\n                    <Section>\n                        <VerticalGroup>\n                            <Line>{'Show the sections that best fit your needs throughout your workflow.'}</Line>\n                            <Line>{'Easily share work with others by sending them the url for the current equation.'}</Line>\n                        </VerticalGroup>\n                    </Section>\n                    <Section>\n                        <img src={pickaxe} alt='Material' height={40} width={40} />\n                        <VerticalGroup>\n                            <Title>{'Define Variables'}</Title>\n                            <Line>{'Dynamically generate values for all of the undefined variables in your equations to be used with the command module.'}</Line>\n                        </VerticalGroup>\n                    </Section>\n                    <Section>\n                        <img src={anvil} alt='Forge' height={40} width={40} />\n                        <VerticalGroup>\n                            <Title>{'Build Equation'}</Title>\n                            <Line>{'Any textboxes in the first section (except Notes) will be used to create and solve a math problem.'}</Line>\n                            <Line>{'Alphabetical characters will be used as variables, and will add more blank textboxes.'}</Line>\n                            <Line>{'Variables can be defined as numbers, equations, more variables or any combination.'}</Line>\n                            <Line>{'Numbers before words will be used to multiply the variable.'}</Line>\n                            <Line>{'Numbers at the end of words will be used as part of the variable name as a subscript.'}</Line>\n                            <Line>{'Operators (+-*/()) separate variables.'}</Line>\n                        </VerticalGroup>\n                    </Section>\n                    <Section>\n                        <img src={easel} alt='Review' height={40} width={40} />\n                        <VerticalGroup>\n                            <Title>{'Review'}</Title>\n                            <Line>{'Visually validate your equation.'}</Line>\n                        </VerticalGroup>\n                    </Section>\n                    <Section>\n                        <img src={crown} alt='Command' height={40} width={40} />\n                        <VerticalGroup>\n                            <Title>{'Graph'}</Title>\n                            <Line>{'Graph your equation using variables left unspecified in the Equation section.'}</Line>\n                            <Line>{'Quickly see the changes that occur as you manipulate the Defined Variables (materials).'}</Line>\n                            <Line>{'Click on the labels for different lines to show/hide.'}</Line>\n                        </VerticalGroup>\n                    </Section>\n                    <Section>\n                        <i style={{ fontSize: 40 }} className='material-icons'>search</i>\n                        <VerticalGroup>\n                            <Title>{'Search'}</Title>\n                            <Line>{'Save functions on your device.'}</Line>\n                            <Line>{\"Be specific. It's easy to save a bunch of problems and then delete them later. But names must be unique.\"}</Line>\n                            <Line>{'Search saved functions and review your notes.'}</Line>\n                            <Line>{'Add the subject or other relevant tags to the beginning of notes to make them easier to find.'}</Line>\n                            <Line>{'There are no predefined categories. You make the categories by the notes and variables you create.'}</Line>\n                            <Line>{'Try typing \"finance\" into the search and see what premade functions are already there.'}</Line>\n                        </VerticalGroup>\n                    </Section>\n                    <br />\n                    <Line>{'Functions that cannot be used as variables:'}</Line>\n                </Text>\n                <IgnoreList>\n                    {ignoreList.map(func => {\n                        return <Item key={func}>{func}</Item>\n                    })}\n                </IgnoreList>\n                <Text>\n                    <br />\n                    Checkout <StyledLink><a href='http://mathjs.org/docs/reference/functions.html' target='_blank' rel='noopener noreferrer'>http://mathjs.org/docs/reference/functions.html</a></StyledLink> for an explanation of what the builtin functions do.\n                </Text>\n            </Body>\n        </StyledHelp>\n    )\n}\n","import React from 'react'\nimport styled from 'styled-components'\nimport * as styles from 'styles'\nimport ignoreList from 'utils/math/ignoreList'\nimport anvil from 'icons/anvil.svg'\nimport pickaxe from 'icons/pickaxe.svg'\n// import sword from 'icons/swords.svg'\nimport crown from 'icons/crown.svg'\nimport easel from 'icons/easel.svg'\n\nconst StyledHelp = styled.div`\n    background: ${styles.extraLightGray};\n    width: 100%;\n    border-radius: 9px;\n    height: 100%;\n`\n\nconst Body = styled.div`\n    padding: 20px;\n    overflow-y: auto;\n    height: calc(100% - 88px);\n`\n\nconst Close = styled.div`\n    cursor: pointer;\n    color: black;\n    position: absolute;\n    right: 10px;\n    i {\n        margin-top: 5px;\n        font-size: 2rem;\n        border-radius: 20px;\n        :hover {\n            background: white;\n        }\n    }\n`\n\nconst IgnoreList = styled.div`\n    width: 100%;\n    display: flex;\n    flex-wrap: wrap;\n`\n\nconst Item = styled.div`\n    width: 100px;\n    padding: 4px;\n`\n\nconst Text = styled.div`\n    padding: 6px;\n`\n\nconst StyledLink = styled.div`\n    display: contents;\n    cursor: pointer;\n`\n\nconst Section = styled.div`\n    display: flex;\n    padding-bottom: 24px;\n`\n\nconst VerticalGroup = styled.div`\n    display: flex;\n    flex-direction: column;\n`\n\nconst Title = styled.div`\n    font-size: 1.4rem;\n    padding-bottom: 8px;\n`\n\nconst Line = styled.div`\n    font-size: 1rem;\n    padding-bottom: 8px;\n`\n\nexport default function HelpEquation (props) {\n    const {\n        toggleHelp\n    } = props\n    return (\n        <StyledHelp>\n            <Close onClick={toggleHelp}>\n                <i className='material-icons'>close</i>\n            </Close>\n            <Title style={{ padding: 10 }}>\n                Help\n            </Title>\n            <Body>\n                <Text>\n                    <Section>\n                        <VerticalGroup>\n                            <Line>{'Show the sections that best fit your needs throughout your workflow.'}</Line>\n                            <Line>{'Easily share work with others by sending them the url for the current equation.'}</Line>\n                        </VerticalGroup>\n                    </Section>\n                    <Section>\n                        <img src={pickaxe} alt='Material' height={40} width={40} />\n                        <VerticalGroup>\n                            <Title>{'Define Variables'}</Title>\n                            <Line>{'Dynamically generate values for all of the undefined variables in your equations to be used with the command module.'}</Line>\n                        </VerticalGroup>\n                    </Section>\n                    <Section>\n                        <img src={anvil} alt='Forge' height={40} width={40} />\n                        <VerticalGroup>\n                            <Title>{'Build Equation'}</Title>\n                            <Line>{'Any textboxes in the first section (except Notes) will be used to create and solve a math problem.'}</Line>\n                            <Line>{'Alphabetical characters will be used as variables, and will add more blank textboxes.'}</Line>\n                            <Line>{'Variables can be defined as numbers, equations, more variables or any combination.'}</Line>\n                            <Line>{'Numbers before words will be used to multiply the variable.'}</Line>\n                            <Line>{'Numbers at the end of words will be used as part of the variable name as a subscript.'}</Line>\n                            <Line>{'Operators (+-*/()) separate variables.'}</Line>\n                        </VerticalGroup>\n                    </Section>\n                    <Section>\n                        <img src={easel} alt='Review' height={40} width={40} />\n                        <VerticalGroup>\n                            <Title>{'Review'}</Title>\n                            <Line>{'Visually validate your equation.'}</Line>\n                        </VerticalGroup>\n                    </Section>\n                    {/* <Section>\n                        <img src={sword} alt='Wield' height={40} width={40} />\n                        <VerticalGroup>\n                            <Title>{'Wield module'}</Title>\n                        </VerticalGroup>\n                    </Section> */}\n                    <Section>\n                        <img src={crown} alt='Command' height={40} width={40} />\n                        <VerticalGroup>\n                            <Title>{'Graph'}</Title>\n                            <Line>{'Graph your equation using variables left unspecified in the Equation section.'}</Line>\n                            <Line>{'Quickly see the changes that occur as you manipulate the Defined Variables (materials).'}</Line>\n                            <Line>{'Click on the labels for different lines to show/hide.'}</Line>\n                        </VerticalGroup>\n                    </Section>\n                    <Section>\n                        <i style={{ fontSize: 40 }} className='material-icons'>search</i>\n                        <VerticalGroup>\n                            <Title>{'Search'}</Title>\n                            <Line>{'Save functions on your device.'}</Line>\n                            <Line>{\"Be specific. It's easy to save a bunch of problems and then delete them later. But names must be unique.\"}</Line>\n                            <Line>{'Search saved functions and review your notes.'}</Line>\n                            <Line>{'Add the subject or other relevant tags to the beginning of notes to make them easier to find.'}</Line>\n                            <Line>{'There are no predefined categories. You make the categories by the notes and variables you create.'}</Line>\n                            <Line>{'Try typing \"finance\" into the search and see what premade functions are already there.'}</Line>\n                        </VerticalGroup>\n                    </Section>\n                    <br />\n                    <Line>{'Functions that cannot be used as variables:'}</Line>\n                </Text>\n                <IgnoreList>\n                    {ignoreList.map(func => {\n                        return <Item key={func}>{func}</Item>\n                    })}\n                </IgnoreList>\n                <Text>\n                    <br />\n                    Checkout <StyledLink><a href=\"http://mathjs.org/docs/reference/functions.html\" target='_blank' rel='noopener noreferrer'>http://mathjs.org/docs/reference/functions.html</a></StyledLink> for an explanation of what the builtin functions do.\n                </Text>\n            </Body>\n        </StyledHelp>\n    )\n}\n","import React, { useState } from 'react'\nimport { BrowserRouter, Switch, Route } from 'react-router-dom'\nimport styled from 'styled-components'\nimport HomePage from 'views/Home'\nimport DrawView from 'views/Draw'\nimport EquationView from 'views/Equation'\nimport SheetView from 'views/Sheet'\nimport DataView from 'views/Data'\nimport Header from 'components/Header'\nimport Help from 'components/Help'\nimport HelpButton from 'components/buttons/Help'\nimport HelpSheet from 'components/HelpSheet'\nimport HelpEquation from 'components/HelpEquation'\n// import Footer from 'components/Footer'\n\n/*\n    Extra small devices\n    @media (max-width:480px) {\n    }\n    Small devices\n    @media (max-width:768px) {\n    }\n    Medium devices\n    @media (max-width:992px) {\n    }\n    Large devices\n    @media (max-width:1200px) {\n    }\n*/\n\nconst StyledApp = styled.div`\n    font-family: 'Ubuntu', sans-serif;\n    overflow: hidden;\n    height: 100vh;\n    width: 100vw;\n    display: flex;\n    flex-direction: column;\n    > div {\n        flex-grow: 1;\n    }\n\n    input {\n        font-family: 'Ubuntu', sans-serif;\n        border: none;\n    }\n`\n\nconst Menu = styled.div`\n    display: flex;\n    i {\n        font-size: 3rem;\n    }\n`\n\nconst MenuButton = styled.div`\n    padding: 5px;\n`\n\nexport default function App (props) {\n    const [showHelp, setShowHelp] = useState(false)\n\n    function toggleHelp () {\n        setShowHelp(!showHelp)\n    }\n\n    return (\n        <StyledApp>\n            <BrowserRouter>\n                <Header>\n                    <Route path='/(eq|sheet)' render={props => <Menu>\n                        <MenuButton>\n                            <HelpButton hover active={showHelp} onClick={toggleHelp} />\n                        </MenuButton>\n                    </Menu>} />\n                </Header>\n                <Switch>\n                    <Route path='/draw' render={props => <DrawView {...props} toggleHelp={toggleHelp} />}/>\n                    <Route path='/eq' render={props => <EquationView {...props} toggleHelp={toggleHelp} />}/>\n                    <Route path='/sheet' render={props => <SheetView {...props} toggleHelp={toggleHelp} />} />\n                    <Route path='/data' render={props => <DataView {...props} toggleHelp={toggleHelp} />}/>\n                    <Route path='/' render={props => <HomePage {...props} toggleHelp={toggleHelp} />}/>\n                </Switch>\n                <Help toggleHelp={toggleHelp} showHelp={showHelp}>\n                    <Switch>\n                        <Route path='/eq' render={props => <HelpEquation {...props} toggleHelp={toggleHelp} />} />\n                        <Route path='/sheet' render={props => <HelpSheet {...props} toggleHelp={toggleHelp} />} />\n                    </Switch>\n                </Help>\n                {/* <Footer /> */}\n            </BrowserRouter>\n        </StyledApp>\n    )\n}\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n    window.location.hostname === 'localhost' ||\n        // [::1] is the IPv6 localhost address.\n        window.location.hostname === '[::1]' ||\n        // 127.0.0.1/8 is considered localhost for IPv4.\n        window.location.hostname.match(\n            /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n        )\n)\n\nexport default function register () {\n    if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n        // The URL constructor is available in all browsers that support SW.\n        const publicUrl = new URL(process.env.PUBLIC_URL, window.location)\n        if (publicUrl.origin !== window.location.origin) {\n            // Our service worker won't work if PUBLIC_URL is on a different origin\n            // from what our page is served on. This might happen if a CDN is used to\n            // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n            return\n        }\n\n        window.addEventListener('load', () => {\n            const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n            if (isLocalhost) {\n                // This is running on localhost. Lets check if a service worker still exists or not.\n                checkValidServiceWorker(swUrl)\n\n                // Add some additional logging to localhost, pointing developers to the\n                // service worker/PWA documentation.\n                navigator.serviceWorker.ready.then(() => {\n                    console.log(\n                        'This web app is being served cache-first by a service ' +\n                            'worker. To learn more, visit https://goo.gl/SC7cgQ'\n                    )\n                })\n            } else {\n                // Is not local host. Just register service worker\n                registerValidSW(swUrl)\n            }\n        })\n    }\n}\n\nfunction registerValidSW (swUrl) {\n    navigator.serviceWorker\n        .register(swUrl)\n        .then(registration => {\n            registration.onupdatefound = () => {\n                const installingWorker = registration.installing\n                installingWorker.onstatechange = () => {\n                    if (installingWorker.state === 'installed') {\n                        if (navigator.serviceWorker.controller) {\n                            // At this point, the old content will have been purged and\n                            // the fresh content will have been added to the cache.\n                            // It's the perfect time to display a \"New content is\n                            // available; please refresh.\" message in your web app.\n                            console.log('New content is available; please refresh.')\n                        } else {\n                            // At this point, everything has been precached.\n                            // It's the perfect time to display a\n                            // \"Content is cached for offline use.\" message.\n                            console.log('Content is cached for offline use.')\n                        }\n                    }\n                }\n            }\n        })\n        .catch(error => {\n            console.error('Error during service worker registration:', error)\n        })\n}\n\nfunction checkValidServiceWorker (swUrl) {\n    // Check if the service worker can be found. If it can't reload the page.\n    fetch(swUrl)\n        .then(response => {\n            // Ensure service worker exists, and that we really are getting a JS file.\n            if (\n                response.status === 404 ||\n                response.headers.get('content-type').indexOf('javascript') === -1\n            ) {\n                // No service worker found. Probably a different app. Reload the page.\n                navigator.serviceWorker.ready.then(registration => {\n                    registration.unregister().then(() => {\n                        window.location.reload()\n                    })\n                })\n            } else {\n                // Service worker found. Proceed as normal.\n                registerValidSW(swUrl)\n            }\n        })\n        .catch(() => {\n            console.log(\n                'No internet connection found. App is running in offline mode.'\n            )\n        })\n}\n\nexport function unregister () {\n    if ('serviceWorker' in navigator) {\n        navigator.serviceWorker.ready.then(registration => {\n            registration.unregister()\n        })\n    }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from 'views/App'\nimport registerServiceWorker from 'utils/registerServiceWorker'\n\nReactDOM.render(\n    <App />,\n    document.getElementById('app')\n)\nregisterServiceWorker()\n"],"sourceRoot":""}