{"version":3,"sources":["styles.js","views/Home/index.js","components/Draw/index.js","components/StyledInput/index.js","views/Draw/index.js","utils/qs/index.js","utils/math/getColor.js","utils/math/ignoreList.js","utils/math/mathml.js","utils/math/index.js","utils/localStorage.js","components/MathML/index.js","components/ObjectProperty/index.js","components/StyledTextarea/index.js","components/ObjectCreator/index.js","components/TableGenerator/index.js","components/RightFloater/index.js","components/buttons/Search/index.js","components/buttons/Save/index.js","components/buttons/Material/index.js","components/buttons/Forge/index.js","components/buttons/Command/index.js","components/buttons/Review/index.js","components/DataGrid/index.js","components/Graph/index.js","components/Accordion/index.js","components/FunctionSearch/index.js","views/Equation/index.js","containers/qsContext.js","components/Cell/index.js","components/Autocomplete/index.js","components/EditCell/index.js","views/Sheet/index.js","views/Data/index.js","components/Header/index.js","components/Help/index.js","components/buttons/Help/index.js","components/HelpSheet/index.js","components/HelpEquation/index.js","views/App/index.js","utils/registerServiceWorker.js","index.js","icons/pickaxe.svg","icons/anvil.svg","icons/crown.svg","icons/easel.svg"],"names":["lightGreen","extraLightGreen","inputFocus","inputShadow","inputStyle","buttonHover","message","offset","StyledMessage","styled","div","Title","StyledLine","StyledLink","Overview","style","fontWeight","to","Draw","props","imageDataUrl","setContext","width","height","penColor","penWidth","penType","useState","positionX","setPositionX","positionY","setPositionY","mouseDown","setMouseDown","sketchElement","useRef","drawWithState","canvas","x","y","startX","startY","endX","endY","context","getContext","beginPath","moveTo","lineTo","strokeStyle","lineWidth","lineCap","stroke","drawLine","setPositionAndDraw","event","draw","boundingRect","current","getBoundingClientRect","changedTouches","Object","values","forEach","touch","clientX","left","clientY","top","focus","blur","pageX","window","pageXOffset","pageY","pageYOffset","useEffect","img","Image","src","onload","drawImage","ref","assign","touchAction","outline","tabIndex","onMouseMove","onMouseDown","onMouseUp","onMouseLeave","onTouchStart","onTouchMove","onTouchEnd","StyledInput","input","styles","StyledDrawView","StyledDrawControls","StyledLabel","label","StyledNumberInput","StyledButton","DrawView","innerWidth","innerHeight","setPenWidth","setPenColor","localStorage","getItem","className","type","value","onClick","clearRect","placeholder","onChange","target","setItem","toDataURL","objectFromHistory","obj","res","keys","prop","text","t","c","urlToObject","url","JSON","parse","decodeURI","replace","getEquationFromUrl","urlObject","columnSettingsFromHistory","columnSettings","newColumnSettings","column","newSetting","s","start","i","interval","passToHistory","history","generatorSettings","pushToHistory","newContext","objectToHistory","hasProps","parseInt","l","right","r","somethingWasAdded","shouldAdd","columnSettingsToHistory","newContextString","stringify","length","push","getColor","total","charCodeAt","g","b","color","Math","max","intToHex","hex","toString","ignoreList","mathmlWrapper","title","colorVariable","variable","varText","shouldSub","variableSubscript","subscript","findVarRegex","subMatch","match","slice","RegExp","removeSpace","expandVariableWithColor","expanded","rows","reduce","acc","row","cellAcc","cell","test","addMiMaybe","mathmlTable","extrapolateMathml","beautifyGlobal","padSpecial","operatorValue","operator","response","padOperators","padNumbers","global","rightTag","item","padIgnoreList","padParentheses","cutoffChars","cutoffCharsReverse","masterOpen","masterClose","leftTag","hasLeftTag","hasRightTag","segments","splitGlobal","protectConverted","endAllLeft","endAllRight","stripExtraParentheses","getParenthesesExtent","reverse","semiTrimmedLeft","trimParentheses","semiTrimmedRight","trimOpenParentheses","trimCloseParentheses","nestedLeftSplit","nestedRightSplit","mathml","specials","special","index","revealConverted","regex","open","shouldCutoff","cutoff","firstMatch","textMatch","parenthesesMatch","filteredCutoffChars","filter","filterCutoffChars","includes","join","maskCutoffWhiteList","cutoffWhiteList","key","cutoffChar","whiteListCutoffChars","remainingRegex","divideCutoffRegex","alternateDivideCutoffRegex","maskedText","cutoffMatch","cutoffDivideMatch","cutoffAlternateDivideMatch","unmaskCutoffWhiteList","leftHasPreceding","rightHasPreceding","leftHasTrailing","rightHasTrailing","variableRegex","getVariables","useIgnoreList","matches","uniqueMatches","prev","curr","recursiveSolve","inheritedContext","parents","solvableEquation","missingContext","fullMissingContext","variables","requiredContext","solvableContext","resolution","error","parent","sort","a","usableContextVariable","prepared","undefined","solve","solution","evaluate","isNaN","parseFloat","im","stripContext","formatNumber","number","str","parts","split","getLocalStorage","localString","setLocalStorage","valueString","StyledMathML","MathML","MathJax","typesetPromise","typesetClear","this","dangerouslySetInnerHTML","__html","React","StyledContainer","Label","span","getNewContext","previousText","previousVariables","nextVariables","unusedPrevious","unusedNext","NestedProperty","id","info","newInfo","name","ObjectProperty","copyContext","nameStyle","marginTop","marginBottom","trim","map","StyledTextarea","textarea","StyledObjectCreator","Category","Notes","ObjectCreator","onContextChange","category","onCategoryChange","notes","onNotesChange","originalStyledInput","StyledTableGenerator","StyledOverallSection","StyledColumnSection","StyledSettingGroup","StackedColumn","Setting","TableGenerator","columns","columnColorObject","settings","onGeneratorSettingChange","onColumnSettingChange","changeSetting","settingName","newValue","paddingRight","changeColumnSetting","columnName","option","paddingTop","paddingBottom","marginLeft","renderColumns","StyledSearchButton","StyledSearchButtonWithHover","SearchButton","hover","backgroundColor","active","StyledSaveButton","SaveButton","location","StyledMaterialButton","StyledMaterialButtonWithHover","MaterialButton","pickaxe","alt","StyledForgeButton","StyledForgeButtonWithHover","ForgeButton","anvil","StyledCommandButton","StyledCommandButtonWithHover","CommandButton","crown","StyledReviewButton","StyledReviewButtonWithHover","ReviewButton","easel","StyledFrozenTd","FrozenColumnTd","ColumnTd","td","overrideSelect","DataGrid","body","frozenColumns","editState","setEdit","keepEditing","skipTabIndexes","initialSelectionCell","setInitialSelectionCell","shouldHandleBlur","CellComponent","cellComponent","EditCellComponent","editComponent","clickedCell","setClickedCell","selectionRange","setSelectionRange","selectionCurrent","setSelectionCurrent","setHover","selection","setSelection","blurredOnce","setBlurredOnce","shiftModifier","setShiftModifier","ctrlModifier","setCtrlModifier","editorRef","selectionRef","selectText","gridMouseMove","setRangeSelection","gridMouseDown","preventDefault","setSingleSelection","resetSelection","rowIndex","columnIndex","forceSelection","cleanRow","cleanColumn","startRow","endRow","startColumn","endColumn","editorKeyDown","closeEditor","editCell","startingValue","original","callback","save","valueOverride","updateArray","originalArray","newArrayData","cellIndex","data","updateArrayCell","updateArrayRow","filterRow","tabularizeSelection","filterToSelection","position","onKeyDown","onKeyUp","zIndex","opacity","readOnly","deleteArray","columnArray","onBlur","onPaste","clipboardData","items","getAsString","cursor","header","classes","thead","tr","ind","colIndex","numbered","hoverHeaderAndNumberedColor","headerCell","tbody","numberedOffset","Td","edit","padding","editorValue","highlightInitialColor","highlightColor","bodyCell","footer","tfoot","footerCell","Graph","labels","iteration","xAxisLabel","graphData","datasets","lineTension","fill","borderColor","pointBorderColor","pointBackgroundColor","hidden","redraw","TopBar","Accordion","toggle","children","StyledFunctionSearch","TitleSection","Close","StyledItem","DeleteButton","SubSection","NoLocal","SearchInput","CategoryLabel","sortByScore","filterWithSort","listObject","regexArray","filterPart","err","equationCategories","equation","score","equations","SelfStateAccordion","isOpen","setIsOpen","FunctionSearch","toggleSearch","deleteLocalFunction","localFunctions","setFilter","searchElement","filteredLocal","filteredPremade","premade","renderLocalEquation","renderPremadeEquation","Component","StyledRoot","StyledMain","StyledSearch","AccordionContents","StyledMaterialSection","StyledMath","StyledGraph","StyledTableScrollableLimit","StyledTableScrollable","StyledDataGrid","Section","StyledSolution","MenuButton","StyledText","Root","state","table","toggleHelp","setState","showHelp","setLocalStorageAccordionState","accordionState","showSearch","toggleMaterial","showMaterial","toggleForge","showForge","toggleReview","showReview","toggleWield","showWield","toggleCommand","showCommand","getLocalStorageFunctions","setLocalStorageFunctions","localStorageFunctions","getLocalStorageAccordionState","saveLocalFunction","date","Date","now","path","search","generateTable","nextProps","missingVariables","currentProps","currentMissingVariables","some","previous","next","newState","generatorColumns","runner","simpleContext","cells","calculateIteration","Number","toFixed","solveWithAddedContext","oldHistoryObject","newHistoryObject","cleanedHistoryObject","historyObject","passCleanedSettingsToHistory","display","tableGenerated","colorVariables","textAlign","borderRadius","boxShadow","RightFloater","withQsContext","withRouter","qsContext","getFromHistory","StyledCell","Value","InheritedValue","Solution","Cell","isInherited","StyledAutocomplete","Suggestions","SuggestionsWithHover","StyledSuggestion","Suggestion","StyledEditCell","onSelect","options","suggestions","setSuggestions","textToMatch","getSuggestions","isMouseControlled","activeIndex","stopPropagation","handleKeyDown","Equation","EditActionBar","Clickable","EditEquation","autocompleteOptions","saveNewFunction","console","log","functionName","EditCell","textValue","StyledSheet","Top","Bottom","Left","Result","RowSection","RowButton","Sheet","defaultValue","useLocalStorage","setLocalFunctions","dataGridEdit","setDataGridEdit","useReducer","action","newEquations","localContext","variableMap","concat","splice","iterator","setEquations","sheetContext","gridBody","equationObject","eqIndex","uniqueMissingContext","getGridBodyMap","equationArray","dispatchEquation","newFunction","existingFunctions","newFunctions","newCurrent","DataView","StyledHeader","AfterImage","TitleLink","LinkHome","ImageWrapper","StyledHelp","Help","StyledHelpButton","StyledHelpButtonWithHover","HelButton","Body","IgnoreList","Item","Text","VerticalGroup","Line","HelpSheet","fontSize","func","href","rel","HelpEquation","StyledApp","Menu","App","setShowHelp","render","Home","isLocalhost","Boolean","hostname","registerValidSW","swUrl","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","catch","ReactDOM","document","getElementById","URL","process","origin","addEventListener","fetch","status","headers","get","indexOf","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker","module","exports"],"mappings":"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","file":"static/js/main.fec0dae4.chunk.js","sourcesContent":["export const primaryColor = '#0064ff' // #0082ff\nexport const secondaryColor = '#0ccf35'\nexport const complementaryColor = '#fe8500'\n\nexport const yellow = '#FC0'\nexport const lightYellow = '#FC06'\n\nexport const lightGreen = `${secondaryColor}40`\nexport const extraLightGreen = `${secondaryColor}20`\n\nexport const lightOrange = '#ffe1b5'\nexport const extraLightOrange = '#ffebcdcc'\n\nexport const lightBlue = 'lightblue'\n\nexport const gray = '#888888'\nexport const lightGray = '#CCC'\nexport const extraLightGray = '#EEE'\n\nexport const backgroundColor = '#777'\n\nexport const materialColumnWidth = 168\n\nexport const materialIterationWidth = 80\n\nexport const inputFocus = extraLightGreen\nexport const inputShadow = `${lightGray}`\n\nexport const inputStyle = `\n    font-family: 'Ubuntu', sans-serif;\n    font-size: 1rem;\n    line-height: 1.2rem;\n    padding: 4px 6px;\n    border-radius: 4px;\n    width: 100%;\n    border: none;\n    box-shadow: 0px 0px 2px 2px ${inputShadow};\n    outline: none;\n    :focus {\n        background-color: ${inputFocus};\n    }\n`\n\nexport function buttonHover (message, offset) {\n    return `\n    :hover {\n        border: white 5px solid;\n        margin: -5px;\n        position: relative;\n        ::after {\n            box-shadow: 0px 3px 3px #CCC;\n            font-weight: bold;\n            content: \"${message}\";\n            position: absolute;\n            top: 45px;\n            right: ${offset}px;\n            background-color: white;\n            border-radius: 15px;\n            padding: 5px;\n            @media (max-width: 600px) {\n                right: 0px;\n            }\n        }\n    }\n`\n}\n","import * as React from 'react'\nimport { Link } from 'react-router-dom'\nimport styled from 'styled-components'\nimport * as styles from 'styles'\n\nconst StyledMessage = styled.div`\n    min-height: 1px;\n    overflow: auto;\n    width: 100%;\n    text-align: center;\n`\n\nconst Title = styled.div`\n    font-size: 1.5rem;\n    margin-top: 10px;\n`\n\nconst StyledLine = styled.div`\n    padding-top: 8px;\n`\n\nconst StyledLink = styled.div`\n    margin: 20px;\n    a {\n        color: ${styles.primaryColor};\n    }\n`\n\nconst Overview = () => {\n    return (\n        <StyledMessage>\n            <br />\n            <Title style={{ fontWeight: 'bold' }}>Mathite</Title>\n            <br />\n            <StyledLine>{'Like an online graphing calculator.'}</StyledLine>\n            <StyledLine>{'Where spreadsheet meets database.'}</StyledLine>\n            <br />\n            <br />\n            <StyledLine>{'Create and share functions.'}</StyledLine>\n            <StyledLine>{'Store data.'}</StyledLine>\n            <StyledLine>{'Apply functions to data.'}</StyledLine>\n            <StyledLine>{'Create graphs.'}</StyledLine>\n            <br />\n            <br />\n            <StyledLink>\n                <Link to='eq'>{'Create a reusable function'}</Link>\n            </StyledLink>\n            <StyledLink>\n                <Link to='sheet'>{'Use functions and create more'}</Link>\n            </StyledLink>\n            <br />\n            <br />\n            <StyledLink>\n                <Link to='draw'>{'Take a break and draw'}</Link>\n            </StyledLink>\n            <br />\n            <br />\n            <br />\n            <br />\n            {/* <StyledLink>\n                <Link to='data'>{'Test the data view'}</Link>\n            </StyledLink> */}\n        </StyledMessage>\n    )\n}\n\nexport default Overview\n","import React, { useEffect, useState, useRef } from 'react'\n\nexport default function Draw (props: {\n    imageDataUrl: Object,\n    setContext: Function,\n    style: Object,\n    height: number,\n    width: number,\n    penColor: string,\n    penWidth: string,\n    penType: string\n}) {\n    const {\n        imageDataUrl,\n        setContext,\n        style,\n        width,\n        height,\n        penColor,\n        penWidth,\n        penType\n    } = props\n    const [positionX, setPositionX] = useState()\n    const [positionY, setPositionY] = useState()\n    const [mouseDown, setMouseDown] = useState()\n\n    const sketchElement = useRef()\n\n    useEffect(() => {\n        const context = sketchElement.current.getContext('2d')\n        if (imageDataUrl) {\n            const img = new Image()\n            img.src = imageDataUrl\n            img.onload = () => {\n                context.drawImage(img, 0, 0)\n            }\n        }\n        setContext(context)\n    }, [imageDataUrl, setContext])\n\n    function drawMouseDown (event) {\n        setPositionAndDraw(event, false)\n        setMouseDown(true)\n    }\n\n    function drawMouseMove (event) {\n        if (mouseDown) {\n            setPositionAndDraw(event)\n        }\n    }\n\n    function drawMouseUp (event) {\n        setPositionAndDraw(event)\n        setMouseDown(false)\n    }\n\n    function drawMouseLeave () {\n        setMouseDown(false)\n    }\n\n    function drawWithState (canvas, x, y) {\n        drawLine(canvas, positionX, positionY, x, y)\n        setPositionX(x)\n        setPositionY(y)\n    }\n\n    function drawLine (canvas, startX, startY, endX, endY) {\n        const context = canvas.getContext('2d')\n        context.beginPath()\n        context.moveTo(startX, startY)\n        context.lineTo(endX, endY)\n        context.strokeStyle = penColor\n        context.lineWidth = penWidth\n        context.lineCap = penType\n        context.stroke()\n    }\n\n    function setPositionAndDraw (event, draw = true) {\n        const boundingRect = sketchElement.current.getBoundingClientRect()\n        if (event.changedTouches) {\n            Object.values(event.changedTouches).forEach(touch => {\n                const x = touch.clientX - boundingRect.left\n                const y = touch.clientY - boundingRect.top\n                if (draw) {\n                    drawWithState(sketchElement.current, x, y)\n                } else {\n                    setPositionX(x)\n                    setPositionY(y)\n                    sketchElement.current.focus()\n                    sketchElement.current.blur()\n                }\n            })\n        } else {\n            const x = event.pageX - boundingRect.left - window.pageXOffset\n            const y = event.pageY - boundingRect.top - window.pageYOffset\n            if (draw) {\n                drawWithState(sketchElement.current, x, y)\n            } else {\n                setPositionX(x)\n                setPositionY(y)\n            }\n        }\n        const context = sketchElement.current.getContext('2d')\n        setContext(context)\n    }\n\n    return (\n        <canvas ref={sketchElement}\n            style={Object.assign({}, { touchAction: 'none', outline: 'none' }, style)}\n            width={width}\n            height={height}\n            tabIndex={0}\n            onMouseMove={drawMouseMove}\n            onMouseDown={drawMouseDown}\n            onMouseUp={drawMouseUp}\n            onMouseLeave={drawMouseLeave}\n            onTouchStart={event => setPositionAndDraw(event, false)}\n            onTouchMove={setPositionAndDraw}\n            onTouchEnd={setPositionAndDraw}>\n        </canvas>\n    )\n}\n","import styled from 'styled-components'\nimport * as styles from 'styles'\n\nconst StyledInput = styled.input`\n    ${styles.inputStyle}\n`\n\nexport default StyledInput\n","import React, { useState } from 'react'\nimport styled from 'styled-components'\nimport * as styles from 'styles'\nimport Draw from 'components/Draw'\nimport StyledInput from 'components/StyledInput'\n\nconst StyledDrawView = styled.div`\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    padding-top: 1rem;\n\n    canvas {\n        border: 1px lightblue solid;\n    }\n\n    input {\n        margin-left: 20px;\n        margin-right: 20px;\n        @media (max-width: 992px) {\n            margin-left: 4px;\n            margin-right: 4px;\n            width: 50px;\n        }\n    }\n`\n\nconst StyledDrawControls = styled.div`\n    position: fixed;\n    top: 1rem;\n    right: 0px;\n    max-width: 600px;\n    display: flex;\n`\n\nconst StyledLabel = styled.label`\n    margin: 5px;\n    white-space: nowrap;\n    width: 35px;\n    padding-right: 20px;\n`\n\nconst StyledNumberInput = styled(StyledInput)`\n    text-align: center;\n\n    :focus {\n        background-color: ${styles.extraLightGray};\n    }\n`\n\nconst StyledButton = styled(StyledInput)`\n    cursor: pointer;\n    width: 200px;\n\n    :focus {\n        background-color: #CCC;\n    }\n`\n\nexport default function DrawView (props) {\n    const [context, setContext] = useState()\n    const width = window.innerWidth - 30\n    const height = window.innerHeight > 500 ? window.innerHeight - 100 : window.innerHeight - 40\n    const [penWidth, setPenWidth] = useState()\n    const [penColor, setPenColor] = useState('#000000')\n\n    function clearImage () {\n        context.clearRect(0, 0, width, height)\n    }\n\n    function handleSetContext (context) {\n        setContext(context)\n        localStorage.setItem('imageDataUrl', context.canvas.toDataURL())\n    }\n\n    const imageDataUrl = localStorage.getItem('imageDataUrl')\n    return (\n        <StyledDrawView>\n            <StyledDrawControls>\n                <StyledButton\n                    className='btn'\n                    type='button'\n                    value='Clear'\n                    onClick={() => clearImage()} />\n                <StyledLabel>Pen Size:</StyledLabel>\n                <StyledNumberInput\n                    type='number'\n                    value={penWidth || ''}\n                    placeholder={1}\n                    onChange={event => setPenWidth(event.target.value)} />\n                <StyledInput\n                    type='color'\n                    value={penColor}\n                    onChange={event => setPenColor(event.target.value)} />\n            </StyledDrawControls>\n            <Draw\n                imageDataUrl={imageDataUrl}\n                width={width}\n                penType='round'\n                height={height}\n                penColor={penColor}\n                penWidth={penWidth || 1}\n                setContext={handleSetContext} />\n        </StyledDrawView>\n    )\n}\n","export function objectToHistory (obj: Object) {\n    const res = {}\n    if (typeof obj !== 'object') return obj\n    let hasProps = false\n    Object.keys(obj).forEach(prop => {\n        if (obj[prop] && (obj[prop].text || obj[prop].context)) {\n            res[prop] = {}\n            res[prop].t = obj[prop].text\n            res[prop].c = objectToHistory(obj[prop].context)\n            if (res[prop].c || res[prop].t) {\n                hasProps = true\n            }\n        }\n    })\n    if (!hasProps) return undefined\n    return res\n}\n\nexport function objectFromHistory (obj: Object) {\n    const res = {}\n    if (typeof obj !== 'object') return obj\n    Object.keys(obj).forEach(prop => {\n        res[prop] = {}\n        res[prop].text = obj[prop].t\n        res[prop].context = objectFromHistory(obj[prop].c)\n    })\n    return res\n}\n\nexport function urlToObject (url: String) {\n    return JSON.parse(decodeURI(url.replace(/^(\\/eq)*\\?/, '')).replace(/[\"~!@#$%&=]/g, '').replace(/`/g, '\"'))\n}\n\nexport function getEquationFromUrl (url: String) {\n    if (!url) {\n        return {}\n    }\n    const urlObject = urlToObject(url)\n    return {\n        text: urlObject.t || '',\n        context: objectFromHistory(urlObject.c || {})\n    }\n}\n\nexport function columnSettingsToHistory (columnSettings) {\n    const newColumnSettings = {}\n    let somethingWasAdded = false\n    Object.keys(columnSettings).forEach(column => {\n        const newSetting = {}\n        let shouldAdd = false\n        if (columnSettings[column].start) {\n            shouldAdd = true\n            newSetting.s = columnSettings[column].start\n        }\n        if (columnSettings[column].interval) {\n            shouldAdd = true\n            newSetting.i = columnSettings[column].interval\n        }\n        if (shouldAdd) {\n            somethingWasAdded = true\n            newColumnSettings[column] = newSetting\n        }\n    })\n    if (somethingWasAdded) {\n        return newColumnSettings\n    } else {\n        return undefined\n    }\n}\n\nexport function columnSettingsFromHistory (columnSettings) {\n    const newColumnSettings = {}\n    Object.keys(columnSettings).forEach(column => {\n        const newSetting = {}\n        if (columnSettings[column].s) {\n            newSetting.start = columnSettings[column].s\n        }\n        if (columnSettings[column].i) {\n            newSetting.interval = columnSettings[column].i\n        }\n        newColumnSettings[column] = newSetting\n    })\n    return newColumnSettings\n}\n\nexport function getFromHistory (history: Object) {\n    const urlObject = history.location.search.length > 1 ? urlToObject(history.location.search) : {}\n    const generatorSettings = {}\n    if (urlObject.l) {\n        generatorSettings.left = urlObject.l\n    }\n    if (urlObject.r) {\n        generatorSettings.right = urlObject.r\n    }\n    return {\n        text: urlObject.t || '',\n        context: objectFromHistory(urlObject.c || {}),\n        generatorSettings,\n        columnSettings: columnSettingsFromHistory(urlObject.s || {})\n    }\n}\n\nexport function passToHistory ({ history, text, context, generatorSettings, columnSettings, pushToHistory = false }: { history: any, text: string, context: Object }) {\n    if (!text && !context) return history.replace()\n    const newContext = {}\n    if (text) {\n        newContext.t = text\n    }\n    if (context) {\n        newContext.c = objectToHistory(context)\n    }\n    if (generatorSettings) {\n        if (generatorSettings.left) {\n            if (parseInt(generatorSettings.left, 10) > 1000) {\n                newContext.l = 1000\n            } else {\n                newContext.l = generatorSettings.left\n            }\n        }\n        if (generatorSettings.right) {\n            if (parseInt(generatorSettings.right, 10) > 1000) {\n                newContext.r = 1000\n            } else {\n                newContext.r = generatorSettings.right\n            }\n        }\n        if (columnSettings) {\n            const newColumnSettings = columnSettingsToHistory(columnSettings)\n            if (newColumnSettings) {\n                newContext.s = newColumnSettings\n            }\n        }\n    }\n    const newContextString = JSON.stringify(newContext).replace(/[`~!@#$%&=_]/g, '').replace(/\"/g, '`')\n    if (newContextString !== '{}' && newContextString.length > 0) {\n        if (pushToHistory) {\n            return history.push('?' + newContextString)\n        } else {\n            return history.replace('?' + newContextString)\n        }\n    } else {\n        if (pushToHistory) {\n            return history.push()\n        } else {\n            return history.replace()\n        }\n    }\n}\n","export default function getColor (text: string): string {\n    let total = 0\n    for (let i = 0; i < text.length; i++) {\n        total += text.charCodeAt(i) * 16\n    }\n    if (total < 1000) {\n        total = 1000 - total\n    }\n    const color = {\n        r: total % 64 * 4,\n        g: 0,\n        b: 0\n    }\n    color.g = (total) % 128 * 2\n    color.b = (total) % 256\n\n    if (color.r > 96 && color.g > 96 && color.b > 96) {\n        // If the colors are all high it will be too light\n        switch (Math.max(color.r, color.g, color.b)) {\n        case color.r:\n            color.g -= 96\n            color.b -= 96\n            break\n        case color.g:\n            color.r -= 96\n            color.b -= 96\n            break\n        case color.b:\n            color.r -= 96\n            color.g -= 96\n            break\n        default:\n            break\n        }\n    } else if (color.r < 128 && color.g < 128 && color.b < 128) {\n        // If the colors are all too low it will be too dark\n        switch (Math.max(color.r, color.g, color.b)) {\n        case color.r:\n            color.r += 128\n            break\n        case color.g:\n            color.g += 128\n            break\n        case color.b:\n            color.b += 128\n            break\n        default:\n            break\n        }\n    } else if ((color.r % color.g + color.g % color.b + color.b % color.r) < 256) {\n        // If the colors are all too close together it will be gray\n        switch (Math.max(color.r, color.g, color.b)) {\n        case color.r:\n            color.r = color.r % 128 + 128\n            break\n        case color.g:\n            color.g = color.g % 128 + 128\n            break\n        case color.b:\n            color.b = color.b % 128 + 128\n            break\n        default:\n            break\n        }\n    }\n    return rgbToHex(color.r, color.g, color.b)\n}\n\nfunction rgbToHex (r, g, b): string {\n    return '#' + intToHex(r) + intToHex(g) + intToHex(b)\n}\n\nfunction intToHex (c: any): string {\n    const hex = c.toString(16)\n    return hex.length === 1 ? '0' + hex : hex\n}\n","const ignoreList = [\n    'undefined',\n    'e',\n    'Infinity',\n    'LN2',\n    'LN10',\n    'log',\n    'LOG2E',\n    'LOG10E',\n    'pi',\n    'phi',\n    'sqrt',\n    'sqrt2',\n    'tau',\n    'abs',\n    'cbrt',\n    'ceil',\n    'cube',\n    'exp',\n    'fix',\n    'floor',\n    'gcd',\n    'hypot',\n    'lcm',\n    'log10',\n    'mod',\n    'norm',\n    'nthroot',\n    'pow',\n    'round',\n    'sign',\n    'mad',\n    'max',\n    'mean',\n    'median',\n    'min',\n    'mode',\n    'prod',\n    'std',\n    'sum',\n    'var',\n    'acos',\n    'acosh',\n    'acot',\n    'acoth',\n    'acsc',\n    'acsch',\n    'asec',\n    'asech',\n    'asin',\n    'asinh',\n    'atan',\n    'atan2',\n    'atanh',\n    'cos',\n    'cosh',\n    'cot',\n    'coth',\n    'csc',\n    'csch',\n    'sec',\n    'sech',\n    'sin',\n    'sinh',\n    'tan',\n    'tanh'\n]\n\nexport default ignoreList\n","import getColor from './getColor'\nimport ignoreList from './ignoreList'\n\nexport function mathmlWrapper ({ title, text }: { title: string, text: string }): string {\n    return `<math title=\"${title}\">${text.replace(/_/g, '')}</math>`\n}\n\nexport function colorVariable ({ text, variable }: { text: string, variable: string }): string {\n    let res = text\n    const varText = variable\n    const shouldSub = variableSubscript({ variable })\n    if (shouldSub.subscript) {\n        res = res.replace(findVarRegex({ variable }), `$1<msub><mi mathcolor=\"${getColor(variable)}\">${shouldSub.variable}_</mi><mn mathcolor=\"${getColor(variable)}\">${shouldSub.subscript}</mn></msub>$3`)\n    } else {\n        res = res.replace(findVarRegex({ variable }), `$1<mrow><mi mathcolor=\"${getColor(variable)}\">${varText}</mi></mrow>$3`)\n    }\n    return res\n}\n\nexport function variableSubscript ({ variable }: { variable: string}) {\n    const subMatch = variable.match(/([0-9]+)$/)\n    if (subMatch) {\n        return {\n            variable: variable.slice(0, variable.length - subMatch[1].length),\n            subscript: subMatch[1]\n        }\n    }\n    return { variable }\n}\n\nexport function findVarRegex ({ variable }: { variable: string }) {\n    return new RegExp(`(^|[^A-Za-z0-9 _])(${removeSpace({ text: variable })})([^A-Za-z0-9 _]|$)`, 'g')\n}\n\nexport function expandVariableWithColor ({ text, variable, expanded }: {text: string, variable: string, expanded: string}): string {\n    let varText = variable\n    const shouldSub = variableSubscript({ variable })\n    if (shouldSub.subscript) {\n        varText = `<msub><mi>${shouldSub.variable}_</mi><mn>${shouldSub.subscript}</mn></msub>`\n    }\n    return text.replace(findVarRegex({ variable }), '$1' + mathmlTable({\n        color: getColor(variable),\n        rows: [\n            [varText],\n            [`<mo>(</mo>${expanded}<mo>)</mo>`]\n        ]\n    }) + '$3')\n}\n\nexport function mathmlTable ({ color, rows }: { color: string, rows: Array<Array<string>>}): string {\n    return `<mtable mathcolor=\"${color}\">${rows.reduce((acc, row) => `${acc}<mtr>${row.reduce((cellAcc, cell) => {\n        return `${cellAcc}<mtd><mrow>${addMiMaybe({ text: cell })}</mrow></mtd>`\n    }, '')}</mtr>`, '')}</mtable>`\n}\n\nexport function addMiMaybe ({ text }: { text: string }): string {\n    if (!/^<.*>$/.test(text)) {\n        return `<mi>${text}</mi>`\n    } else {\n        return text\n    }\n}\n\nexport function extrapolateMathml ({ text }: { text: string }): string {\n    let res = text\n    res = padNumbers({ text: res })\n    res = removeSpace({ text: res })\n    res = padOperators({ text: res })\n    res = padSpecial({ text: res })\n    res = beautifyGlobal({ text: res, global: 'sqrt', rightTag: 'msqrt' })\n    res = beautifyGlobal({\n        text: res,\n        global: '<mo>&divide;</mo>',\n        cutoffChars: ['+', '-', ')', '*'],\n        cutoffCharsReverse: ['+', '-', '*', '/', '('],\n        masterOpen: '<mstyle displaystyle=\"true\"><mfrac>',\n        masterClose: '</mfrac></mstyle>',\n        leftTag: 'mrow',\n        rightTag: 'mrow'\n    })\n    res = padParentheses({ text: res })\n    res = padIgnoreList({ text: res })\n    return res\n}\n\nexport function padNumbers ({ text }: { text: string }): string {\n    let res = text\n    res = res.replace(/(^|[^A-Za-z0-9 ])([0-9]+)/g, '$1<mo>$2</mo>')\n    return res\n}\n\nexport function removeSpace ({ text }: { text: string }): string {\n    let res = text\n    res = res.replace(/(^|[^A-Za-z0-9])( +)($|[^A-Za-z0-9])/g, '$1$3')\n    res = res.replace(/(^|[A-Za-z0-9])( +)($|[^A-Za-z0-9])/g, '$1$3')\n    res = res.replace(/(^|[^A-Za-z0-9])( +)($|[A-Za-z0-9])/g, '$1$3')\n    res = res.replace(/(^|[^A-Za-z0-9])( +)($|[^A-Za-z0-9])/g, '$1$3')\n    return res\n}\n\nexport function padOperators ({ text }: { text: string}): string {\n    const operators = ['\\\\+', '-', '/', '\\\\*']\n    const operatorValue = {\n        '\\\\+': '&plus;',\n        '-': '&minus;',\n        '/': '&divide;',\n        '\\\\*': '&times;'\n    }\n    return operators.reduce((acc, operator) => {\n        let response = acc\n        response = response.replace(new RegExp(`([^</*-+])${operator}`, 'g'), `$1<mo>${operatorValue[operator]}</mo>`) // replace\n        return response\n    }, text)\n}\n\nexport function padSpecial ({ text }: { text: string }): string {\n    let res = text\n    res = res.replace(/([^A-Za-z0-9<>/;#\"'= &()])/g, '<mo>$1</mo>') // replace the rest of the unknown elements\n    return res\n}\n\n/*\n    global: the text to search for\n    rightTag: the tag to surround the extent of parentheses to the right of the global\n    leftTag: the tag to surround the extent of parentheses to the left of the global\n*/\nexport function beautifyGlobal ({\n    text,\n    global,\n    cutoffChars = [],\n    cutoffCharsReverse = [],\n    masterOpen = '',\n    masterClose = '',\n    rightTag = '',\n    leftTag = ''\n}: {\n    text: string,\n    global: string,\n    cutoffChars?: Array<string>,\n    cutoffCharsReverse?: Array<string>,\n    masterOpen?: string,\n    masterClose?: string,\n    rightTag?: string,\n    leftTag?: string\n}): string {\n    let res = text\n    const hasLeftTag = leftTag.length > 0\n    const hasRightTag = rightTag.length > 0\n    res = protectConverted({ text: res })\n    let segments = splitGlobal({ text: res, global })\n    while (segments.length > 1) {\n        let endAllLeft\n        let endAllRight\n        const extentLeft = getParenthesesExtent({ text: segments[0], cutoffChars: cutoffCharsReverse, reverse: true })\n        const extentRight = getParenthesesExtent({ text: segments[1], cutoffChars })\n        const { left, right } = stripExtraParentheses({ left: extentLeft, right: extentRight })\n        const semiTrimmedLeft = trimParentheses({ text: left })\n        const semiTrimmedRight = trimParentheses({ text: right })\n        endAllLeft = trimOpenParentheses({ left: semiTrimmedLeft, right: semiTrimmedRight })\n        endAllRight = trimCloseParentheses({ left: semiTrimmedLeft, right: semiTrimmedRight })\n\n        const nestedLeftSplit = splitGlobal({ text: endAllLeft, global })\n        const nestedRightSplit = splitGlobal({ text: endAllRight, global })\n        if (nestedLeftSplit.length > 1) {\n            endAllLeft = beautifyGlobal({ text: endAllLeft, global, cutoffChars, cutoffCharsReverse, masterOpen, masterClose, rightTag, leftTag })\n        }\n        if (nestedRightSplit.length > 1) {\n            endAllRight = beautifyGlobal({ text: endAllRight, global, cutoffChars, cutoffCharsReverse, masterOpen, masterClose, rightTag, leftTag })\n        }\n\n        const mathml = `${masterOpen}${hasLeftTag ? `<${leftTag}>${endAllLeft}</${leftTag}>` : endAllLeft}${hasRightTag ? `<${rightTag}>${endAllRight}</${rightTag}>` : endAllRight}${masterClose}`\n        res = res.replace(left + global + right, mathml)\n        res = protectConverted({ text: res })\n        segments = splitGlobal({ text: res, global })\n    }\n    res = revealConverted({ text: res })\n    return res\n}\n\nexport function protectConverted ({ text }: { text: string }): string {\n    let res = text\n    specials.forEach((special, index) => {\n        res = res.replace(new RegExp(special, 'g'), `_${index}_`)\n    })\n    return res\n}\n\nconst specials = [\n    'msqrt'\n]\n\nexport function splitGlobal ({ text, global }: { text: string, global: string }) {\n    const regex = new RegExp(`(.*)${global}(.*)`)\n    const match = text.match(regex)\n    if (match && match.length > 1) {\n        return [match[1], match[2]]\n    }\n    return []\n}\n\nexport function getParenthesesExtent (\n    { text, open = 0, reverse = false, cutoffChars = [] }:\n    { text: string, open?: number, reverse?: boolean, cutoffChars?: Array<string> }\n): string {\n    if (!text) return ''\n    if (!reverse) {\n        const match = text.match(/^([^()]*)([()])/)\n        if (!match || match.length === 0) {\n            if (shouldCutoff({ text, open, cutoffChars })) {\n                return cutoff({ text, cutoffChars, reverse })\n            }\n            return text\n        }\n\n        const firstMatch = match[0]\n        const textMatch = match[1]\n        const parenthesesMatch = match[2]\n\n        if (shouldCutoff({ text: textMatch, open, cutoffChars })) {\n            return cutoff({ text: textMatch, cutoffChars, reverse })\n        }\n        const slice = text.slice(firstMatch.length)\n        if (parenthesesMatch === '(') {\n            return firstMatch + getParenthesesExtent({ text: slice, open: open + 1, reverse, cutoffChars })\n        } else {\n            if (open <= 1) {\n                return firstMatch\n            }\n            return firstMatch + getParenthesesExtent({ text: slice, open: open - 1, reverse, cutoffChars })\n        }\n    } else {\n        const match = text.match(/([()])([^()]*)$/)\n        if (!match || match.length === 0) {\n            if (shouldCutoff({ text, open, cutoffChars })) {\n                return cutoff({ text, cutoffChars, reverse })\n            }\n            return text\n        }\n\n        const firstMatch = match[0]\n        const textMatch = match[2]\n        const parenthesesMatch = match[1]\n\n        if (shouldCutoff({ text: textMatch, open, cutoffChars })) {\n            return cutoff({ text: textMatch, cutoffChars, reverse })\n        }\n        const slice = text.slice(0, text.length - firstMatch.length)\n        if (parenthesesMatch === ')') {\n            return getParenthesesExtent({ text: slice, open: open + 1, reverse, cutoffChars }) + firstMatch\n        } else {\n            if (open <= 1) {\n                return firstMatch\n            }\n            return getParenthesesExtent({ text: slice, open: open - 1, reverse, cutoffChars }) + firstMatch\n        }\n    }\n}\n\nexport function shouldCutoff ({ text, cutoffChars, open }: { text: string, cutoffChars: Array<string>, open: number}): boolean {\n    const filteredCutoffChars = cutoffChars.filter(filterCutoffChars)\n    if (open === 0 && cutoffChars.includes('/')) {\n        if (/<\\/mfrac><\\/mstyle>/.test(text) || /<mo>&divide;<\\/mo>/.test(text)) {\n            return true\n        }\n    }\n    if (open === 0 && cutoffChars.includes('*')) {\n        if (/<mo>&times;<\\/mo>/.test(text)) {\n            return true\n        }\n    }\n    if (open === 0 && filteredCutoffChars.length > 0 && new RegExp(`[\\\\${filteredCutoffChars.join('\\\\')}]`, 'g').test(maskCutoffWhiteList({ text }))) {\n        return true\n    }\n    return false\n}\n\nexport function maskCutoffWhiteList ({ text }: { text: string }): string {\n    let res = text\n    Object.keys(cutoffWhiteList).forEach(key => {\n        res = res.replace(new RegExp(key, 'g'), cutoffWhiteList[key])\n    })\n    return res\n}\n\nconst cutoffWhiteList = {\n    '<mo>&plus;</mo>': '+',\n    '<mo>&minus;</mo>': '-',\n    '<mo>&times;</mo>': '*'\n}\n\nexport function filterCutoffChars (cutoffChar: string) {\n    return whiteListCutoffChars.includes(cutoffChar)\n}\n\nexport const whiteListCutoffChars = [\n    '+',\n    '-',\n    '*',\n    '(',\n    ')'\n]\n\nexport function cutoff ({ text, cutoffChars, reverse }: { text: string, cutoffChars: Array<string>, reverse?: boolean}) {\n    const filteredCutoffChars = cutoffChars.filter(filterCutoffChars)\n    const maskedText = maskCutoffWhiteList({ text })\n    let remainingRegex\n    let divideCutoffRegex\n    let alternateDivideCutoffRegex\n    if (reverse) {\n        remainingRegex = new RegExp(`[\\\\${filteredCutoffChars.join('\\\\')}]([^\\\\${filteredCutoffChars.join('\\\\')}]+)$`)\n        divideCutoffRegex = new RegExp(`<mo>&divide;</mo>([^\\\\${filteredCutoffChars.join('\\\\')}]+)$`)\n        alternateDivideCutoffRegex = new RegExp(`</mfrac></mstyle>([^\\\\${filteredCutoffChars.join('\\\\')}]+)$`)\n    } else {\n        remainingRegex = new RegExp(`^([^\\\\${filteredCutoffChars.join('\\\\')}]+)[\\\\${filteredCutoffChars.join('\\\\')}]`)\n        divideCutoffRegex = new RegExp(`^([^\\\\${filteredCutoffChars.join('\\\\')}]+)<mo>&divide;</mo>`)\n        alternateDivideCutoffRegex = new RegExp(`^([^\\\\${filteredCutoffChars.join('\\\\')}]+)<mstyle displaystyle=\"true\"><mfrac>`)\n    }\n\n    const cutoffMatch = maskedText.match(remainingRegex)\n    const cutoffDivideMatch = maskedText.match(divideCutoffRegex)\n    const cutoffAlternateDivideMatch = maskedText.match(alternateDivideCutoffRegex)\n\n    let res = ''\n    if (cutoffMatch) {\n        res = cutoffMatch[1]\n    }\n    if (cutoffDivideMatch) {\n        // Should only enter here if we're dealing with the preceding part of a divide\n        if (!res || cutoffDivideMatch[1].length < res.length) {\n            res = cutoffDivideMatch[1]\n        }\n    }\n    if (cutoffAlternateDivideMatch) {\n        // Should only enter here if we're dealing with the preceding part of a divide\n        if (!res || cutoffAlternateDivideMatch[1].length < res.length) {\n            res = cutoffAlternateDivideMatch[1]\n        }\n    }\n    return unmaskCutoffWhiteList({ text: res })\n}\n\nexport function unmaskCutoffWhiteList ({ text }: { text: string }): string {\n    let res = text\n    Object.keys(cutoffWhiteList).forEach(key => {\n        res = res.replace(new RegExp('\\\\' + cutoffWhiteList[key], 'g'), key)\n    })\n    return res\n}\n\nexport function stripExtraParentheses ({ left, right }: { left: string, right: string }) {\n    // Remove unmatched preceding or trailing parentheses\n    const leftHasPreceding = /^\\(/.test(left)\n    const rightHasPreceding = /^\\(/.test(right)\n    const leftHasTrailing = /\\)$/.test(left)\n    const rightHasTrailing = /\\)$/.test(right)\n    if (leftHasPreceding && !leftHasTrailing && !rightHasPreceding && !rightHasTrailing) {\n        return { left: left.replace(/^\\(/, ''), right }\n    }\n    if (!leftHasPreceding && !leftHasTrailing && !rightHasPreceding && rightHasTrailing) {\n        return { left, right: right.replace(/\\)$/, '') }\n    }\n    return { left, right }\n}\n\nexport function trimParentheses ({ text }: { text: string }): string {\n    return text.replace(/^\\((.*)\\)$/g, '$1')\n}\n\nexport function trimOpenParentheses ({ left, right }: { left: string, right: string }): string {\n    if (/\\)$/.test(right)) {\n        return left.replace(/^\\(/g, '')\n    }\n    return left\n}\n\nexport function trimCloseParentheses ({ left, right }: { left: string, right: string }): string {\n    if (/^\\(/.test(left)) {\n        return right.replace(/\\)$/g, '')\n    }\n    return right\n}\n\nexport function padParentheses ({ text }: { text: string }): string {\n    let res = text\n    res = res.replace(/^(.{0,3})([()])/g, '$1<mo>$2</mo>') // replace at the beginning\n    res = res.replace(/([()])([^()]{0,4})$/g, '<mo>$1</mo>$2') // replace at the end\n    res = res.replace(/([()])(?!<\\/mo>)/g, '<mo>$1</mo>')\n    return res\n}\n\nexport function revealConverted ({ text }: { text: string }): string {\n    let res = text\n    specials.forEach((special, index) => {\n        res = res.replace(new RegExp(`_${index}_`, 'g'), special)\n    })\n    return res\n}\n\nexport function padIgnoreList ({ text }: { text: string }): string {\n    let res = text\n    ignoreList.forEach(item => {\n        res = res.replace(new RegExp(`(^|[^A-Za-z0-9])(${item})($|[^A-Za-z0-9])`, 'g'), '$1<mo>$2</mo>$3')\n    })\n    return res\n}\n","import { evaluate } from 'mathjs'\nimport ignoreList from './ignoreList'\nimport { extrapolateMathml, expandVariableWithColor, colorVariable } from './mathml'\n\nconst circularDependencyError = 'Circular dependency detected'\n\nexport const variableRegex = /([A-Za-z]([A-Za-z0-9 ]*[A-Za-z0-9])*)/g\n\n// parses the text and returns identified variables\nexport function getVariables ({\n    text,\n    useIgnoreList = true\n}: {\n    text: string,\n    useIgnoreList?: boolean\n}): Array<string> {\n    if (!text) return []\n    const matches = text.match(variableRegex)\n    if (!matches) return []\n    const uniqueMatches = matches.reduce((prev, curr) => {\n        if (!prev.includes(curr)) {\n            return [...prev, curr]\n        } else {\n            return prev\n        }\n    }, [])\n\n    if (!useIgnoreList) return uniqueMatches\n\n    return uniqueMatches.reduce((prev, curr) => {\n        if (!ignoreList.includes(curr)) {\n            return [...prev, curr]\n        } else {\n            return prev\n        }\n    }, [])\n}\n\nexport function recursiveSolve ({\n    text = '',\n    context,\n    inheritedContext,\n    parents = []\n}: {\n    text: string,\n    context: Object,\n    inheritedContext: Object,\n    parents: Array<string>\n}): {\n        text: string,\n        context: Object,\n        resolution: { solution?: string, special?: string, error?: string},\n        solvableEquation: string,\n        mathml?: string,\n        missingContext: Array<string>,\n        requiredContext: Array<string>,\n        fullMissingContext: Array<string>\n    } {\n    let solvableEquation = text\n    let mathml = extrapolateMathml({ text })\n    const missingContext = []\n    const fullMissingContext = []\n    const variables: any = getVariables({ text })\n    const requiredContext = [...variables]\n    const solvableContext = { ...context }\n    const response = {\n        text,\n        missingContext,\n        fullMissingContext,\n        requiredContext,\n        context: solvableContext\n    }\n    const resolution = parents.reduce((error, parent) => {\n        if (error.error === circularDependencyError || variables.includes(parent)) {\n            return { error: circularDependencyError }\n        }\n        return error\n    }, {})\n    if (resolution.error) {\n        return {\n            ...response,\n            resolution,\n            solvableEquation,\n            mathml\n        }\n    }\n    variables.sort((a, b) => b.length - a.length).forEach(variable => {\n        if (solvableContext[variable] && solvableContext[variable].text) {\n            const usableContextVariable = solvableContext[variable] || inheritedContext[variable]\n            const prepared = recursiveSolve({\n                text: usableContextVariable.text,\n                context: usableContextVariable.context,\n                inheritedContext: { ...inheritedContext, ...solvableContext },\n                parents: [...parents, variable]\n            })\n            fullMissingContext.push(...prepared.fullMissingContext)\n            if (prepared.resolution.error === circularDependencyError) {\n                resolution.error = circularDependencyError\n                return\n            }\n            solvableContext[variable] = prepared\n            solvableEquation = solvableEquation.replace(new RegExp(variable, 'g'), '(' + prepared.solvableEquation + ')')\n            if (prepared.mathml && variableRegex.test(prepared.mathml)) {\n                mathml = expandVariableWithColor({ text: mathml, variable, expanded: prepared.mathml })\n            } else {\n                mathml = colorVariable({ text: mathml, variable })\n            }\n        } else if (inheritedContext && inheritedContext[variable] && inheritedContext[variable].solvableEquation !== undefined) {\n            solvableEquation = solvableEquation.replace(new RegExp(variable, 'g'), '(' + inheritedContext[variable].solvableEquation + ')')\n            mathml = colorVariable({ text: mathml, variable })\n        } else if (inheritedContext && inheritedContext[variable] && !inheritedContext[variable].text) {\n            solvableEquation = solvableEquation.replace(new RegExp(variable, 'g'), '(' + inheritedContext[variable] + ')')\n            mathml = colorVariable({ text: mathml, variable })\n            fullMissingContext.push(variable)\n        } else {\n            missingContext.push(variable)\n            fullMissingContext.push(variable)\n            mathml = colorVariable({ text: mathml, variable })\n        }\n    })\n    if (resolution.error) {\n        return {\n            ...response,\n            resolution,\n            solvableEquation,\n            mathml\n        }\n    }\n    return {\n        ...response,\n        resolution: solve({ text: solvableEquation, solvableEquation }),\n        solvableEquation,\n        mathml\n    }\n}\n\n// Context in this case is simply an object with variableNames as properties with the values that should be used\nexport function solveWithAddedContext ({ text, simpleContext }: { text: string, simpleContext: Object }): {\n    solution?: string, special?: string, error?: string, missingContext?: Array<string>\n} {\n    let res = text\n    const variableNames = getVariables({ text })\n    variableNames.sort((a, b) => b.length - a.length).forEach(variable => {\n        res = res.replace(new RegExp(variable, 'g'), `(${simpleContext[variable]})`)\n    })\n    return solve({ text: res })\n}\n\nexport function solve ({\n    text\n}: {\n    text: string\n}): {\n    solution?: string, special?: string, error?: string, missingContext?: Array<string>\n} {\n    if (!text || text.length === 0) {\n        return {}\n    }\n    let solution\n    const missingContext = getVariables({ text })\n    if (missingContext.length > 0) {\n        return { error: 'Missing context', missingContext }\n    }\n    try {\n        solution = evaluate(text)\n    } catch (error) {\n        return { error }\n    }\n    if (solution !== undefined && isNaN(parseFloat(solution))) return { error: 'Error. Not a number.' }\n    if (solution.im) {\n        return {\n            solution: solution.im,\n            special: 'im'\n        }\n    }\n    return { solution }\n}\n\nexport function stripContext (context: Object) {\n    const res = {}\n    if (typeof context !== 'object') {\n        return context\n    }\n    let hasProps = false\n    Object.keys(context).forEach(prop => {\n        if (context[prop] && (context[prop].text || context[prop].context)) {\n            res[prop] = {}\n            res[prop].text = context[prop].text\n            res[prop].context = stripContext(context[prop].context)\n            if (res[prop].context || res[prop].text) {\n                hasProps = true\n            }\n        }\n    })\n    if (!hasProps) {\n        return undefined\n    }\n    return res\n}\n\nexport function formatNumber (number) {\n    if (number && number.toString) {\n        const str = number.toString()\n        if (/\\./.test(str)) {\n            const parts = str.split('.')\n            return parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',') + '.' + parts[1]\n        } else {\n            return str.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\n        }\n    } else {\n        return number\n    }\n}\n","import { useEffect, useState } from 'react'\n\nexport function getLocalStorage (key) {\n    const localString = localStorage.getItem(key)\n    return JSON.parse(localString)\n}\n\nexport function setLocalStorage (key, value) {\n    const valueString = JSON.stringify(value)\n    localStorage.setItem(key, valueString)\n}\n\nexport function useLocalStorage (defaultValue, key) {\n    const [state, setState] = useState(defaultValue)\n\n    useEffect(() => {\n        const value = getLocalStorage(key)\n        if (value !== undefined && value !== null) {\n            setState(value)\n        }\n    }, [key])\n\n    return [\n        state,\n        newValue => {\n            setLocalStorage(key, newValue)\n            setState(newValue)\n        }\n    ]\n}\n","import * as React from 'react'\nimport { mathmlWrapper } from 'utils/math/mathml'\nimport styled from 'styled-components'\n\ninterface Props {\n    mathml: string,\n    title: string\n}\n\nconst StyledMathML = styled.div`\n    text-align: center;\n    padding: 10px;\n    overflow-x: auto;\n    overflow-y: hidden;\n`\n\nclass MathML extends React.Component<Props, {}> {\n    componentDidMount () {\n        // MathJax.Hub.Queue(['Typeset', MathJax.Hub]) // eslint-disable-line\n        if (typeof MathJax !== 'undefined') { // eslint-disable-line\n            MathJax.typesetPromise() // eslint-disable-line\n        }\n    }\n\n    componentDidUpdate () {\n        // MathJax.Hub.Queue(['Typeset', MathJax.Hub]) // eslint-disable-line\n        if (typeof MathJax !== 'undefined') { // eslint-disable-line\n            MathJax.typesetClear() // eslint-disable-line\n            MathJax.typesetPromise() // eslint-disable-line\n        }\n    }\n\n    render () {\n        const { mathml, title } = this.props\n\n        return (\n            <StyledMathML dangerouslySetInnerHTML={{ __html: (mathmlWrapper({ title, text: mathml })) }} />\n        )\n    }\n}\n\nexport default MathML\n","import React from 'react'\nimport styled from 'styled-components'\nimport getColor from 'utils/math/getColor'\nimport { getVariables, formatNumber } from 'utils/math'\nimport StyledInput from 'components/StyledInput'\n\nconst StyledContainer = styled.div`\n    display: flex;\n`\n\nconst Label = styled.span`\n    font-weight: bold;\n`\n\nfunction getNewContext ({ previousText, text, context }) {\n    const newContext = { ...context }\n    const previousVariables = getVariables({ text: previousText })\n    const nextVariables = getVariables({ text })\n    // if there is only one difference between the list of previous and next variables use the old value as the new\n    const unusedPrevious = previousVariables.filter(i => !nextVariables.includes(i))\n    const unusedNext = nextVariables.filter(i => !previousVariables.includes(i))\n    if (newContext) {\n        if (unusedPrevious.length === 1 && unusedNext.length === 1 && unusedPrevious[0]) {\n            newContext[unusedNext[0]] = newContext[unusedPrevious[0]]\n            delete newContext[unusedPrevious[0]]\n        } else {\n            // clear unused context\n            Object.keys(newContext).forEach(variable => {\n                if (!nextVariables.includes(variable)) {\n                    delete newContext[variable]\n                }\n            })\n        }\n    }\n    return newContext\n}\n\nfunction NestedProperty ({ id, variable, info, onChange }: {\n    id: string,\n    variable: string,\n    info: {\n        resolution: { solution?: string, special?: string, error?: string},\n        name: string,\n        text: string,\n        context: Object,\n        inheritedContext: Object,\n        missingContext: Array<string>,\n        requiredContext: Array<string>\n    },\n    onChange: Function\n}) {\n    const newInfo = {\n        resolution: {},\n        text: '',\n        missingContext: [],\n        requiredContext: [],\n        ...info.context[variable],\n        inheritedContext: { ...info.inheritedContext, ...info.context },\n        name: variable\n    }\n    return (\n        <ObjectProperty\n            id={`${id}-${variable}`}\n            info={newInfo}\n            onChange={({ name, text, context }) => {\n                const copyContext = { ...info.context }\n                if (!copyContext[name]) copyContext[name] = {}\n                copyContext[name].context = context\n                copyContext[name].text = text\n                onChange({ name: info.name, text: info.text, context: copyContext })\n            }} />\n    )\n}\n\nexport default function ObjectProperty (props: {\n    id: string,\n    info: {\n        resolution: { solution?: string, special?: string, error?: string},\n        name: string,\n        text: string,\n        context: Object,\n        inheritedContext: Object,\n        missingContext: Array<string>,\n        requiredContext: Array<string>\n    },\n    onChange: Function\n}) {\n    const {\n        id,\n        info,\n        onChange\n    } = props\n    // const placeholder = info.inheritedContext &&\n    // info.inheritedContext[info.name] &&\n    // info.inheritedContext[info.name].resolution &&\n    // info.inheritedContext[info.name].resolution.solution ?\n    // info.inheritedContext[info.name].resolution.solution : undefined\n    const nameStyle = { marginTop: 7, marginBottom: 2, color: getColor(info.name) }\n\n    return (\n        <div>\n            <div>\n                <div style={nameStyle}>\n                    {info.name\n                        ? <Label>{info.name} =&nbsp;\n                            {info.resolution.solution\n                                ? formatNumber(info.resolution.solution)\n                                : null}\n                        </Label>\n                        : null}\n                </div>\n                <StyledContainer>\n                    <StyledInput type='text'\n                        placeholder='Name / Value / Equation'\n                        style={{ marginBottom: 5 }}\n                        value={info.text || ''}\n                        onChange={event => {\n                            let text = event.target.value\n                            if (text.trim() === '') {\n                                text = undefined\n                            }\n                            onChange({ name: info.name, text, context: getNewContext({ previousText: info.text, text, context: info.context }) })\n                        }} />\n                </StyledContainer>\n            </div>\n            {info.requiredContext && info.requiredContext.map(variable => <NestedProperty key={`${id}-${variable}`} id={id} variable={variable} info={info} onChange={onChange} />)}\n        </div>\n    )\n}\n","import styled from 'styled-components'\nimport * as styles from 'styles'\n\nconst StyledTextarea = styled.textarea`\n    font-family: 'Ubuntu', sans-serif;\n    font-size: 1rem;\n    line-height: 1.2rem;\n    padding: 4px 6px;\n    border-radius: 4px;\n    border: none;\n    width: 100%;\n    box-shadow: 0px 0px 2px 2px ${styles.inputShadow};\n    outline: none;\n    :focus {\n        background-color: ${styles.inputFocus};\n    }\n`\n\nexport default StyledTextarea\n","import React from 'react'\nimport styled from 'styled-components'\nimport ObjectProperty from 'components/ObjectProperty'\nimport StyledTextarea from 'components/StyledTextarea'\nimport StyledInput from 'components/StyledInput'\n\nconst StyledObjectCreator = styled.div`\n    width: 100%;\n`\n\nconst StyledContainer = styled.div`\n    display: flex;\n`\n\nconst Category = styled(StyledInput)`\n    margin-top: 2px;\n    margin-bottom: 10px;\n`\n\nconst Notes = styled(StyledTextarea)`\n    min-height: 4rem;\n    resize: vertical;\n    margin-top: 2px;\n    margin-bottom: 10px;\n`\n\nconst Label = styled.div`\n    font-weight: bold;\n    margin-top: 4px;\n`\n\nexport default function ObjectCreator (props: {\n    info: {\n        resolution: { solution?: string, special?: string, error?: string},\n        name: string,\n        text: string,\n        mathml: string,\n        context: Object,\n        inheritedContext: Object,\n        missingContext: Array<string>,\n        requiredContext: Array<string>,\n        solvableEquation: string\n    },\n    onContextChange: Function,\n    category: string,\n    onCategoryChange: Function,\n    notes: string,\n    onNotesChage: Function\n}) {\n    return (\n        <StyledObjectCreator>\n            <Label>Name</Label>\n            <ObjectProperty id='base' info={props.info} onChange={props.onContextChange} />\n            <Label>Category</Label>\n            <StyledContainer>\n                <Category value={props.category || ''} type='textarea' onChange={props.onCategoryChange} />\n            </StyledContainer>\n            <Label>Notes</Label>\n            <StyledContainer>\n                <Notes value={props.notes || ''} type='textarea' onChange={props.onNotesChange} />\n            </StyledContainer>\n        </StyledObjectCreator>\n    )\n}\n","import React from 'react'\nimport styled from 'styled-components'\nimport * as styles from 'styles'\nimport originalStyledInput from 'components/StyledInput'\n\nconst StyledInput = styled(originalStyledInput)`\n    width: 80px;\n`\n\nconst StyledTableGenerator = styled.div`\n    display: flex;\n    flex-direction: column;\n    input {\n        text-align: center;\n    }\n`\n\nconst StyledOverallSection = styled.div`\n    display: flex;\n    width: 100%;\n    padding-top: 1rem;\n`\n\nconst StyledColumnSection = styled.div`\n    padding-left: ${styles.materialIterationWidth + 2}px;\n    display: flex;\n    padding-bottom: 1rem;\n`\n\nconst StyledSettingGroup = styled.div`\n    width: ${styles.materialColumnWidth}px;\n    padding: 2px;\n    text-align: right;\n`\n\nconst StackedColumn = styled.div`\n    flex-direction: column;\n`\n\nconst Setting = styled.div`\n    display: flex;\n    padding: 2px;\n`\n\nconst Label = styled.div`\n    padding-top: .2rem;\n    padding-right: 1rem;\n`\n\nexport default function TableGenerator (props) {\n    const {\n        columns,\n        columnColorObject,\n        columnSettings,\n        settings = {},\n        onGeneratorSettingChange,\n        onColumnSettingChange\n    } = props\n    const left = settings.left\n    const right = settings.right\n\n    function renderColumns ({ columns, columnColorObject, columnSettings, onColumnSettingChange }) {\n        const changeColumnSetting = (columnName, settingName) => {\n            return function (event) {\n                const newValue = event.target.value\n                if (!columnSettings[columnName] || newValue !== columnSettings[columnName][settingName]) {\n                    const newColumnSettings = { ...columnSettings }\n                    if (!columnSettings[columnName]) {\n                        newColumnSettings[columnName] = {}\n                    } else {\n                        newColumnSettings[columnName] = { ...columnSettings[columnName] }\n                    }\n                    newColumnSettings[columnName][settingName] = newValue\n                    onColumnSettingChange(newColumnSettings)\n                }\n            }\n        }\n        return columns.map(column => {\n            const option = columnSettings[column] ? columnSettings[column] : {}\n            const start = option.start\n            const interval = option.interval\n            return <StyledSettingGroup key={column}>\n                <div style={{ color: columnColorObject[column], fontWeight: 'bold', paddingTop: 10, paddingBottom: 10 }}>{column}</div>\n                <StackedColumn>\n                    <Setting>\n                        <Label>Start</Label>\n                        <StyledInput style={{ marginLeft: 18 }} type='number' onChange={changeColumnSetting(column, 'start')} value={start || ''} placeholder='0' />\n                    </Setting>\n                    <Setting>\n                        <Label>Interval</Label>\n                        <StyledInput type='number' onChange={changeColumnSetting(column, 'interval')} value={interval || ''} placeholder='1' />\n                    </Setting>\n                </StackedColumn>\n            </StyledSettingGroup>\n        })\n    }\n\n    function changeSetting (settingName) {\n        return function (event) {\n            const newValue = event.target.value.replace(/-/g, '')\n            if (newValue !== settings[settingName]) {\n                const newSetting = { ...settings }\n                newSetting[settingName] = newValue\n                onGeneratorSettingChange(newSetting)\n            }\n        }\n    }\n    return (\n        <StyledTableGenerator>\n            <StyledOverallSection>\n                <Setting style={{ paddingRight: 8 }}>\n                    <Label>Left</Label>\n                    <StyledInput type='number' onChange={changeSetting('left')} value={left || ''} placeholder='0' />\n                </Setting>\n                <Setting>\n                    <Label>Right</Label>\n                    <StyledInput type='number' onChange={changeSetting('right')} value={right || ''} placeholder='10' />\n                </Setting>\n            </StyledOverallSection>\n            <StyledColumnSection>\n                {renderColumns({ columns, columnColorObject, columnSettings, onColumnSettingChange })}\n            </StyledColumnSection>\n        </StyledTableGenerator>\n    )\n}\n","import styled from 'styled-components'\n\nexport default styled.div`\n    position: fixed;\n    bottom: 15px;\n    right: 5px;\n    i {\n        font-size: 3rem;\n    }\n    div {\n        display: flex;\n    }\n`\n","import React from 'react'\nimport styled from 'styled-components'\nimport * as styles from 'styles'\n\nconst StyledSearchButton = styled.div`\n    color: black;\n    cursor: pointer;\n    border-radius: 30px;\n`\n\nconst StyledSearchButtonWithHover = styled.div`\n    color: black;\n    cursor: pointer;\n    border-radius: 30px;\n    ${styles.buttonHover('Search', -6)}\n`\n\nexport default function SearchButton (props) {\n    if (props.hover) {\n        return (\n            <StyledSearchButtonWithHover {...props} style={{ ...props.style, backgroundColor: props.active ? styles.primaryColor : undefined }}>\n                <i className='material-icons' style={props.style}>search</i>\n            </StyledSearchButtonWithHover>\n        )\n    } else {\n        return (\n            <StyledSearchButton {...props} style={{ ...props.style, backgroundColor: props.active ? styles.primaryColor : undefined }}>\n                <i className='material-icons' style={props.style}>search</i>\n            </StyledSearchButton>\n        )\n    }\n}\n","import React from 'react'\nimport styled from 'styled-components'\nimport * as styles from 'styles'\n\nconst StyledSaveButton = styled.div`\n    color: black;\n    cursor: pointer;\n    border-radius: 30px;\n    ${styles.buttonHover('Save')}\n`\n\nexport default function SaveButton (props) {\n    if (props.text && props.location) {\n        return (\n            <StyledSaveButton {...props}>\n                <i className='material-icons'>save</i>\n            </StyledSaveButton>\n        )\n    } else {\n        return null\n    }\n}\n","import React from 'react'\nimport styled from 'styled-components'\nimport * as styles from 'styles'\nimport pickaxe from 'icons/pickaxe.svg'\n\nconst StyledMaterialButton = styled.div`\n    color: black;\n    cursor: pointer;\n    border-radius: 30px;\n`\n\nconst StyledMaterialButtonWithHover = styled.div`\n    color: black;\n    cursor: pointer;\n    border-radius: 30px;\n    ${styles.buttonHover('Material', -9)}\n`\n\nexport default function MaterialButton (props) {\n    if (props.hover) {\n        return (\n            <StyledMaterialButtonWithHover {...props} style={{ ...props.style, backgroundColor: props.active ? styles.primaryColor : undefined }}>\n                <img src={pickaxe} alt='Material' height={(props.style && props.style.height) || 50} width={(props.style && props.style.width) || 50} />\n            </StyledMaterialButtonWithHover>\n        )\n    } else {\n        return (\n            <StyledMaterialButton {...props} style={{ ...props.style, backgroundColor: props.active ? styles.primaryColor : undefined }}>\n                <img src={pickaxe} alt='Material' height={(props.style && props.style.height) || 50} width={(props.style && props.style.width) || 50} />\n            </StyledMaterialButton>\n        )\n    }\n}\n","import React from 'react'\nimport styled from 'styled-components'\nimport * as styles from 'styles'\nimport anvil from 'icons/anvil.svg'\n\nconst StyledForgeButton = styled.div`\n    color: black;\n    cursor: pointer;\n    border-radius: 30px;\n`\n\nconst StyledForgeButtonWithHover = styled.div`\n    color: black;\n    cursor: pointer;\n    border-radius: 30px;\n    ${styles.buttonHover('Forge', -2)}\n`\n\nexport default function ForgeButton (props) {\n    if (props.hover) {\n        return (\n            <StyledForgeButtonWithHover {...props} style={{ ...props.style, backgroundColor: props.active ? styles.primaryColor : undefined }}>\n                <img src={anvil} alt='Forge' height={(props.style && props.style.height) || 50} width={(props.style && props.style.width) || 50} />\n            </StyledForgeButtonWithHover>\n        )\n    } else {\n        return (\n            <StyledForgeButton {...props} style={{ ...props.style, backgroundColor: props.active ? styles.primaryColor : undefined }}>\n                <img src={anvil} alt='Forge' height={(props.style && props.style.height) || 50} width={(props.style && props.style.width) || 50} />\n            </StyledForgeButton>\n        )\n    }\n}\n","import React from 'react'\nimport styled from 'styled-components'\nimport * as styles from 'styles'\nimport crown from 'icons/crown.svg'\n\nconst StyledCommandButton = styled.div`\n    color: black;\n    cursor: pointer;\n    border-radius: 30px;\n`\n\nconst StyledCommandButtonWithHover = styled.div`\n    color: black;\n    cursor: pointer;\n    border-radius: 30px;\n    ${styles.buttonHover('Command', -20)}\n`\n\nexport default function CommandButton (props) {\n    if (props.hover) {\n        return (\n            <StyledCommandButtonWithHover {...props} style={{ ...props.style, backgroundColor: props.active ? styles.primaryColor : undefined }}>\n                <img src={crown} alt='Command' height={(props.style && props.style.height) || 50} width={(props.style && props.style.width) || 50} />\n            </StyledCommandButtonWithHover>\n        )\n    } else {\n        return (\n            <StyledCommandButton {...props} style={{ ...props.style, backgroundColor: props.active ? styles.primaryColor : undefined }}>\n                <img src={crown} alt='Command' height={(props.style && props.style.height) || 50} width={(props.style && props.style.width) || 50} />\n            </StyledCommandButton>\n        )\n    }\n}\n","import React from 'react'\nimport styled from 'styled-components'\nimport * as styles from 'styles'\nimport easel from 'icons/easel.svg'\n\nconst StyledReviewButton = styled.div`\n    color: black;\n    cursor: pointer;\n    border-radius: 30px;\n`\n\nconst StyledReviewButtonWithHover = styled.div`\n    color: black;\n    cursor: pointer;\n    border-radius: 30px;\n    ${styles.buttonHover('Review', -6)}\n`\n\nexport default function ReviewButton (props) {\n    if (props.hover) {\n        return (\n            <StyledReviewButtonWithHover {...props} style={{ ...props.style, backgroundColor: props.active ? styles.primaryColor : undefined }}>\n                <img src={easel} alt='Review' height={(props.style && props.style.height) || 50} width={(props.style && props.style.width) || 50} />\n            </StyledReviewButtonWithHover>\n        )\n    } else {\n        return (\n            <StyledReviewButton {...props} style={{ ...props.style, backgroundColor: props.active ? styles.primaryColor : undefined }}>\n                <img src={easel} alt='Review' height={(props.style && props.style.height) || 50} width={(props.style && props.style.width) || 50} />\n            </StyledReviewButton>\n        )\n    }\n}\n","import React, { useState, useEffect, useRef } from 'react'\nimport styled from 'styled-components'\n\nconst StyledFrozenTd = styled.div`\n`\n\nconst FrozenColumnTd = props => {\n    return (\n        <ColumnTd>\n            <StyledFrozenTd {...props} />\n        </ColumnTd>\n    )\n}\n\nconst ColumnTd = styled.td`\n`\n\nlet overrideSelect = false\n\nexport default function DataGrid (props: {\n    callback?: Function,\n    header?: Array<Array<string>>,\n    body: Array<Array<string>>,\n    footer?: Array<Array<string>>,\n    numbered?: boolean,\n    highlightColor?: string,\n    highlightInitialColor?: string,\n    hoverHeaderAndNumberedColor?: string,\n    className?: string,\n    style?: string,\n    cellComponent?: React.node,\n    frozenColumns?: number,\n    frozenColumnWidth?: number,\n    styles?: {\n        header?: {\n            tr?: Object,\n            td?: Object\n        },\n        body?: {\n            tr?: Object,\n            td?: Object,\n            edit?: Object\n        },\n        footer?: {\n            tr?: Object,\n            td?: Object\n        },\n        thead?: Object,\n        tbody?: Object,\n        tfoot?: Object\n    },\n    classes?: {\n        header?: {\n            tr?: string,\n            td?: string\n        },\n        body?: {\n            tr?: string,\n            td?: string,\n            edit?: string\n        },\n        footer?: {\n            tr?: string,\n            td?: string\n        },\n        thead?: string,\n        tbody?: string,\n        tfoot?: string\n    }\n}) {\n    const {\n        body,\n        frozenColumns,\n        editState = {},\n        setEdit,\n        keepEditing,\n        skipTabIndexes,\n        initialSelectionCell,\n        setInitialSelectionCell,\n        shouldHandleBlur = false\n    } = props\n    const CellComponent = props.cellComponent\n    const EditCellComponent = props.editComponent\n\n    const [clickedCell, setClickedCell] = useState({})\n    const [selectionRange, setSelectionRange] = useState({})\n    const [selectionCurrent, setSelectionCurrent] = useState({})\n    const [hover, setHover] = useState({})\n    const [selection, setSelection] = useState()\n    const [mouseDown, setMouseDown] = useState(false)\n    const [blurredOnce, setBlurredOnce] = useState(false)\n    const [shiftModifier, setShiftModifier] = useState(false)\n    const [ctrlModifier, setCtrlModifier] = useState(false)\n\n    const editorRef = useRef()\n    const selectionRef = useRef()\n\n    useEffect(() => {\n        setSelection(body.filter(filterRow).map(tabularizeSelection).join('\\n'))\n    }, [body, selectionRange]) // eslint-disable-line\n\n    useEffect(() => {\n        if (selection) {\n            selectText()\n        }\n    }, [selection])\n\n    useEffect(() => {\n        if (editState.row !== undefined && editState.column !== undefined) {\n            const ref = editorRef.current\n            ref.focus()\n            if (overrideSelect) {\n                overrideSelect = false\n            } else {\n                ref.setSelectionRange(0, ref.value.length)\n            }\n        } else {\n            selectText()\n        }\n    }, [editState.row, editState.column])\n\n    function selectText () {\n        const ref = selectionRef.current\n        ref.focus()\n        ref.setSelectionRange(0, ref.value.length)\n    }\n\n    function componentKeyDown (event) {\n        if (event.key === 'Shift') {\n            setShiftModifier(true)\n        }\n        if (event.key === 'Control') {\n            setCtrlModifier(true)\n        }\n    }\n\n    function componentKeyUp (event) {\n        if (event.key === 'Shift') {\n            setShiftModifier(false)\n        }\n        if (event.key === 'Control') {\n            setCtrlModifier(false)\n        }\n    }\n\n    function tableMouseUp () {\n        setMouseDown(false)\n    }\n\n    function gridMouseMove (event, row, column) {\n        setHover({\n            row: row === undefined ? -1 : row,\n            column: column === undefined ? -1 : column\n        })\n        if (mouseDown) {\n            // If row is null then it should be a header column event; use the body length\n            // If column is null then it should be a numbered column event; use the body column count\n            setRangeSelection(row === undefined ? body.length : row,\n                column === undefined ? body[0].length : column, true)\n        }\n    }\n\n    function gridMouseDown (event, row, column) {\n        event.preventDefault()\n        setMouseDown(true)\n        setBlurredOnce(false)\n        // reset clicked if it's not the last clicked cell, so that it won't open the editor\n        setClickedCell({\n            row: clickedCell.row === row ? row : undefined,\n            column: clickedCell.column === column ? column : undefined\n        })\n        if (shiftModifier) {\n            // If row is null then it should be a header column event; use the body length\n            // If column is null then it should be a numbered column event; use the body column count\n            setRangeSelection(row === undefined ? body.length : row,\n                column === undefined ? body[0].length : column, true)\n        } else {\n            setSingleSelection(row, column, true)\n        }\n    }\n\n    function gridMouseUp (event, row, column) {\n        // clickedCell.row and clickedCell.column store the last clicked cell, if it's the same open the editor\n        if (clickedCell.row === row && clickedCell.column === column) editCell(row, column)\n        // if the mouse up event fires on the same cell that was moused down on,\n        // then save it as the clicked cell in state\n        else if (initialSelectionCell.row === row && initialSelectionCell.column === column) {\n            setClickedCell({ row, column })\n        }\n    }\n\n    function selectionKeyDown (event) {\n        if (event.key === 'Enter') {\n            editCell(initialSelectionCell.row, initialSelectionCell.column)\n        }\n        if (event.key === 'Tab') {\n            event.preventDefault()\n            if (shiftModifier) {\n                setSingleSelection(initialSelectionCell.row, initialSelectionCell.column - 1)\n            } else {\n                setSingleSelection(initialSelectionCell.row, initialSelectionCell.column + 1)\n            }\n        }\n        if (event.key === 'Escape') {\n            if (editState.row !== undefined && editState.column !== undefined) {\n                closeEditor()\n            } else {\n                resetSelection()\n            }\n        }\n        if (event.key === 'Delete') {\n            const deleteArray = []\n            let row = selectionRange.startRow\n            let column = selectionRange.startColumn\n            const columnArray = []\n            while (column <= selectionRange.endColumn) {\n                if (column > -1) {\n                    columnArray.push('')\n                }\n                column++\n            }\n            while (row <= selectionRange.endRow) {\n                if (row > -1) {\n                    deleteArray.push(columnArray)\n                }\n                row++\n            }\n            updateArray(selectionRange.startRow, selectionRange.startColumn, body, deleteArray)\n        }\n        if (event.key === 'Backspace') {\n            props.callback(initialSelectionCell.row, initialSelectionCell.column, '')\n        }\n        if (event.key === 'ArrowUp') {\n            // if shift: expand range; else: move selection and initial\n            if (shiftModifier) {\n                setRangeSelection(selectionCurrent.row - 1, selectionCurrent.column)\n            } else {\n                setSingleSelection(initialSelectionCell.row - 1, initialSelectionCell.column)\n            }\n        }\n        if (event.key === 'ArrowDown') {\n            if (shiftModifier) {\n                setRangeSelection(selectionCurrent.row + 1, selectionCurrent.column)\n            } else {\n                setSingleSelection(initialSelectionCell.row + 1, initialSelectionCell.column)\n            }\n        }\n        if (event.key === 'ArrowLeft') {\n            if (shiftModifier) {\n                setRangeSelection(selectionCurrent.row, selectionCurrent.column - 1)\n            } else {\n                setSingleSelection(initialSelectionCell.row, initialSelectionCell.column - 1)\n            }\n        }\n        if (event.key === 'ArrowRight') {\n            if (shiftModifier) {\n                setRangeSelection(selectionCurrent.row, selectionCurrent.column + 1)\n            } else {\n                setSingleSelection(initialSelectionCell.row, initialSelectionCell.column + 1)\n            }\n        }\n        if (ctrlModifier) {\n            if (event.key === 'a') setSingleSelection(null, null)\n        } else {\n            // If ctrlModifier is false\n            if (event.key.length === 1) {\n                editCell(initialSelectionCell.row, initialSelectionCell.column, event.key)\n                overrideSelect = true\n            }\n        }\n    }\n\n    function resetSelection () {\n        setInitialSelectionCell({})\n        setSelectionCurrent({})\n        setSelectionRange({})\n        setClickedCell({})\n        setBlurredOnce(false)\n        setSelection('')\n    }\n\n    function selectionBlurred () {\n        // Blurs once (from the input element) when you click on a cell, and drag\n        // Blurs again if you click and drag outside of the table scope and click on something\n        // If the mouse down event isn't fired when the input is blurred they didn't\n        // click anywhere on the table, so it should reset the selection and lose focus\n\n        // Lost focus\n        if (!mouseDown || blurredOnce) {\n            setCtrlModifier(false)\n            setShiftModifier(false)\n            setMouseDown(false)\n            resetSelection()\n        } else {\n            setBlurredOnce(true)\n        }\n    }\n\n    function selectionPaste (event) {\n        event.clipboardData.items[0].getAsString(text => {\n            const rows = text.split('\\n')\n            const data = text.match(/\\t/g)\n                ? rows.map((row) => row.split('\\t'))\n                : rows.map((row) => row.split(','))\n            updateArray(\n                selectionRange.startRow,\n                selectionRange.startColumn,\n                body,\n                data\n            )\n        })\n    }\n\n    function setSingleSelection (rowIndex: number, columnIndex: number, forceSelection?: boolean) {\n        const row = rowIndex ? rowIndex === -1 && columnIndex === -1 ? -1 : cleanRow(rowIndex) : 0\n        const column = columnIndex ? rowIndex === -1 && columnIndex === -1 ? -1 : cleanColumn(row, columnIndex) : 0\n        setInitialSelectionCell({ row, column })\n        setSelectionCurrent({ row, column })\n        setSelectionRange({\n            startRow: row,\n            endRow: rowIndex !== undefined ? row : body.length,\n            startColumn: column,\n            endColumn: columnIndex !== undefined ? column : body[0].length\n        })\n        if (forceSelection) {\n            selectText()\n        }\n    }\n\n    function setRangeSelection (rowIndex: number, columnIndex: number, forceSelection?: boolean) {\n        const row = cleanRow(rowIndex)\n        const column = cleanColumn(row, columnIndex)\n        setSelectionCurrent({ row, column })\n        setSelectionRange({\n            startRow: row < initialSelectionCell.row ? row : initialSelectionCell.row,\n            endRow: row < initialSelectionCell.row ? initialSelectionCell.row : row,\n            startColumn: column < initialSelectionCell.column ? column : initialSelectionCell.column,\n            endColumn: column < initialSelectionCell.column ? initialSelectionCell.column : column\n        })\n        if (forceSelection) {\n            selectText()\n        }\n    }\n\n    function editorKeyDown (event) {\n        if (event.key === 'Escape') {\n            closeEditor(false)\n        }\n        if (event.key === 'Enter') {\n            if (keepEditing) {\n                if (shiftModifier) {\n                    editCell(editState.row - 1, editState.column)\n                } else {\n                    editCell(editState.row + 1, editState.column)\n                }\n            } else {\n                closeEditor()\n                if (shiftModifier) {\n                    setSingleSelection(editState.row - 1, editState.column)\n                } else {\n                    setSingleSelection(editState.row + 1, editState.column)\n                }\n            }\n        }\n        if (event.key === 'Tab' && (!skipTabIndexes || !skipTabIndexes.includes(editState.column))) {\n            event.preventDefault()\n            if (keepEditing) {\n                if (shiftModifier) {\n                    editCell(editState.row, editState.column - 1)\n                } else {\n                    editCell(editState.row, editState.column + 1)\n                }\n            } else {\n                closeEditor()\n                if (shiftModifier) {\n                    setSingleSelection(editState.row, editState.column - 1)\n                } else {\n                    setSingleSelection(editState.row, editState.column + 1)\n                }\n            }\n        }\n        if (event.key === 's') {\n            if (ctrlModifier) {\n                event.preventDefault()\n                closeEditor()\n            }\n        }\n    }\n\n    function editCell (rowIndex, columnIndex, startingValue) {\n        if (editState.original !== undefined && editState.row !== undefined && editState.column !== undefined &&\n            (CellComponent ? editState.original.value : editState.original) !== (CellComponent ? editState.current.value : editState.current)) {\n            props.callback(editState.row, editState.column, editState.current)\n        }\n        if (rowIndex >= 0 && columnIndex >= 0) {\n            const row = cleanRow(rowIndex)\n            const column = cleanColumn(row, columnIndex)\n            const original = startingValue !== undefined ? startingValue : body[row][column]\n            setEdit({ row, column, original, current: original })\n        }\n    }\n\n    function closeEditor (save = true, valueOverride) {\n        if (save) {\n            props.callback(editState.row, editState.column, valueOverride || editState.current)\n        }\n        setEdit({})\n        setSingleSelection(editState.row, editState.column)\n    }\n\n    function updateArray (startRow, startColumn, originalArray, newArrayData) {\n        return originalArray.map((row, rowIndex) => updateArrayRow(row, startColumn, newArrayData[rowIndex - startRow], rowIndex))\n    }\n\n    function updateArrayRow (row, startColumn, newArrayData, rowIndex) {\n        if (newArrayData !== undefined) {\n            return Object.assign([], row.map((cell, cellIndex) => updateArrayCell(cell, newArrayData[cellIndex - startColumn], rowIndex, cellIndex)))\n        } else {\n            return row\n        }\n    }\n\n    function updateArrayCell (cell, data, rowIndex, cellIndex) {\n        if (data !== undefined) {\n            props.callback(rowIndex, cellIndex, data)\n            return data\n        } else {\n            return cell\n        }\n    }\n\n    function cleanRow (row) {\n        return row > body.length - 1\n            ? body.length - 1\n            : row < 0 ? 0 : row\n    }\n\n    function cleanColumn (row, column) {\n        return column > body[row].length - 1\n            ? body[row].length - 1\n            : column < 0 ? 0 : column\n    }\n\n    function filterRow (row, rowIndex) {\n        if (rowIndex >= selectionRange.startRow &&\n            rowIndex <= selectionRange.endRow) {\n            return true\n        } else {\n            return false\n        }\n    }\n\n    function tabularizeSelection (row) {\n        return row.filter(filterToSelection).map(i => {\n            return CellComponent\n                ? (i.value === undefined ? '' : i.value.toString())\n                : i.toString()\n        }).join('\\t')\n    }\n\n    function filterToSelection (cell, columnIndex) {\n        if (columnIndex >= selectionRange.startColumn &&\n            columnIndex <= selectionRange.endColumn) {\n            return true\n        } else {\n            return false\n        }\n    }\n\n    function headerRow (row, rowIndex) {\n        return (\n            <tr key={rowIndex} className={props.classes && props.classes.header && props.classes.header.tr}\n                style={props.styles && props.styles.header && props.styles.header.tr}>\n                {row.map((obj, ind) => headerCell(obj, ind))}\n            </tr>\n        )\n    }\n\n    function headerCell (cell, colIndex) {\n        const columnIndex = props.numbered ? colIndex - 1 : colIndex\n        return (\n            <td key={columnIndex} className={props.classes && props.classes.header && props.classes.header.td}\n                style={Object.assign({}, props.styles && props.styles.header && props.styles.header.td,\n                    props.numbered && columnIndex === -1 && props.styles && props.styles.body && props.styles.body.numbered,\n                    {\n                        backgroundColor: columnIndex <= hover.column &&\n                        columnIndex >= hover.column\n                            ? props.hoverHeaderAndNumberedColor\n                            : null\n                    })}\n                onMouseDown={(event) => gridMouseDown(event, null, columnIndex)}\n                onMouseMove={(event) => gridMouseMove(event, null, columnIndex)}>\n                {cell}\n            </td>\n        )\n    }\n\n    function bodyRow (row, rowIndex) {\n        return (\n            <tr key={rowIndex} className={props.classes && props.classes.header && props.classes.body.tr}\n                style={props.styles && props.styles.body && props.styles.body.tr}>\n                {props.numbered &&\n                    <FrozenColumnTd className={props.classes && props.classes.header && props.classes.body.td}\n                        style={Object.assign({}, props.styles && props.styles.body && props.styles.body.td,\n                            props.styles && props.styles.body && props.styles.body.numbered,\n                            {\n                                backgroundColor: rowIndex <= hover.row &&\n                                rowIndex >= hover.row\n                                    ? props.hoverHeaderAndNumberedColor\n                                    : null\n                            })}\n                        onMouseDown={(event) => gridMouseDown(event, rowIndex, null)}\n                        onMouseMove={(event) => gridMouseMove(event, rowIndex, null)}>\n                        {rowIndex - props.numberedOffset}\n                    </FrozenColumnTd>\n                }\n                {row.map((obj, ind) => bodyCell(obj, ind, rowIndex))}\n            </tr>\n        )\n    }\n\n    function bodyCell (cell, columnIndex, rowIndex) {\n        const Td = frozenColumns && columnIndex < frozenColumns ? FrozenColumnTd : ColumnTd\n        if (editState.row === rowIndex && editState.column === columnIndex) {\n            return (\n                <ColumnTd key={columnIndex} className={props.classes && props.classes.body && props.classes.body.edit}\n                    style={Object.assign({}, props.styles && props.styles.body && props.styles.body.edit,\n                        {\n                            padding: '0px'\n                        })}\n                    onMouseMove={(event) => gridMouseMove(event, rowIndex, columnIndex)}>\n                    {EditCellComponent\n                        ? <EditCellComponent\n                            editorRef={editorRef}\n                            editorValue={editState.current}\n                            onChange={value => setEdit({ ...editState, current: value })}\n                            closeEditor={closeEditor}\n                            onKeyDown={editorKeyDown}\n                            {...cell}></EditCellComponent>\n                        : <input style={props.styles && props.styles.body && props.styles.body.edit}\n                            ref={editorRef}\n                            type='text'\n                            value={editState.current}\n                            onChange={(event) => setEdit({ ...editState, current: event.target.value })}\n                            onKeyDown={editorKeyDown} />}\n                </ColumnTd>\n            )\n        } else {\n            return (\n                <Td key={columnIndex} className={props.classes && props.classes.body && props.classes.body.td}\n                    style={Object.assign({}, props.styles && props.styles.body && props.styles.body.td,\n                        {\n                            backgroundColor: rowIndex <= selectionRange.endRow &&\n                            rowIndex >= selectionRange.startRow &&\n                            columnIndex <= selectionRange.endColumn &&\n                            columnIndex >= selectionRange.startColumn\n                                ? rowIndex === initialSelectionCell.row &&\n                                columnIndex === initialSelectionCell.column\n                                    ? props.highlightInitialColor\n                                    : props.highlightColor\n                                : null\n                        })}\n                    onMouseMove={(event) => gridMouseMove(event, rowIndex, columnIndex)}\n                    onMouseDown={(event) => gridMouseDown(event, rowIndex, columnIndex)}\n                    onMouseUp={(event) => gridMouseUp(event, rowIndex, columnIndex)}>\n                    {CellComponent ? <CellComponent {...cell} /> : cell}\n                </Td>\n            )\n        }\n    }\n\n    function footerRow (row, rowIndex) {\n        return (\n            <tr key={rowIndex} className={props.classes && props.classes.footer && props.classes.footer.tr}\n                style={props.styles && props.styles.footer && props.styles.footer.tr}>\n                {row.map((obj, ind) => footerCell(obj, ind, rowIndex))}\n            </tr>\n        )\n    }\n\n    function footerCell (cell, columnIndex, rowIndex) {\n        return (\n            <td key={columnIndex} data={columnIndex} className={props.classes && props.classes.footer && props.classes.footer.td}\n                style={Object.assign({}, props.styles && props.styles.footer && props.styles.footer.td,\n                    {\n                        backgroundColor: columnIndex <= selectionRange.endColumn &&\n                        columnIndex >= selectionRange.startColumn &&\n                        rowIndex <= selectionRange.endRow &&\n                        rowIndex >= selectionRange.startRow\n                            ? props.highlightColor\n                            : null\n                    })}>\n                {cell}\n            </td>\n        )\n    }\n\n    return (\n        // overflowX: 'auto' for freezing columns\n        <div style={{ width: '100%', position: editState.row !== undefined && editState.column === 0 && 'relative' }}\n            onKeyDown={componentKeyDown}\n            onKeyUp={componentKeyUp}>\n            <textarea ref={selectionRef}\n                type='text'\n                value={selection}\n                style={{ position: 'fixed', zIndex: -1000, opacity: 0 }}\n                readOnly\n                onKeyDown={selectionKeyDown}\n                onBlur={shouldHandleBlur ? selectionBlurred : undefined}\n                onPaste={selectionPaste} />\n            <table className={props.className}\n                style={Object.assign({}, { cursor: 'cell' }, props.style)}\n                onMouseUp={tableMouseUp}\n                onMouseLeave={() => {\n                    setHover({})\n                }}>\n                {props.header &&\n                    <thead className={props.classes && props.classes.thead}\n                        style={props.styles && props.styles.thead}>\n                        {props.header.map(headerRow)}\n                    </thead>\n                }\n                {body &&\n                    <tbody className={props.classes && props.classes.tbody}\n                        style={props.styles && props.styles.tbody}>\n                        {body.map(bodyRow)}\n                    </tbody>\n                }\n                {props.footer &&\n                    <tfoot className={props.classes && props.classes.tfoot}\n                        style={props.styles && props.styles.tfoot}>\n                        {props.footer.map(footerRow)}\n                    </tfoot>\n                }\n            </table>\n        </div>\n    )\n}\n","import React from 'react'\nimport styled from 'styled-components'\nimport { Line } from 'react-chartjs-2'\n\nconst StyledLine = styled.div`\n    padding-left: 1rem;\n`\n\nexport default function Graph (props) {\n    const {\n        columns,\n        columnColorObject,\n        rows,\n        generatorSettings\n    } = props\n    const left = parseInt(generatorSettings.left || 0, 10)\n    const right = parseInt(generatorSettings.right || 10, 10)\n    const labels = []\n    let iteration = -1 * left\n    const xAxisLabel = columns.length === 2\n    while (iteration <= right) {\n        if (xAxisLabel) {\n            labels.push(rows[iteration + left][0])\n        } else {\n            labels.push(iteration)\n        }\n        iteration++\n    }\n    const datasets = columns.map((column, index) => {\n        return {\n            label: column,\n            lineTension: 0,\n            fill: false,\n            backgroundColor: columnColorObject[column],\n            borderColor: columnColorObject[column],\n            pointBorderColor: columnColorObject[column],\n            pointBackgroundColor: columnColorObject[column],\n            data: rows.map(i => i[index]),\n            hidden: index !== columns.length - 1\n        }\n    })\n    const graphData = {\n        labels,\n        datasets\n    }\n    return (\n        <StyledLine>\n            <Line redraw={true} data={graphData} />\n        </StyledLine>\n    )\n}\n","import * as React from 'react'\nimport styled from 'styled-components'\n\nconst TopBar = styled.div`\n    width: 100%;\n    cursor: pointer;\n`\n\nexport default function Accordion (props: {\n    label: string,\n    expanded: boolean,\n    toggle: Function\n}) {\n    const { className, label, expanded, toggle } = props\n    return (\n        <div className={className}>\n            <TopBar onClick={() => toggle()}>\n                {label}\n            </TopBar>\n            {expanded && props.children}\n        </div>\n    )\n}\n","import React, { useEffect, useRef, useState } from 'react'\nimport { Link } from 'react-router-dom'\nimport styled from 'styled-components'\nimport * as styles from 'styles'\nimport premade from 'utils/premade.json'\nimport StyledInput from 'components/StyledInput'\nimport Accordion from 'components/Accordion'\n\nconst StyledFunctionSearch = styled.div`\n    padding: 4px 0px;\n    background: ${styles.extraLightGray};\n    height: 100%;\n    overflow-y: auto;\n    overflow-x: hidden;\n    box-shadow: 0px 4px 6px 4px #aaa;\n    border-radius: 6px;\n`\n\nconst Title = styled.div`\n    padding-left: 4px;\n    width: 500px;\n    margin: 4px;\n    font-size: 1.4rem;\n    font-weight: bold;\n`\n\nconst TitleSection = styled.div`\n    padding-top: 4px;\n    display: flex;\n    cursor: pointer;\n`\n\nconst Close = styled.div`\n    width: 100%;\n    padding: 4px;\n    text-align: right;\n    i {\n        font-size: 2rem;\n        border-radius: 20px;\n        :hover {\n            background: white;\n        }\n    }\n`\n\nconst StyledItem = styled.div`\n    display: flex;\n    padding: 4px;\n    a {\n        color: black;\n        text-decoration: none;\n    }\n    i {\n        font-weight: bold;\n        color: ${styles.extraLightGray};\n    }\n    :hover {\n        i {\n            color: red;\n        }\n    }\n`\n\nconst DeleteButton = styled.div`\n    i {\n        cursor: pointer;\n        font-size: 1rem;\n        border-radius: 5px;\n        padding-top: 2px;\n        :hover {\n            position: relative;\n            ::after {\n                font-family: 'Ubuntu', sans-serif;\n                font-weight: bold;\n                content: \"DELETE\";\n                position: absolute;\n                top: -2px;\n                right: -8px;\n                background-color: ${styles.yellow};\n                border-radius: 15px;\n                padding: 5px 25px 5px 10px;\n            }\n        }\n    }\n`\n\nconst Label = styled.div`\n    width: 100%;\n    a {\n        padding: 6px;\n        border-radius: 10px;\n        cursor: pointer;\n        :hover {\n            background: ${styles.lightYellow};\n        }\n    }\n`\n\nconst SubSection = styled.div`\n    font-weight: bold;\n    padding: 8px;\n    font-size: 1.2rem;\n`\n\nconst NoLocal = styled.div`\n    padding: 6px;\n`\n\nconst SearchInput = styled(StyledInput)`\n    margin: 4px;\n    width: 264px;\n    margin-bottom: 14px;\n`\n\nconst CategoryLabel = styled.div`\n    padding: 6px;\n    font-weight: bold;\n    padding-left: 8px;\n    background-color: ${styles.lightGray};\n`\n\nfunction escapeRegExp (string) {\n    return string.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&') // $& means the whole matched string\n}\n\nfunction score ({ regexArray, name, url, category, notes }) {\n    let score = 0\n    regexArray.forEach(regex => {\n        score += (name.match(regex) || { length: 0 }).length * 100\n        score += (category.match(regex) || { length: 0 }).length * 50\n        score += (url.match(regex) || { length: 0 }).length * 10\n        score += (notes.match(regex) || { length: 0 }).length * 1\n    })\n    return score\n}\n\nfunction sortByScore (a, b) {\n    if (a.sort > b.sort) {\n        return -1\n    } else if (a.sort < b.sort) {\n        return 1\n    } else {\n        if (a.name < b.name) {\n            return -1\n        } else {\n            return 1\n        }\n    }\n}\n\n// Takes in the functions object and returns an array of functions in order of relevance\nfunction filterWithSort ({ listObject, filter }) {\n    const keys = Object.keys(listObject)\n    const regexArray = []\n    // Try to use the filter as a regular if it's valid, otherwise use it as a string literal\n    // And ignore case\n    filter.split(' ').forEach(filterPart => {\n        let regex\n        try {\n            regex = new RegExp(filterPart, 'gi')\n        } catch (err) {\n            regex = new RegExp(escapeRegExp(filterPart), 'gi')\n        }\n        regexArray.push(regex)\n    })\n\n    const equationCategories = {}\n    keys.forEach(key => {\n        const equation = listObject[key]\n        const sort = score({ name: key, url: equation.url, category: equation.category || '', notes: equation.notes || '', regexArray })\n        if (sort > 0) {\n            if (!equationCategories[equation.category || 'None']) {\n                equationCategories[equation.category || 'None'] = []\n            }\n            equationCategories[equation.category || 'None'].push({\n                name: key,\n                url: equation.url,\n                category: equation.category,\n                notes: equation.notes,\n                sort\n            })\n        }\n    }, [])\n    const res = []\n    Object.keys(equationCategories).forEach(key => {\n        res.push({ name: key, equations: equationCategories[key].sort(sortByScore) })\n    })\n    return res\n}\n\nfunction SelfStateAccordion (props) {\n    const { label } = props\n    const [isOpen, setIsOpen] = useState(true)\n\n    return <Accordion label={label} expanded={isOpen} toggle={() => setIsOpen(!isOpen)}>\n        {props.children}\n    </Accordion>\n}\n\nexport default function FunctionSearch (props) {\n    const { toggleSearch, deleteLocalFunction, localFunctions } = props\n    const [filter, setFilter] = useState('')\n\n    const searchElement = useRef()\n\n    useEffect(() => {\n        searchElement.current.focus()\n    }, [])\n\n    const filteredLocal = filterWithSort({ filter, listObject: localFunctions })\n    const filteredPremade = filterWithSort({ filter, listObject: premade })\n\n    function renderLocalEquation (equation) {\n        return (\n            <StyledItem key={equation.name}>\n                <Label>\n                    <Link to={equation.url}>{equation.name}</Link>\n                </Label>\n                <DeleteButton onClick={() => {\n                    deleteLocalFunction(equation.name)\n                }}>\n                    <i className='material-icons'>close</i>\n                </DeleteButton>\n            </StyledItem>\n        )\n    }\n\n    function renderLocalCategory ({ name, equations }) {\n        return (\n            <SelfStateAccordion key={name} label={<CategoryLabel>Category: {name}</CategoryLabel>}>\n                {equations.map(renderLocalEquation)}\n            </SelfStateAccordion>\n        )\n    }\n\n    function renderPremadeEquation (equation) {\n        return (\n            <StyledItem key={equation.name}>\n                <Label>\n                    <Link to={equation.url}>{equation.name}</Link>\n                </Label>\n            </StyledItem>\n        )\n    }\n\n    function renderPremadeCategory ({ name, equations }) {\n        return (\n            <SelfStateAccordion key={name} label={<CategoryLabel>Category: {name}</CategoryLabel>}>\n                {equations.map(renderPremadeEquation)}\n            </SelfStateAccordion>\n        )\n    }\n\n    return (\n        <StyledFunctionSearch>\n            <TitleSection onClick={toggleSearch}>\n                <Title>\n                    Search Vault\n                </Title>\n                <Close onClick={toggleSearch}>\n                    <i className='material-icons'>close</i>\n                </Close>\n            </TitleSection>\n            <SearchInput\n                ref={searchElement}\n                placeholder='Filter'\n                value={filter}\n                onChange={event => setFilter(event.target.value)}\n            />\n            {filteredLocal.length === 0\n                ? <NoLocal>Your personal vault is empty</NoLocal>\n                : null\n            }\n            {filteredLocal.map(renderLocalCategory)}\n            {filteredPremade.length > 0\n                ? <SubSection>Standard Arsenal</SubSection>\n                : null\n            }\n            {filteredPremade.map(renderPremadeCategory)}\n        </StyledFunctionSearch>\n    )\n}\n","import * as React from 'react'\nimport { withRouter } from 'react-router-dom'\nimport styled from 'styled-components'\nimport { passToHistory } from 'utils/qs'\nimport getColor from 'utils/math/getColor'\nimport { formatNumber, recursiveSolve, solveWithAddedContext } from 'utils/math'\nimport premade from 'utils/premade.json'\nimport { getLocalStorage, setLocalStorage } from 'utils/localStorage'\nimport { withQsContext } from 'containers/qsContext'\nimport MathML from 'components/MathML'\nimport ObjectCreator from 'components/ObjectCreator'\nimport TableGenerator from 'components/TableGenerator'\nimport RightFloater from 'components/RightFloater'\nimport SearchButton from 'components/buttons/Search'\nimport SaveButton from 'components/buttons/Save'\nimport MaterialButton from 'components/buttons/Material'\nimport ForgeButton from 'components/buttons/Forge'\nimport CommandButton from 'components/buttons/Command'\nimport ReviewButton from 'components/buttons/Review'\nimport DataGrid from 'components/DataGrid'\nimport Graph from 'components/Graph'\nimport FunctionSearch from 'components/FunctionSearch'\nimport Accordion from 'components/Accordion'\nimport * as styles from 'styles'\n\nconst StyledRoot = styled.div`\n    display: flex;\n    min-height: 1px;\n`\n\nconst StyledMain = styled.div`\n    display: flex;\n    flex-direction: column;\n    @media (max-width: 800px) {\n      width: 100% !important;\n    }\n    display: flex;\n    overflow: auto;\n`\n\nconst StyledSearch = styled.div`\n    position: fixed;\n    width: 0px;\n    right: 0px;\n    top: 64px;\n    bottom: 0px;\n    transition: width 150ms ease-in-out;\n`\n\nconst AccordionContents = styled.div`\n    padding: 5px 60px;\n    @media (max-width: 800px) {\n      padding-left: 5px;\n      padding-right: 5px;\n    }\n`\n\nconst StyledMaterialSection = styled.div`\n`\n\nconst StyledObjectCreator = styled.div`\n`\n\nconst StyledMath = styled.div`\n`\n\nconst StyledGraph = styled.div`\n`\n\nconst StyledTableScrollableLimit = styled.div`\n    width: 100%;\n    overflow: auto;\n`\n\nconst StyledTableScrollable = styled.div`\n`\n\nconst StyledDataGrid = styled.div`\n    input {\n      background-color: ${styles.yellow};\n      ${styles.inputStyle}\n    }\n`\n\nconst Section = styled.div`\n    display: flex;\n    align-items: center;\n`\n\nconst Title = styled.div`\n    font-size: 1.5rem;\n    padding-left: 1rem;\n    color: ${styles.primaryColor};\n    font-weight: bold;\n`\n// text-shadow: -1px 1px 2px #000;\n\nconst StyledSolution = styled.div`\n    font-weight: bold;\n    text-align: center;\n    padding: 20px;\n`\n\nconst MenuButton = styled.div`\n    padding: 5px;\n`\n\nconst StyledText = styled.div`\n    padding: 5px;\n`\n\nclass Root extends React.Component {\n    // interface State {\n    //   table: Array<Array<any>>,\n    //   showSearch: boolean\n    // }\n    state = {\n        table: [\n            []\n        ],\n        initialSelectionCell: {}\n    }\n\n    UNSAFE_componentWillMount () {\n        const localStorageFunctions = this.getLocalStorageFunctions()\n        const accordionState = {\n            showSearch: true,\n            showMaterial: true,\n            showForge: true,\n            showReview: true,\n            showCommand: true,\n            ...this.getLocalStorageAccordionState()\n        }\n        let category = ''\n        if (this.props.text) {\n            if (localStorageFunctions[this.props.text]) {\n                category = localStorageFunctions[this.props.text].category\n            } else if (premade[this.props.text]) {\n                category = premade[this.props.text].category\n            }\n        }\n        let notes = ''\n        if (this.props.text) {\n            if (localStorageFunctions[this.props.text]) {\n                notes = localStorageFunctions[this.props.text].notes\n            } else if (premade[this.props.text]) {\n                notes = premade[this.props.text].notes\n            }\n        }\n        this.setState({\n            table: this.generateTable(this.props),\n            localStorageFunctions,\n            accordionState,\n            notes,\n            category\n        })\n    }\n\n    UNSAFE_componentWillReceiveProps (nextProps) {\n        const localStorageFunctions = this.getLocalStorageFunctions()\n        const { info = {}, generatorSettings = {}, columnSettings = {} } = nextProps\n        const missingVariables = info.fullMissingContext || []\n        const currentProps = this.props\n        const currentMissingVariables = currentProps.info.missingVariables || []\n        if (currentProps.info.solvableEquation !== info.solvableEquation ||\n            currentProps.generatorSettings.left !== generatorSettings.left ||\n            currentProps.generatorSettings.right !== generatorSettings.right ||\n            Object.keys(currentProps.columnSettings).some(key => {\n                return typeof currentProps.columnSettings[key] !== typeof columnSettings[key] ||\n                    currentProps.columnSettings[key].start !== columnSettings[key].start ||\n                    currentProps.columnSettings[key].interval !== columnSettings[key].interval\n            }) ||\n            currentMissingVariables.some(previous => !missingVariables.includes(previous)) ||\n            missingVariables.some(next => !currentMissingVariables.includes(next))) {\n            const newState = {\n                table: this.generateTable(nextProps),\n                localStorageFunctions\n            }\n            if (this.props.text !== nextProps.text) {\n                if (!nextProps.text) {\n                    newState.category = ''\n                } else if (localStorageFunctions[nextProps.text]) {\n                    newState.category = localStorageFunctions[nextProps.text].category || ''\n                } else if (premade[nextProps.text]) {\n                    newState.category = premade[nextProps.text].category || ''\n                }\n            }\n            if (this.props.text !== nextProps.text) {\n                if (!nextProps.text) {\n                    newState.notes = ''\n                } else if (localStorageFunctions[nextProps.text]) {\n                    newState.notes = localStorageFunctions[nextProps.text].notes || ''\n                } else if (premade[nextProps.text]) {\n                    newState.notes = premade[nextProps.text].notes || ''\n                }\n            }\n            this.setState(newState)\n        }\n    }\n\n    generateTable ({ info, columnSettings, generatorSettings }) {\n        const missingVariables = info.fullMissingContext || []\n        const { left = 0, right = 10 } = generatorSettings\n        const table = []\n        const generatorColumns = missingVariables.map(column => {\n            let start = 0\n            let interval = 1\n            if (columnSettings[column] && columnSettings[column].start) {\n                start = columnSettings[column].start\n            }\n            if (columnSettings[column] && columnSettings[column].interval) {\n                interval = columnSettings[column].interval\n            }\n            return {\n                name: column,\n                start,\n                interval\n            }\n        })\n        const runner = {\n            iteration: -1 * parseInt(left, 10)\n        }\n        function calculateIteration (column) {\n            return parseFloat(column.start) + runner.iteration * parseFloat(column.interval)\n        }\n        while (runner.iteration <= parseInt(right, 10)) {\n            const simpleContext = {}\n            const cells = generatorColumns.map(column => {\n                const res = calculateIteration(column)\n                simpleContext[column.name] = res\n                return Number(res.toFixed(10))\n            })\n            const solution = Number(parseFloat(solveWithAddedContext({ text: info.solvableEquation, simpleContext }).solution || 0).toFixed(10))\n            table.push([...cells, solution])\n            runner.iteration++\n        }\n        return table\n    }\n\n    passCleanedSettingsToHistory (oldHistoryObject, newHistoryObject) {\n        const cleanedHistoryObject = {\n            history: oldHistoryObject.history,\n            text: oldHistoryObject.text,\n            category: oldHistoryObject.category,\n            notes: oldHistoryObject.notes,\n            context: { ...oldHistoryObject.context },\n            columnSettings: { ...oldHistoryObject.columnSettings },\n            generatorSettings: { ...oldHistoryObject.generatorSettings },\n            pushToHistory: (!oldHistoryObject.text && newHistoryObject.text) || (oldHistoryObject.text && !newHistoryObject.text)\n        }\n\n        if (newHistoryObject.columnSettings) {\n            cleanedHistoryObject.columnSettings = { ...newHistoryObject.columnSettings }\n            cleanedHistoryObject.pushToHistory = false\n        }\n\n        if (newHistoryObject.generatorSettings) {\n            cleanedHistoryObject.generatorSettings = { ...newHistoryObject.generatorSettings }\n            cleanedHistoryObject.pushToHistory = false\n        }\n\n        if (typeof newHistoryObject.category === 'string') {\n            cleanedHistoryObject.category = newHistoryObject.category\n            cleanedHistoryObject.pushToHistory = false\n        }\n\n        if (typeof newHistoryObject.notes === 'string') {\n            cleanedHistoryObject.notes = newHistoryObject.notes\n            cleanedHistoryObject.pushToHistory = false\n        }\n\n        if (newHistoryObject.text || newHistoryObject.context) {\n            const info = recursiveSolve({ text: newHistoryObject.text, context: newHistoryObject.context })\n            Object.keys(cleanedHistoryObject.columnSettings).forEach(key => {\n                if (!info.fullMissingContext.includes(key)) {\n                    delete cleanedHistoryObject.columnSettings[key]\n                }\n            })\n            cleanedHistoryObject.text = newHistoryObject.text\n            cleanedHistoryObject.context = { ...newHistoryObject.context }\n        }\n\n        passToHistory({ ...cleanedHistoryObject })\n    }\n\n    colorVariables ({ variables, columnColorObject }) {\n        return variables.map(variable => {\n            return <div key={variable} style={{ fontWeight: 'bold', color: columnColorObject[variable] }}>{variable}</div>\n        })\n    }\n\n    toggleHelp = () => {\n        this.setState({ showHelp: !this.state.showHelp })\n    }\n\n    toggleSearch = () => {\n        this.setLocalStorageAccordionState({ ...this.state.accordionState, showSearch: !this.state.accordionState.showSearch })\n    }\n\n    toggleMaterial = () => {\n        this.setLocalStorageAccordionState({ ...this.state.accordionState, showMaterial: !this.state.accordionState.showMaterial })\n    }\n\n    toggleForge = () => {\n        this.setLocalStorageAccordionState({ ...this.state.accordionState, showForge: !this.state.accordionState.showForge })\n    }\n\n    toggleReview = () => {\n        this.setLocalStorageAccordionState({ ...this.state.accordionState, showReview: !this.state.accordionState.showReview })\n    }\n\n    toggleWield = () => {\n        this.setLocalStorageAccordionState({ ...this.state.accordionState, showWield: !this.state.accordionState.showWield })\n    }\n\n    toggleCommand = () => {\n        this.setLocalStorageAccordionState({ ...this.state.accordionState, showCommand: !this.state.accordionState.showCommand })\n    }\n\n    getLocalStorageFunctions = () => {\n        return getLocalStorage('localFunctions') || {}\n    }\n\n    setLocalStorageFunctions = (localStorageFunctions) => {\n        setLocalStorage('localFunctions', localStorageFunctions)\n        this.setState({ localStorageFunctions })\n    }\n\n    getLocalStorageAccordionState = () => {\n        return getLocalStorage('accordion')\n    }\n\n    setLocalStorageAccordionState = (accordionState) => {\n        setLocalStorage('accordion', accordionState)\n        this.setState({ accordionState })\n    }\n\n    saveLocalFunction = ({ history, name, category, notes }) => {\n        const localStorageFunctions = this.getLocalStorageFunctions()\n        localStorageFunctions[name] = {\n            category,\n            notes,\n            date: Date.now(),\n            url: history.location.path || '' + history.location.search || ''\n        }\n        this.setLocalStorageFunctions(localStorageFunctions)\n    }\n\n    deleteLocalFunction = (name) => {\n        const localStorageFunctions = this.getLocalStorageFunctions()\n        delete localStorageFunctions[name]\n        this.setLocalStorageFunctions(localStorageFunctions)\n    }\n\n    setInitialSelectionCell = (selection) => {\n        this.setState({ ...this.state, initialSelectionCell: selection })\n    }\n\n    render () {\n        const { info, text, context, columnSettings, generatorSettings, history } = this.props\n        const historyObject = { history, text, context, generatorSettings, columnSettings }\n\n        const {\n            table,\n            category,\n            notes,\n            localStorageFunctions,\n            accordionState: {\n                showSearch,\n                showMaterial,\n                showForge,\n                showReview,\n                // showWield,\n                showCommand\n            }\n        } = this.state\n        const solution = info.resolution.solution\n        const mathml = info.mathml\n        const missingVariables = info.fullMissingContext.filter(i => i !== text)\n        const columnColorObject = missingVariables.reduce((acc, current) => {\n            const res = { ...acc }\n            res[current] = getColor(current)\n            return res\n        }, {})\n        columnColorObject[text] = getColor(text)\n        return (\n            <StyledRoot>\n                <StyledMain style={{ width: showSearch ? 'calc(100% - 300px)' : '100%' }}>\n                    <Accordion\n                        expanded={showForge}\n                        toggle={this.toggleForge}\n                        label={\n                            <Section>\n                                <ForgeButton />\n                                <Title>Build Equation</Title>\n                            </Section>\n                        }>\n                        <AccordionContents>\n                            <StyledObjectCreator>\n                                <ObjectCreator\n                                    info={{ ...info, name: '' }}\n                                    onContextChange={({ text, context }) => this.passCleanedSettingsToHistory(historyObject,\n                                        {\n                                            text,\n                                            context\n                                        })}\n                                    category={category}\n                                    onCategoryChange={event => {\n                                        this.setState({ category: event.target.value })\n                                    }}\n                                    notes={notes}\n                                    onNotesChange={event => {\n                                        this.setState({ notes: event.target.value })\n                                    }}\n                                />\n                                {solution &&\n                                    <StyledSolution style={{ color: columnColorObject[text] }}>\n                                        {text} = {formatNumber(solution)}\n                                    </StyledSolution>\n                                }\n                            </StyledObjectCreator>\n                        </AccordionContents>\n                    </Accordion>\n                    <Accordion\n                        expanded={showReview}\n                        toggle={this.toggleReview}\n                        label={\n                            <Section>\n                                <ReviewButton />\n                                <Title>Review</Title>\n                            </Section>\n                        }>\n                        <AccordionContents>\n                            <StyledMath>\n                                {mathml\n                                    ? <MathML title={text} mathml={mathml} />\n                                    : <StyledText>\n                                        Define your equation. Go to <ForgeButton style={{ height: 40, width: 40, display: 'inline' }} onClick={this.toggleForge} />Build Equation\n                                        <br />\n                                        <br />\n                                    </StyledText>\n                                }\n                            </StyledMath>\n                        </AccordionContents>\n                    </Accordion>\n                    <Accordion\n                        expanded={showMaterial}\n                        toggle={this.toggleMaterial}\n                        label={\n                            <Section>\n                                <MaterialButton />\n                                <Title>Define Variables</Title>\n                            </Section>\n                        }>\n                        <AccordionContents>\n                            <StyledMaterialSection>\n                                <StyledTableScrollableLimit>\n                                    <StyledTableScrollable\n                                        style={{\n                                            width: missingVariables.length ? ((missingVariables.length + 1) * (styles.materialColumnWidth + 4) + styles.materialIterationWidth + 6) : '100%'\n                                        }}>\n                                        {missingVariables.length > 0 &&\n                                            <TableGenerator\n                                                info={info}\n                                                columns={missingVariables}\n                                                columnColorObject={columnColorObject}\n                                                columnSettings={columnSettings}\n                                                settings={generatorSettings}\n                                                onGeneratorSettingChange={settings => this.passCleanedSettingsToHistory(historyObject,\n                                                    {\n                                                        generatorSettings: settings\n                                                    })}\n                                                onColumnSettingChange={settings => this.passCleanedSettingsToHistory(historyObject,\n                                                    {\n                                                        columnSettings: settings\n                                                    })}\n                                                tableGenerated={table => this.setState({ table })} />\n                                        }\n                                        {missingVariables.length > 0\n                                            ? <StyledDataGrid>\n                                                <DataGrid header={[['Iteration', ...this.colorVariables({ variables: [...missingVariables, text], columnColorObject })]]}\n                                                    numbered\n                                                    numberedOffset={generatorSettings.left || 0}\n                                                    body={table}\n                                                    styles={{\n                                                        header: {\n                                                            td: { textAlign: 'right' }\n                                                        },\n                                                        body: {\n                                                            edit: {\n                                                                width: styles.materialColumnWidth - 10\n                                                            },\n                                                            td: {\n                                                                width: styles.materialColumnWidth,\n                                                                textAlign: 'right',\n                                                                borderRadius: 2,\n                                                                boxShadow: '0px 0px 3px 2px #CCC'\n                                                            },\n                                                            numbered: { width: styles.materialIterationWidth, textAlign: 'left' }\n                                                        }\n                                                    }}\n                                                    highlightColor='#bfa'\n                                                    highlightInitialColor='#7f7'\n                                                    hoverHeaderAndNumberedColor='#fc04'\n                                                    initialSelectionCell={this.state.initialSelectionCell}\n                                                    setInitialSelectionCell={this.setInitialSelectionCell}\n                                                    callback={(row, column, data) => {\n                                                        table[row][column] = data\n                                                        this.setState({ table })\n                                                    }} />\n                                            </StyledDataGrid>\n                                            : <div>\n                                                Start by naming your problem. Go to <ForgeButton style={{ height: 40, width: 40, display: 'inline' }} onClick={this.toggleForge} />Build Equation\n                                                <br />\n                                                <br />\n                                                As you break things down, anything named that is left without a value can be defined here.\n                                                <br />\n                                                <br />\n                                            </div>\n                                        }\n                                    </StyledTableScrollable>\n                                </StyledTableScrollableLimit>\n                            </StyledMaterialSection>\n                        </AccordionContents>\n                    </Accordion>\n                    <Accordion\n                        expanded={showCommand}\n                        toggle={this.toggleCommand}\n                        label={\n                            <Section>\n                                <CommandButton />\n                                <Title>Graph</Title>\n                            </Section>\n                        }>\n                        <AccordionContents>\n                            <StyledGraph>\n                                {missingVariables.length > 0\n                                    ? <Graph\n                                        columns={[...missingVariables, text]}\n                                        columnColorObject={columnColorObject}\n                                        rows={table}\n                                        generatorSettings={generatorSettings} />\n                                    : <StyledText>\n                                        The graph uses numbers from <MaterialButton style={{ height: 40, width: 40, display: 'inline' }} onClick={this.toggleMaterial} /> Define Variables\n                                    </StyledText>\n                                }\n                            </StyledGraph>\n                        </AccordionContents>\n                    </Accordion>\n                </StyledMain>\n                <StyledSearch style={{ width: showSearch ? 300 : 0 }}>\n                    {showSearch && <FunctionSearch\n                        localFunctions={localStorageFunctions}\n                        deleteLocalFunction={this.deleteLocalFunction}\n                        toggleSearch={this.toggleSearch}\n                    />}\n                </StyledSearch>\n                <RightFloater style={{ display: 'flex' }}>\n                    <MenuButton>\n                        <SaveButton\n                            hover\n                            text={text}\n                            location={history.location}\n                            onClick={() => {\n                                this.saveLocalFunction({ history, name: text, category, notes })\n                            }} />\n                    </MenuButton>\n                    <MenuButton><SearchButton hover active={showSearch} onClick={this.toggleSearch} /></MenuButton>\n                </RightFloater>\n            </StyledRoot>\n        )\n    }\n}\n\nexport default withQsContext(withRouter(Root))\n","import React from 'react'\nimport { recursiveSolve } from 'utils/math'\nimport { getFromHistory } from 'utils/qs'\n\nexport const withQsContext = Component => props => {\n    const qsContext = getFromHistory(props.history)\n    const info = recursiveSolve({ text: qsContext.text, context: qsContext.context })\n    return <Component {...props} {...qsContext} info={info} />\n}\n","import React from 'react'\nimport styled from 'styled-components'\nimport { formatNumber } from 'utils/math'\n\nconst StyledCell = styled.div`\n    display: flex;\n    flex-direction: column;\n    min-width: 200px;\n    width: 200px;\n    margin: 2px;\n`\n\nconst Label = styled.div`\n    margin-left: 2px;\n    min-height: 1.2rem;\n`\n\nconst Value = styled.div`\n    margin-left: 2px;\n    text-align: right;\n`\n\nconst InheritedValue = styled.div`\n    color: gray;\n    margin-left: 2px;\n    text-align: right;\n`\n\nconst Solution = styled.div`\n    margin-right: 2px;\n    text-align: right;\n`\n\nexport default function Cell (props) {\n    const { value, info } = props\n    if (info) { // if there's info then it must be the root\n        const { solution } = props\n        return (\n            <StyledCell>\n                <Label>\n                    {value}\n                </Label>\n                <Solution>\n                    {formatNumber(solution)}\n                </Solution>\n            </StyledCell>\n        )\n    } else {\n        const { label, isInherited } = props\n        return (\n            <StyledCell>\n                <Label>\n                    {label}\n                </Label>\n                {isInherited\n                    ? <InheritedValue>\n                        {formatNumber(value)}\n                    </InheritedValue>\n                    : <Value>\n                        {value === '' ? 'undefined' : formatNumber(value)}\n                    </Value>\n                }\n            </StyledCell>\n        )\n    }\n}\n","import React, { useEffect, useState } from 'react'\nimport styled from 'styled-components'\n\nconst StyledAutocomplete = styled.div`\n    position: relative;\n    width: 100%;\n`\n\nconst StyledInput = styled.input`\n    position: relative;\n    width: 100%;\n`\n\nconst Suggestions = styled.div`\n    position: absolute;\n    width: 100%;\n`\n\nconst SuggestionsWithHover = styled(Suggestions)`\n    div:hover {\n        background: lightblue;\n    }\n`\n\nconst StyledSuggestion = styled.div`\n    cursor: pointer;\n    background: lightgray;\n    padding: 4px;\n`\n\nfunction Suggestion (props) {\n    return (\n        <StyledSuggestion {...props} style={{ backgroundColor: props.active && 'lightblue' }}>\n            {props.id}\n        </StyledSuggestion>\n    )\n}\n\nfunction getSuggestions (options, textToMatch) {\n    const regex = new RegExp(textToMatch, 'i')\n    return options.filter(option => regex.test(option.id))\n}\n\nfunction handleKeyDown (event, state, setState, suggestions, onSelect) {\n    if (event.key === 'ArrowDown') {\n        if (state.activeIndex === undefined || state.activeIndex + 1 >= suggestions.length) {\n            setState({ isMouseControlled: false, activeIndex: 0 })\n        } else {\n            setState({ isMouseControlled: false, activeIndex: state.activeIndex + 1 })\n        }\n    }\n    if (event.key === 'ArrowUp') {\n        if (state.activeIndex === undefined) {\n            setState({ isMouseControlled: false, activeIndex: 0 })\n        } else if (state.activeIndex === 0) {\n            setState({ isMouseControlled: false, activeIndex: suggestions.length - 1 })\n        } else {\n            setState({ isMouseControlled: false, activeIndex: state.activeIndex - 1 })\n        }\n    }\n    if (event.key === 'Enter') {\n        if (!state.isMouseControlled && state.activeIndex !== undefined) {\n            event.stopPropagation()\n            onSelect(suggestions[state.activeIndex].id)\n        } else if (suggestions.length === 1) {\n            event.stopPropagation()\n            onSelect(suggestions[0].id)\n        }\n    }\n    if (event.key === 'Escape') {\n        if (!state.isMouseControlled || state.activeIndex !== undefined) {\n            setState({ isMouseControlled: true })\n        }\n    }\n}\n\nexport default function Autocomplete (props) {\n    const { className, editorRef, value, onChange, onSelect, options } = props\n\n    const [suggestions, setSuggestions] = useState([])\n\n    useEffect(() => {\n        setSuggestions(getSuggestions(options, value))\n    }, [value, options])\n\n    const [state, setState] = useState({ isMouseControlled: true })\n\n    return (\n        <StyledAutocomplete className={className} onMouseMove={() => {\n            if (state.isMouseControlled === false) {\n                setState({ isMouseControlled: true, activeIndex: state.activeIndex })\n            }\n        }}>\n            <StyledInput\n                value={value}\n                onChange={event => onChange(event.target.value)}\n                onKeyDown={event => handleKeyDown(event, state, setState, suggestions, onSelect)}\n                ref={editorRef}\n            />\n            {state.isMouseControlled\n                ? <SuggestionsWithHover>\n                    {suggestions.map(option => <Suggestion key={option.id} onClick={() => onSelect(option.id)} {...option}></Suggestion>)}\n                </SuggestionsWithHover>\n                : <Suggestions>\n                    {suggestions.map((option, index) => <Suggestion key={option.id} active={index === state.activeIndex} onClick={() => onSelect(option.id)} {...option}></Suggestion>)}\n                </Suggestions>\n            }\n        </StyledAutocomplete>\n    )\n}\n","import React from 'react'\nimport styled from 'styled-components'\nimport * as styles from 'styles'\nimport ObjectCreator from 'components/ObjectCreator'\nimport Autocomplete from 'components/Autocomplete'\nimport { recursiveSolve, stripContext } from 'utils/math'\nimport { getEquationFromUrl } from 'utils/qs'\nimport premade from 'utils/premade.json'\n\nconst StyledEditCell = styled.div`\n    position: relative;\n    display: flex;\n    flex-direction: column;\n`\n\nconst Label = styled.div`\n`\n\nconst StyledAutocomplete = styled(Autocomplete)`\n    min-height: 1.2rem;\n    input {\n        font-size: 1rem;\n        width: 202px;\n        padding-left: 4px;\n        background-color: ${styles.inputFocus};\n        outline: none;\n        height: 40px;\n    }\n`\n\nconst StyledInput = styled.input`\n    min-width: 202px;\n    width: 202px;\n    min-height: 1.2rem;\n    background-color: ${styles.inputFocus};\n    text-align: right;\n`\n\nconst Equation = styled.div`\n    position: absolute;\n    background-color: #f6f6ff;\n    left: 210px;\n    width: calc(100vw - 248px);\n    border-radius: 10px;\n    padding: 8px;\n    \n    @media (max-width:768px) {\n        left: 0px;\n        top: 45px;\n        width: calc(100vw - 28px);\n    }\n`\n\nconst EditActionBar = styled.div`\n    display: flex;\n    justify-content: space-between;\n`\n\nconst Section = styled.div`\n    display: flex;\n`\n\nconst Clickable = styled.div`\n    margin: 5px;\n    cursor: pointer;\n    color: ${styles.primaryColor};\n`\n\nfunction EditEquation (props) {\n    const {\n        editorValue,\n        editorRef,\n        onChange,\n        onKeyDown,\n        autocompleteOptions,\n        localFunctions,\n        saveNewFunction,\n        closeEditor\n    } = props\n\n    return (\n        <StyledEditCell onKeyDown={onKeyDown}>\n            <Equation>\n                <EditActionBar>\n                    <Section>\n                        <Clickable onClick={() => closeEditor()}>Save</Clickable>\n                        <Clickable onClick={() => closeEditor(false)}>Cancel</Clickable>\n                    </Section>\n                    <Section>\n                        <Clickable onClick={() => {\n                            console.log('editorValue', editorValue)\n                            saveNewFunction({\n                                name: editorValue.value,\n                                category: editorValue.category,\n                                context: editorValue.info.context,\n                                notes: editorValue.notes,\n                                text: editorValue.info.text\n                            }, localFunctions)\n                            closeEditor()\n                        }}>Make Reusable</Clickable>\n                        <Clickable onClick={() => onChange({ ...editorValue, info: recursiveSolve({ text: '' }) })}>Clear</Clickable>\n                    </Section>\n                </EditActionBar>\n                <ObjectCreator\n                    info={{ ...editorValue.info, name: editorValue.value || '' }}\n                    onContextChange={info => onChange({ ...editorValue, info: recursiveSolve({ text: info.text, context: stripContext(info.context) }) })}\n                    onCategoryChange={event => onChange({ ...editorValue, category: event.target.value })}\n                    onNotesChange={event => onChange({ ...editorValue, notes: event.target.value })}\n                />\n            </Equation>\n            <StyledAutocomplete\n                editorRef={editorRef}\n                value={editorValue.value}\n                onChange={value => onChange({ ...editorValue, value })}\n                onSelect={functionName => {\n                    let newInfo\n                    if (localFunctions[functionName] && localFunctions[functionName].url) {\n                        newInfo = getEquationFromUrl(localFunctions[functionName].url).context[functionName]\n                    } else if (localFunctions[functionName]) {\n                        newInfo = { context: localFunctions[functionName].context, text: localFunctions[functionName].text }\n                    } else if (premade[functionName]) {\n                        newInfo = getEquationFromUrl(premade[functionName].url).context[functionName]\n                    }\n                    closeEditor(true, { info: newInfo, value: functionName })\n                }}\n                options={editorValue && editorValue.info && editorValue.info.text !== '' ? [] : autocompleteOptions}\n            />\n        </StyledEditCell>\n    )\n}\n\nexport default function EditCell (props) {\n    const { label } = props\n    if (label) {\n        const { editorValue, editorRef, onChange, onKeyDown } = props\n\n        const textValue = typeof editorValue === 'object' ? editorValue.value : editorValue\n\n        return (\n            <StyledEditCell onKeyDown={onKeyDown}>\n                <Label>{label}</Label>\n                <StyledInput\n                    ref={editorRef}\n                    onChange={event => {\n                        onChange(event.target.value)\n                    }}\n                    value={textValue === undefined ? '' : textValue} />\n            </StyledEditCell>\n        )\n    } else {\n        return <EditEquation {...props} />\n    }\n}\n","import React, { useEffect, useReducer, useState } from 'react'\nimport styled from 'styled-components'\nimport * as styles from 'styles'\nimport DataGrid from 'components/DataGrid'\nimport Cell from 'components/Cell'\nimport EditCell from 'components/EditCell'\nimport { recursiveSolve, stripContext } from 'utils/math'\nimport { getLocalStorage, setLocalStorage, useLocalStorage } from 'utils/localStorage'\nimport premade from 'utils/premade.json'\n\nconst StyledSheet = styled.div`\n    min-height: 1px;\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n`\n\nconst Top = styled.div`\n    display: flex;\n    width: 100%;\n    min-height: 42px;\n    background-color: ${styles.lightGray};\n    ${'' /* box-shadow: 0px 4px 8px #888;\n    border-radius: 3px; */}\n`\n\nconst Bottom = styled.div`\n    display: flex;\n    overflow: auto;\n    flex-grow: 1;\n`\n\nconst Left = styled.div`\n    width: 200px;\n    min-width: 200px;\n`\n\nconst Label = styled.div`\n    margin-top: 4px;\n    margin-left: 8px;\n    font-size: 1.1rem;\n`\n\nconst Result = styled.div`\n    position: absolute;\n    font-size: 1.1rem;\n    top: 78px;\n    left: 150px;\n`\n\nconst RowSection = styled.div`\n    display: flex;\n    margin-left: auto;\n`\n\nconst RowButton = styled.div`\n    margin: 5px;\n    cursor: pointer;\n    color: ${styles.primaryColor};\n`\n\nexport default function Sheet (props) {\n    const [localFunctions, setLocalFunctions] = useLocalStorage({}, 'localFunctions')\n    const [dataGridEdit, setDataGridEdit] = useState({})\n    const [equationArray, dispatchEquation] = useReducer(equationReducer, { gridBody: [] })\n    const [initialSelectionCell, setInitialSelectionCell] = useState({})\n\n    useEffect(() => {\n        dispatchEquation({\n            type: 'equationInitialization',\n            equations: getLocalStorage('localEquations') || []\n        })\n    }, [])\n\n    function equationReducer (state, action) {\n        const res = {}\n        if (action.type === 'equationInitialization') {\n            res.equations = action.equations\n        } else if (action.type === 'equationUpdateCell') {\n            const { row, column, data } = action\n            const newEquations = [...state.equations]\n            if (column === 0) {\n                if (data) {\n                    newEquations[row] = data\n                } else {\n                    newEquations[row] = { value: '' }\n                }\n            } else {\n                if (!newEquations[row].localContext) {\n                    newEquations[row].localContext = {}\n                }\n                if (data === undefined || data === '') {\n                    delete newEquations[row].localContext[state.variableMap[row][column]]\n                } else {\n                    newEquations[row].localContext[state.variableMap[row][column]] = data\n                }\n            }\n            res.equations = newEquations\n        } else if (action.type === 'equationSet') {\n            const { info, row } = action\n            const newEquations = [...state.equations]\n            newEquations[row].text = info.text\n            newEquations[row].context = info.context\n            newEquations[row].category = info.category\n            newEquations[row].notes = info.notes\n            res.equations = newEquations\n        } else if (action.type === 'addRow') {\n            const newEquations = [...state.equations]\n            const index = action.index === undefined ? newEquations.length : action.index\n            res.equations = newEquations.slice(0, index).concat([{ value: '' }], newEquations.slice(index))\n        } else if (action.type === 'deleteRow') {\n            const newEquations = [...state.equations]\n            const index = action.index === undefined ? newEquations.length - 1 : action.index\n            newEquations.splice(index, 1)\n            res.equations = newEquations\n        }\n        res.equations = setEquations(res.equations)\n        Object.assign(res, { ...getGridBodyMap(res.equations) })\n        return res\n    }\n\n    function saveNewFunction (newFunction, existingFunctions) {\n        const { name, category, context, notes, text } = newFunction\n        const newFunctions = Object.assign({}, existingFunctions)\n        newFunctions[name] = {\n            category,\n            context: stripContext(context),\n            notes,\n            text,\n            date: Date.now()\n        }\n        setLocalFunctions(newFunctions)\n    }\n\n    function setEquations (equations) {\n        const newEquations = [...equations]\n        // fill with blank rows\n        if (!newEquations.length) {\n            for (let iterator = 0; iterator <= 20; iterator++) {\n                newEquations.push({ value: '' })\n            }\n        }\n        setLocalStorage('localEquations', newEquations)\n        return newEquations\n    }\n\n    function getGridBodyMap (equations) {\n        const variableMap = []\n        const sheetContext = {}\n        const gridBody = equations.map((equationObject, eqIndex) => {\n            const name = equationObject.value\n            variableMap.push([name])\n            const { text, context = {} } = equationObject.info || {}\n            const localContext = equationObject.localContext\n            const inheritedContext = Object.assign({}, sheetContext, localContext)\n            const info = recursiveSolve({ text, context: stripContext(context), inheritedContext })\n            if (!info.resolution.error) {\n                sheetContext[name] = info.resolution.solution\n            }\n            const uniqueMissingContext = info.fullMissingContext && info.fullMissingContext.reduce((prev, curr) => {\n                if (prev.includes(curr)) {\n                    return prev\n                } else {\n                    return prev.concat(curr)\n                }\n            }, [])\n            const res = [{\n                // Props passed into (edit) cell component\n                info,\n                autocompleteOptions: Object.keys(Object.assign({}, localFunctions, premade)).map(i => ({ id: i })),\n                localFunctions,\n                saveNewFunction,\n                solution: info.resolution.error\n                    ? `Missing: ${uniqueMissingContext.reduce((prev, curr) => {\n                        if (inheritedContext[curr]) {\n                            return prev\n                        } else {\n                            return prev.concat(curr)\n                        }\n                    }, []).join(', ')}`\n                    : info.resolution.solution,\n                value: name\n            }]\n            if (uniqueMissingContext) {\n                uniqueMissingContext.forEach(key => {\n                    variableMap[eqIndex].push(key)\n                    res.push({\n                        label: key,\n                        value: '' + (inheritedContext[key] || (context[key] && context[key].text)),\n                        isInherited: !localContext || !localContext[key]\n                    })\n                })\n            }\n            return res\n        })\n        return {\n            gridBody,\n            variableMap\n        }\n    }\n\n    return (\n        <StyledSheet>\n            <Top>\n                <Left>\n                    <Label>Name</Label>\n                    <Result>Value</Result>\n                </Left>\n                <RowSection>\n                    <RowButton onClick={() => dispatchEquation({ type: 'addRow', index: initialSelectionCell.row })}>Add Row</RowButton>\n                    <RowButton onClick={() => dispatchEquation({ type: 'deleteRow', index: initialSelectionCell.row })}>Delete Row</RowButton>\n                </RowSection>\n            </Top>\n            <Bottom>\n                <DataGrid\n                    editState={dataGridEdit}\n                    setEdit={editState => {\n                        if (editState.column === 0 && typeof editState.current === 'string') {\n                            const info = recursiveSolve({ text: '' })\n                            const newCurrent = {\n                                info,\n                                value: editState.current\n                            }\n                            editState.original = newCurrent\n                            editState.current = newCurrent\n                        }\n                        setDataGridEdit(editState)\n                    }}\n                    body={equationArray.gridBody}\n                    styles={{\n                        body: {\n                            edit: {\n                                borderRadius: 2,\n                                boxShadow: '0px 0px 3px 2px #CCC'\n                            },\n                            td: {\n                                borderRadius: 2,\n                                boxShadow: '0px 0px 3px 2px #CCC'\n                            }\n                        }\n                    }}\n                    initialSelectionCell={initialSelectionCell}\n                    setInitialSelectionCell={setInitialSelectionCell}\n                    highlightInitialColor={styles.lightOrange}\n                    highlightColor={styles.extraLightOrange}\n                    callback={(row, column, data) => {\n                        dispatchEquation({ type: 'equationUpdateCell', row, column, data })\n                    }}\n                    cellComponent={Cell}\n                    editComponent={EditCell}\n                    skipTabIndexes={[0]}\n                />\n            </Bottom>\n        </StyledSheet>\n    )\n}\n","import React from 'react'\nimport * as styles from 'styles'\nimport DataGrid from 'components/DataGrid'\n\nexport default function DataView (props) {\n    return <DataGrid\n        body={[[1]]}\n        styles={{\n            body: {\n                edit: {\n                    borderRadius: 2,\n                    boxShadow: '0px 0px 3px 2px #CCC'\n                },\n                td: {\n                    width: 200,\n                    borderRadius: 2,\n                    boxShadow: '0px 0px 3px 2px #CCC'\n                }\n            }\n        }}\n        highlightInitialColor={styles.lightGreen}\n        highlightColor={styles.extraLightGreen}\n    />\n}\n","import React from 'react'\nimport styled from 'styled-components'\nimport { withRouter } from 'react-router-dom'\nimport * as styles from 'styles'\n\nconst StyledHeader = styled.div`\n    background-color: ${styles.extraLightGray};\n    height: 62px;\n    min-height: 62px;\n    width: 100%;\n    display: flex;\n    flex-grow: 0 !important;\n    justify-content: space-between;\n    ${'' /* box-shadow: 0px 4px 4px #888;\n    border-radius: 6px; */}\n`\n\nconst Image = styled.img`\n    margin-left: 2px;\n    height: 60px;\n`\n\nconst AfterImage = styled.div`\n    padding-left: 10px;\n`\n\nconst TitleLink = styled.div`\n    font-family: 'Ubuntu', sans-serif;\n    font-size: 20px;\n    font-weight: bold;\n    margin-top: 20px;\n`\n\nconst LinkHome = styled.div`\n    cursor: pointer;\n    display: flex;\n`\n\nconst ImageWrapper = styled.div`\n    color: black;\n    padding-left: 10px;\n`\n\nfunction Header (props) {\n    const { history } = props\n    return (\n        <StyledHeader>\n            <LinkHome onClick={() => history.push('/')}>\n                <ImageWrapper>\n                    <Image src='favicon.ico' alt='' />\n                </ImageWrapper>\n                <AfterImage>\n                    <TitleLink>Mathite</TitleLink>\n                </AfterImage>\n            </LinkHome>\n            {props.children}\n        </StyledHeader>\n    )\n}\n\nexport default withRouter(Header)\n","import React from 'react'\nimport styled from 'styled-components'\n\nconst StyledHelp = styled.div`\n    position: fixed;\n    height: calc(100% - 64px);\n    width: 100%;\n    right: 0px;\n    top: 64px;\n    transition: top 200ms ease-in-out;\n    transition: height 200ms ease-in-out;\n    box-shadow: 0px -4px 8px #888;\n`\n\nexport default function Help (props) {\n    const { children, showHelp } = props\n    if (!showHelp) {\n        return null\n    }\n    return <StyledHelp>\n        {children}\n    </StyledHelp>\n}\n","import React from 'react'\nimport styled from 'styled-components'\nimport * as styles from 'styles'\n\nconst StyledHelpButton = styled.div`\n    color: black;\n    cursor: pointer;\n    border-radius: 30px;\n`\n\nconst StyledHelpButtonWithHover = styled.div`\n    color: black;\n    cursor: pointer;\n    border-radius: 30px;\n    ${styles.buttonHover('Help', 0)}\n`\n\nexport default function HelButton (props) {\n    if (props.hover) {\n        return (\n            <StyledHelpButtonWithHover {...props} style={{ ...props.style, backgroundColor: props.active ? styles.primaryColor : undefined }}>\n                <i className='material-icons' style={props.style}>help_outline</i>\n            </StyledHelpButtonWithHover>\n        )\n    } else {\n        return (\n            <StyledHelpButton {...props} style={{ ...props.style, backgroundColor: props.active ? styles.primaryColor : undefined }}>\n                <i className='material-icons' style={props.style}>help_outline</i>\n            </StyledHelpButton>\n        )\n    }\n}\n","import React from 'react'\nimport styled from 'styled-components'\nimport * as styles from 'styles'\nimport ignoreList from 'utils/math/ignoreList'\nimport anvil from 'icons/anvil.svg'\nimport pickaxe from 'icons/pickaxe.svg'\n// import sword from 'icons/swords.svg'\nimport crown from 'icons/crown.svg'\nimport easel from 'icons/easel.svg'\n\nconst StyledHelp = styled.div`\n    background: ${styles.extraLightGray};\n    width: 100%;\n    border-radius: 9px;\n    height: 100%;\n`\n\nconst Body = styled.div`\n    padding: 20px;\n    overflow-y: auto;\n    height: calc(100% - 88px);\n`\n\nconst Close = styled.div`\n    cursor: pointer;\n    color: black;\n    position: absolute;\n    right: 10px;\n    i {\n        margin-top: 5px;\n        font-size: 2rem;\n        border-radius: 20px;\n        :hover {\n            background: white;\n        }\n    }\n`\n\nconst IgnoreList = styled.div`\n    width: 100%;\n    display: flex;\n    flex-wrap: wrap;\n`\n\nconst Item = styled.div`\n    width: 100px;\n    padding: 4px;\n`\n\nconst Text = styled.div`\n    padding: 6px;\n`\n\nconst StyledLink = styled.div`\n    display: contents;\n    cursor: pointer;\n`\n\nconst Section = styled.div`\n    display: flex;\n    padding-bottom: 24px;\n`\n\nconst VerticalGroup = styled.div`\n    display: flex;\n    flex-direction: column;\n`\n\nconst Title = styled.div`\n    font-size: 1.4rem;\n    padding-bottom: 8px;\n`\n\nconst Line = styled.div`\n    font-size: 1rem;\n    padding-bottom: 8px;\n`\n\nexport default function HelpSheet (props) {\n    const {\n        toggleHelp\n    } = props\n    return (\n        <StyledHelp>\n            <Close onClick={toggleHelp}>\n                <i className='material-icons'>close</i>\n            </Close>\n            <Title style={{ padding: 10 }}>\n                Help\n            </Title>\n            <Body>\n                <Text>\n                    <Section>\n                        <VerticalGroup>\n                            <Line>{'Show the sections that best fit your needs throughout your workflow.'}</Line>\n                            <Line>{'Easily share work with others by sending them the url for the current equation.'}</Line>\n                        </VerticalGroup>\n                    </Section>\n                    <Section>\n                        <img src={pickaxe} alt='Material' height={40} width={40} />\n                        <VerticalGroup>\n                            <Title>{'Define Variables'}</Title>\n                            <Line>{'Dynamically generate values for all of the undefined variables in your equations to be used with the command module.'}</Line>\n                        </VerticalGroup>\n                    </Section>\n                    <Section>\n                        <img src={anvil} alt='Forge' height={40} width={40} />\n                        <VerticalGroup>\n                            <Title>{'Build Equation'}</Title>\n                            <Line>{'Any textboxes in the first section (except Notes) will be used to create and solve a math problem.'}</Line>\n                            <Line>{'Alphabetical characters will be used as variables, and will add more blank textboxes.'}</Line>\n                            <Line>{'Variables can be defined as numbers, equations, more variables or any combination.'}</Line>\n                            <Line>{'Numbers before words will be used to multiply the variable.'}</Line>\n                            <Line>{'Numbers at the end of words will be used as part of the variable name as a subscript.'}</Line>\n                            <Line>{'Operators (+-*/()) separate variables.'}</Line>\n                        </VerticalGroup>\n                    </Section>\n                    <Section>\n                        <img src={easel} alt='Review' height={40} width={40} />\n                        <VerticalGroup>\n                            <Title>{'Review'}</Title>\n                            <Line>{'Visually validate your equation.'}</Line>\n                        </VerticalGroup>\n                    </Section>\n                    <Section>\n                        <img src={crown} alt='Command' height={40} width={40} />\n                        <VerticalGroup>\n                            <Title>{'Graph'}</Title>\n                            <Line>{'Graph your equation using variables left unspecified in the Equation section.'}</Line>\n                            <Line>{'Quickly see the changes that occur as you manipulate the Defined Variables (materials).'}</Line>\n                            <Line>{'Click on the labels for different lines to show/hide.'}</Line>\n                        </VerticalGroup>\n                    </Section>\n                    <Section>\n                        <i style={{ fontSize: 40 }} className='material-icons'>search</i>\n                        <VerticalGroup>\n                            <Title>{'Search'}</Title>\n                            <Line>{'Save functions on your device.'}</Line>\n                            <Line>{\"Be specific. It's easy to save a bunch of problems and then delete them later. But names must be unique.\"}</Line>\n                            <Line>{'Search saved functions and review your notes.'}</Line>\n                            <Line>{'Add the subject or other relevant tags to the beginning of notes to make them easier to find.'}</Line>\n                            <Line>{'There are no predefined categories. You make the categories by the notes and variables you create.'}</Line>\n                            <Line>{'Try typing \"finance\" into the search and see what premade functions are already there.'}</Line>\n                        </VerticalGroup>\n                    </Section>\n                    <br />\n                    <Line>{'Functions that cannot be used as variables:'}</Line>\n                </Text>\n                <IgnoreList>\n                    {ignoreList.map(func => {\n                        return <Item key={func}>{func}</Item>\n                    })}\n                </IgnoreList>\n                <Text>\n                    <br />\n                    Checkout <StyledLink><a href='http://mathjs.org/docs/reference/functions.html' target='_blank' rel='noopener noreferrer'>http://mathjs.org/docs/reference/functions.html</a></StyledLink> for an explanation of what the builtin functions do.\n                </Text>\n            </Body>\n        </StyledHelp>\n    )\n}\n","import React from 'react'\nimport styled from 'styled-components'\nimport * as styles from 'styles'\nimport ignoreList from 'utils/math/ignoreList'\nimport anvil from 'icons/anvil.svg'\nimport pickaxe from 'icons/pickaxe.svg'\n// import sword from 'icons/swords.svg'\nimport crown from 'icons/crown.svg'\nimport easel from 'icons/easel.svg'\n\nconst StyledHelp = styled.div`\n    background: ${styles.extraLightGray};\n    width: 100%;\n    border-radius: 9px;\n    height: 100%;\n`\n\nconst Body = styled.div`\n    padding: 20px;\n    overflow-y: auto;\n    height: calc(100% - 88px);\n`\n\nconst Close = styled.div`\n    cursor: pointer;\n    color: black;\n    position: absolute;\n    right: 10px;\n    i {\n        margin-top: 5px;\n        font-size: 2rem;\n        border-radius: 20px;\n        :hover {\n            background: white;\n        }\n    }\n`\n\nconst IgnoreList = styled.div`\n    width: 100%;\n    display: flex;\n    flex-wrap: wrap;\n`\n\nconst Item = styled.div`\n    width: 100px;\n    padding: 4px;\n`\n\nconst Text = styled.div`\n    padding: 6px;\n`\n\nconst StyledLink = styled.div`\n    display: contents;\n    cursor: pointer;\n`\n\nconst Section = styled.div`\n    display: flex;\n    padding-bottom: 24px;\n`\n\nconst VerticalGroup = styled.div`\n    display: flex;\n    flex-direction: column;\n`\n\nconst Title = styled.div`\n    font-size: 1.4rem;\n    padding-bottom: 8px;\n`\n\nconst Line = styled.div`\n    font-size: 1rem;\n    padding-bottom: 8px;\n`\n\nexport default function HelpEquation (props) {\n    const {\n        toggleHelp\n    } = props\n    return (\n        <StyledHelp>\n            <Close onClick={toggleHelp}>\n                <i className='material-icons'>close</i>\n            </Close>\n            <Title style={{ padding: 10 }}>\n                Help\n            </Title>\n            <Body>\n                <Text>\n                    <Section>\n                        <VerticalGroup>\n                            <Line>{'Show the sections that best fit your needs throughout your workflow.'}</Line>\n                            <Line>{'Easily share work with others by sending them the url for the current equation.'}</Line>\n                        </VerticalGroup>\n                    </Section>\n                    <Section>\n                        <img src={pickaxe} alt='Material' height={40} width={40} />\n                        <VerticalGroup>\n                            <Title>{'Define Variables'}</Title>\n                            <Line>{'Dynamically generate values for all of the undefined variables in your equations to be used with the command module.'}</Line>\n                        </VerticalGroup>\n                    </Section>\n                    <Section>\n                        <img src={anvil} alt='Forge' height={40} width={40} />\n                        <VerticalGroup>\n                            <Title>{'Build Equation'}</Title>\n                            <Line>{'Any textboxes in the first section (except Notes) will be used to create and solve a math problem.'}</Line>\n                            <Line>{'Alphabetical characters will be used as variables, and will add more blank textboxes.'}</Line>\n                            <Line>{'Variables can be defined as numbers, equations, more variables or any combination.'}</Line>\n                            <Line>{'Numbers before words will be used to multiply the variable.'}</Line>\n                            <Line>{'Numbers at the end of words will be used as part of the variable name as a subscript.'}</Line>\n                            <Line>{'Operators (+-*/()) separate variables.'}</Line>\n                        </VerticalGroup>\n                    </Section>\n                    <Section>\n                        <img src={easel} alt='Review' height={40} width={40} />\n                        <VerticalGroup>\n                            <Title>{'Review'}</Title>\n                            <Line>{'Visually validate your equation.'}</Line>\n                        </VerticalGroup>\n                    </Section>\n                    {/* <Section>\n                        <img src={sword} alt='Wield' height={40} width={40} />\n                        <VerticalGroup>\n                            <Title>{'Wield module'}</Title>\n                        </VerticalGroup>\n                    </Section> */}\n                    <Section>\n                        <img src={crown} alt='Command' height={40} width={40} />\n                        <VerticalGroup>\n                            <Title>{'Graph'}</Title>\n                            <Line>{'Graph your equation using variables left unspecified in the Equation section.'}</Line>\n                            <Line>{'Quickly see the changes that occur as you manipulate the Defined Variables (materials).'}</Line>\n                            <Line>{'Click on the labels for different lines to show/hide.'}</Line>\n                        </VerticalGroup>\n                    </Section>\n                    <Section>\n                        <i style={{ fontSize: 40 }} className='material-icons'>search</i>\n                        <VerticalGroup>\n                            <Title>{'Search'}</Title>\n                            <Line>{'Save functions on your device.'}</Line>\n                            <Line>{\"Be specific. It's easy to save a bunch of problems and then delete them later. But names must be unique.\"}</Line>\n                            <Line>{'Search saved functions and review your notes.'}</Line>\n                            <Line>{'Add the subject or other relevant tags to the beginning of notes to make them easier to find.'}</Line>\n                            <Line>{'There are no predefined categories. You make the categories by the notes and variables you create.'}</Line>\n                            <Line>{'Try typing \"finance\" into the search and see what premade functions are already there.'}</Line>\n                        </VerticalGroup>\n                    </Section>\n                    <br />\n                    <Line>{'Functions that cannot be used as variables:'}</Line>\n                </Text>\n                <IgnoreList>\n                    {ignoreList.map(func => {\n                        return <Item key={func}>{func}</Item>\n                    })}\n                </IgnoreList>\n                <Text>\n                    <br />\n                    Checkout <StyledLink><a href=\"http://mathjs.org/docs/reference/functions.html\" target='_blank' rel='noopener noreferrer'>http://mathjs.org/docs/reference/functions.html</a></StyledLink> for an explanation of what the builtin functions do.\n                </Text>\n            </Body>\n        </StyledHelp>\n    )\n}\n","import React, { useState } from 'react'\nimport { BrowserRouter, Switch, Route } from 'react-router-dom'\nimport styled from 'styled-components'\nimport HomePage from 'views/Home'\nimport DrawView from 'views/Draw'\nimport EquationView from 'views/Equation'\nimport SheetView from 'views/Sheet'\nimport DataView from 'views/Data'\nimport Header from 'components/Header'\nimport Help from 'components/Help'\nimport HelpButton from 'components/buttons/Help'\nimport HelpSheet from 'components/HelpSheet'\nimport HelpEquation from 'components/HelpEquation'\n// import Footer from 'components/Footer'\n\n/*\n    Extra small devices\n    @media (max-width:480px) {\n    }\n    Small devices\n    @media (max-width:768px) {\n    }\n    Medium devices\n    @media (max-width:992px) {\n    }\n    Large devices\n    @media (max-width:1200px) {\n    }\n*/\n\nconst StyledApp = styled.div`\n    font-family: 'Ubuntu', sans-serif;\n    overflow: hidden;\n    height: 100vh;\n    width: 100vw;\n    display: flex;\n    flex-direction: column;\n    > div {\n        flex-grow: 1;\n    }\n\n    input {\n        font-family: 'Ubuntu', sans-serif;\n        border: none;\n    }\n`\n\nconst Menu = styled.div`\n    display: flex;\n    i {\n        font-size: 3rem;\n    }\n`\n\nconst MenuButton = styled.div`\n    padding: 5px;\n`\n\nexport default function App (props) {\n    const [showHelp, setShowHelp] = useState(false)\n\n    function toggleHelp () {\n        setShowHelp(!showHelp)\n    }\n\n    return (\n        <StyledApp>\n            <BrowserRouter>\n                <Header>\n                    <Route path='/(eq|sheet)' render={props => <Menu>\n                        <MenuButton>\n                            <HelpButton hover active={showHelp} onClick={toggleHelp} />\n                        </MenuButton>\n                    </Menu>} />\n                </Header>\n                <Switch>\n                    <Route path='/draw' render={props => <DrawView {...props} toggleHelp={toggleHelp} />}/>\n                    <Route path='/eq' render={props => <EquationView {...props} toggleHelp={toggleHelp} />}/>\n                    <Route path='/sheet' render={props => <SheetView {...props} toggleHelp={toggleHelp} />} />\n                    <Route path='/data' render={props => <DataView {...props} toggleHelp={toggleHelp} />}/>\n                    <Route path='/' render={props => <HomePage {...props} toggleHelp={toggleHelp} />}/>\n                </Switch>\n                <Help toggleHelp={toggleHelp} showHelp={showHelp}>\n                    <Switch>\n                        <Route path='/eq' render={props => <HelpEquation {...props} toggleHelp={toggleHelp} />} />\n                        <Route path='/sheet' render={props => <HelpSheet {...props} toggleHelp={toggleHelp} />} />\n                    </Switch>\n                </Help>\n                {/* <Footer /> */}\n            </BrowserRouter>\n        </StyledApp>\n    )\n}\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n    window.location.hostname === 'localhost' ||\n        // [::1] is the IPv6 localhost address.\n        window.location.hostname === '[::1]' ||\n        // 127.0.0.1/8 is considered localhost for IPv4.\n        window.location.hostname.match(\n            /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n        )\n)\n\nexport default function register () {\n    if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n        // The URL constructor is available in all browsers that support SW.\n        const publicUrl = new URL(process.env.PUBLIC_URL, window.location)\n        if (publicUrl.origin !== window.location.origin) {\n            // Our service worker won't work if PUBLIC_URL is on a different origin\n            // from what our page is served on. This might happen if a CDN is used to\n            // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n            return\n        }\n\n        window.addEventListener('load', () => {\n            const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n            if (isLocalhost) {\n                // This is running on localhost. Lets check if a service worker still exists or not.\n                checkValidServiceWorker(swUrl)\n\n                // Add some additional logging to localhost, pointing developers to the\n                // service worker/PWA documentation.\n                navigator.serviceWorker.ready.then(() => {\n                    console.log(\n                        'This web app is being served cache-first by a service ' +\n                            'worker. To learn more, visit https://goo.gl/SC7cgQ'\n                    )\n                })\n            } else {\n                // Is not local host. Just register service worker\n                registerValidSW(swUrl)\n            }\n        })\n    }\n}\n\nfunction registerValidSW (swUrl) {\n    navigator.serviceWorker\n        .register(swUrl)\n        .then(registration => {\n            registration.onupdatefound = () => {\n                const installingWorker = registration.installing\n                installingWorker.onstatechange = () => {\n                    if (installingWorker.state === 'installed') {\n                        if (navigator.serviceWorker.controller) {\n                            // At this point, the old content will have been purged and\n                            // the fresh content will have been added to the cache.\n                            // It's the perfect time to display a \"New content is\n                            // available; please refresh.\" message in your web app.\n                            console.log('New content is available; please refresh.')\n                        } else {\n                            // At this point, everything has been precached.\n                            // It's the perfect time to display a\n                            // \"Content is cached for offline use.\" message.\n                            console.log('Content is cached for offline use.')\n                        }\n                    }\n                }\n            }\n        })\n        .catch(error => {\n            console.error('Error during service worker registration:', error)\n        })\n}\n\nfunction checkValidServiceWorker (swUrl) {\n    // Check if the service worker can be found. If it can't reload the page.\n    fetch(swUrl)\n        .then(response => {\n            // Ensure service worker exists, and that we really are getting a JS file.\n            if (\n                response.status === 404 ||\n                response.headers.get('content-type').indexOf('javascript') === -1\n            ) {\n                // No service worker found. Probably a different app. Reload the page.\n                navigator.serviceWorker.ready.then(registration => {\n                    registration.unregister().then(() => {\n                        window.location.reload()\n                    })\n                })\n            } else {\n                // Service worker found. Proceed as normal.\n                registerValidSW(swUrl)\n            }\n        })\n        .catch(() => {\n            console.log(\n                'No internet connection found. App is running in offline mode.'\n            )\n        })\n}\n\nexport function unregister () {\n    if ('serviceWorker' in navigator) {\n        navigator.serviceWorker.ready.then(registration => {\n            registration.unregister()\n        })\n    }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from 'views/App'\nimport registerServiceWorker from 'utils/registerServiceWorker'\n\nReactDOM.render(\n    <App />,\n    document.getElementById('app')\n)\nregisterServiceWorker()\n","module.exports = __webpack_public_path__ + \"static/media/pickaxe.11581762.svg\";","module.exports = __webpack_public_path__ + \"static/media/anvil.1b0cd87f.svg\";","module.exports = __webpack_public_path__ + \"static/media/crown.db67bc18.svg\";","module.exports = __webpack_public_path__ + \"static/media/easel.b0e0859b.svg\";"],"sourceRoot":""}